{"version":3,"sources":["Utils/commonStyles.module.css","components/Profile/ProfileDescription/ProfileDescription.module.css","components/Navbar/FriendsList/FriendsList.module.css","redux/users-reducer.js","components/Navbar/Navbar.module.css","components/common/Preloader/preloader.module.css","components/Profile/Profile.module.css","images/user-logo.png","components/Header/Header.module.css","images/Preloader.gif","images/wallpapers/1.jpg","images/wallpapers/2.jpg","images/wallpapers/3.jpg","images/wallpapers/4.jpg","images/wallpapers/5.jpg","images/wallpapers/6.jpg","images/wallpapers/7.jpg","images/wallpapers/8.jpg","images/wallpapers/9.jpg","images/wallpapers/10.jpg","images/person-male.png","images/photo-icon.png","api/api.js","components/Dialogs/Dialogs.module.css","components/Profile/ProfileDescription/EditProfile/EditProfile.module.css","components/Navbar/LeftNavbar.jsx","components/Navbar/FriendsList/Friend/Friend.jsx","components/Navbar/FriendsList/FriendsList-container.jsx","components/Navbar/RightNavbar.jsx","components/News/News.jsx","components/Settings/Settings.jsx","components/Music/Music.jsx","redux/dialogs-reducer.js","components/Dialogs/Chats/Chats.jsx","components/Dialogs/Messages/Messages.jsx","components/common/Form-controls/Form-controls.js","components/common/Form-controls/Form-validators.js","components/Dialogs/New-message/NewMessage.jsx","components/Dialogs/Dialogs.jsx","hoc/withAuthRedirect.js","components/Dialogs/Dialogs-container.jsx","components/Profile/ProfileDescription/EditProfile/EditProfile.jsx","components/Profile/ProfileDescription/About.jsx","components/Profile/ProfileDescription/Friends.jsx","components/Profile/ProfileDescription/Photos.jsx","components/Profile/ProfileDescription/Contacts.jsx","components/Profile/ProfileDescription/Posts/Post/Post.jsx","components/Profile/ProfileDescription/Posts/NewPost/NewPost.jsx","components/Profile/ProfileDescription/Posts/Posts.jsx","components/Profile/ProfileDescription/ProfileDescription.jsx","components/Profile/ProfileHeader/ProfileMenuBar.jsx","components/Profile/wallpapers.js","components/Profile/ProfileHeader/ProfileStatus/ProfileStatus-hook.jsx","components/Profile/ProfileHeader/ProfilePhoto.jsx","components/Profile/ProfileHeader/ProfileTitle.jsx","components/Profile/ProfileHeader/ProfileHeader.jsx","components/Profile/Profile.jsx","redux/profile-reducer.js","components/Profile/Profile-container.js","components/Header/UserMenu.jsx","components/Header/Search.jsx","components/Header/Header.jsx","redux/auth-reducer.js","components/Header/Header-container.js","components/Login/Login.jsx","redux/app-reducer.js","components/Footer/Footer.jsx","App.js","hoc/withSuspense.js","redux/sidebar-reducer.js","redux/redux-store.js","index.js","components/common/Preloader/Preloader.jsx","components/Login/login.module.css","components/common/Form-controls/Form-controls.module.css","Utils/Array-changers.js"],"names":["module","exports","initialState","users","friends","usersTotalCount","currentPage","pageSize","term","paginationButtonsCount","isFetching","followingUsers","followSuccess","userId","type","unfollowSuccess","setUsers","setFriends","setTerm","setCurrentPage","togglePreloader","toggleFollowingButton","getUsers","dispatch","a","usersAPI","getUsersFromServer","data","items","totalCount","getFriends","filter","user","followed","showMoreUsers","follow","followAPI","resultCode","unfollow","onPageChanged","pageNumber","pageCount","usersReducer","state","action","changeValuesInArray","some","concat","apiInstance","axios","baseURL","withCredentials","headers","profileAPI","getProfile","get","then","response","setProfile","profile","put","getStatus","profileId","updateStatus","status","uploadPhoto","photoFile","formData","FormData","append","page","count","usersData","post","delete","authAPI","auth","login","email","password","rememberMe","captcha","logout","getCaptcha","LeftNavbar","props","className","classes","left","navbar","item","to","activeClassName","active","Icon","icon","name","Friend","photo","friendName","id","children","friend","title","src","userLogo","alt","FriendsListContainer","connect","usersPage","useEffect","friendsList","map","photos","small","key","randomFriends","getRandomArr","RightNavbar","right","News","Settings","Music","dialogs","messages","text","direction","dialogsReducer","newMessage","newMessageText","length","Chats","dialog","buddy","dialogImage","buddies","Messages","endOfMessages","useRef","current","scrollIntoView","messagesContainer","message","from","ref","FormControl","meta","hasError","error","touched","formControl","errorMessage","Textarea","input","innerText","restProps","wideTextarea","Input","wideInput","required","undefined","maxLength","isWebSite","includes","indexOf","maxLength50","NewMessageRedux","reduxForm","form","onSubmit","handleSubmit","Field","component","validate","disabled","valid","send","Dialogs","chat","sendMessage","reset","mapStateToPropsForRedirect","isAuth","compose","messagesPage","Component","updatingProfileInProcess","isOwner","useState","lookingForAJob","setLookingForAJob","contacts","Object","keys","contact","profileForm","shortInput","placeholder","formRow","semiBold","bigCheckbox","checked","onChange","e","aboutMe","bottomSection","updateFetching","Preloader","buttons","styles","button","onClick","About","cn","descriptionBlock","about","smallTitle","lookingForAJobDescription","console","log","friendsArr","friendsBlock","Photos","Contacts","profileContacts","href","target","Post","postText","defaultPicture","postInfo","likesCount","maxLength100","newPost","sendButton","Posts","posts","reverse","myPosts","addPost","newPostText","ProfileDescription","updatingProfile","updateProfile","initialValues","description","ProfileMenuBar","profileMenuBar","profileMenuOption","divider","wallpapers","w1","w2","w3","w4","w5","w6","w7","w8","w9","w10","ProfileStatus","editMode","setEditMode","setStatus","autoFocus","value","onBlur","currentTarget","ProfilePhoto","uploadingPhoto","savePhoto","ava","bluredPhoto","large","user_logo","photoIcon","files","invisibleInput","ProfileTitle","wallpaper","Math","floor","random","userPreview","fullName","ProfileHeader","profileHeader","Profile","info","fetching","toggleUpdating","updating","profileReducer","ProfileContainer","this","match","params","userID","me","history","push","setState","getProfileWithStatus","refreshProfile","prevProps","React","profilePage","parseErrorObject","errors","errorsObject","forEach","element","errorInArray","split","lastElement","search","slice","toLowerCase","substring","stopSubmit","withRouter","UserMenu","trigger","dropdownMenu","Image","avatar","options","menuTitle","content","option","Dropdown","floating","menuContainer","searchBar","onKeyDown","keyCode","searchField","iconContainer","searchIcon","Header","header","horizontalBar","logo","setUserData","payload","setUserInfo","setCaptchaPicture","toggleIsFetching","url","authReducer","HeaderContainer","maxLength30","LoginReduxForm","loginForm","labelForCheckbox","checkbox","defaultValue","buttonStyles","resetSection","_error","loginPage","INITIALIZE_SUCCESS","initialized","Footer","footer","UsersContainer","lazy","App","initializing","exact","path","render","Suspense","fallback","app","sidebarReducer","reducers","combineReducers","sidebar","formReducer","newState","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","createStore","applyMiddleware","thunkMiddleware","document","getElementById","preloader","image","array","paramSearched","searchedValue","paramToChange","valueToChange","obj","arr","elementsCount","arrToChange","resultArr","i","randomIndex","splice"],"mappings":"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","file":"static/js/main.9119f623.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"commonStyles_button__33N1P\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"description\":\"ProfileDescription_description__1QKl0\",\"descriptionBlock\":\"ProfileDescription_descriptionBlock__3P2a8\",\"title\":\"ProfileDescription_title__m5q96\",\"text\":\"ProfileDescription_text__f-rgZ\",\"smallTitle\":\"ProfileDescription_smallTitle__afrL5\",\"user\":\"ProfileDescription_user__1r7_5\",\"postText\":\"ProfileDescription_postText__3gRFx\",\"postInfo\":\"ProfileDescription_postInfo__3OKpI\",\"friendsBlock\":\"ProfileDescription_friendsBlock__dQXvs\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userLogo\":\"FriendsList_userLogo__38BfW\",\"friendsList\":\"FriendsList_friendsList__VnwcF\",\"friend\":\"FriendsList_friend__mZblD\"};","import { followAPI, usersAPI } from './../api/api';\r\nimport { changeValuesInArray } from './../Utils/Array-changers';\r\n\r\nconst initialState = {\r\n    users: [],\r\n    friends: [],\r\n    usersTotalCount: 0,\r\n    currentPage: 1,\r\n    pageSize: 100,\r\n    term: 'al',\r\n    paginationButtonsCount: 10,\r\n    isFetching: false,\r\n    followingUsers: []\r\n}\r\n\r\nconst FOLLOW_SUCCESS = 'FOLLOW';\r\nconst UNFOLLOW_SUCCESS = 'UNFOLLOW';\r\nconst SET_USERS = 'SET-USERS';\r\nconst SET_FRIENDS = 'SET_FRIENDS';\r\nconst SET_TERM = 'SET_TERM';\r\nconst INCREASE_PAGE_SIZE = 'INCREASE-PAGE-SIZE';\r\nconst SET_CURRENT_PAGE = 'SET-CURRENT-PAGE';\r\nconst SET_USERS_TOTAL_COUNT = 'SET-USERS-TOTAL-COUNT';\r\nconst TOGGLE_PRELOADER = 'TOGGLE-PRELOADER';\r\nconst TOGGLE_FOLLOWING_BUTTON = 'TOGGLE_FOLLOWING_BUTTON'\r\n\r\nlet usersReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case FOLLOW_SUCCESS:\r\n            return { ...state, users: changeValuesInArray(state.users, 'id', action.userId, 'followed', true) }\r\n        case UNFOLLOW_SUCCESS:\r\n            return { ...state, users: changeValuesInArray(state.users, 'id', action.userId, 'followed', false) }\r\n        case INCREASE_PAGE_SIZE:\r\n            return { ...state, pageSize: state.pageSize + 5 };\r\n        case SET_CURRENT_PAGE:\r\n            return { ...state, currentPage: action.currentPage };\r\n        case SET_USERS_TOTAL_COUNT:\r\n            return { ...state, usersTotalCount: action.usersTotalCount };\r\n        case SET_USERS:\r\n            return { ...state, users: [...action.users] };\r\n        case SET_FRIENDS:\r\n            return { ...state, friends: [...action.friends] };\r\n        case SET_TERM:\r\n            return { ...state, term: action.term };\r\n        case TOGGLE_PRELOADER:\r\n            return { ...state, isFetching: action.isFetching ? true : false };\r\n        case TOGGLE_FOLLOWING_BUTTON:\r\n            return {\r\n                ...state, followingUsers: state.followingUsers.some((user) => user === action.userId)\r\n                    ? state.followingUsers.filter(user => user !== action.userId)\r\n                    : state.followingUsers.concat(action.userId)\r\n            };\r\n        default: return { ...state };\r\n    }\r\n}\r\n//Action creators\r\nexport const followSuccess = (userId) => { return { type: 'FOLLOW', userId } };\r\nexport const unfollowSuccess = (userId) => { return { type: 'UNFOLLOW', userId } };\r\nexport const setUsers = (users) => { return { type: 'SET-USERS', users } };\r\nexport const setFriends = (friends) => { return { type: 'SET_FRIENDS', friends } };\r\nexport const setTerm = (term) => { return { type: 'SET_TERM', term } };\r\nexport const increasePageSize = () => { return { type: 'INCREASE-PAGE-SIZE' } };\r\nexport const setCurrentPage = (currentPage) => { return { type: 'SET-CURRENT-PAGE', currentPage } };\r\nexport const setUsersTotalCount = (usersTotalCount) => { return { type: 'SET-USERS-TOTAL-COUNT', usersTotalCount } };\r\nexport const togglePreloader = (isFetching) => { return { type: 'TOGGLE-PRELOADER', isFetching } };\r\nexport const toggleFollowingButton = (userId) => { return { type: 'TOGGLE_FOLLOWING_BUTTON', userId } };\r\n\r\n//Thunk creators\r\n\r\nexport const getUsers = (currentPage, pageSize, term) => {\r\n    return async (dispatch) => {\r\n        dispatch(togglePreloader(true));\r\n        let data = await usersAPI.getUsersFromServer(currentPage, pageSize, term)\r\n        dispatch(setUsers(data.items));\r\n        dispatch(setUsersTotalCount(data.totalCount));\r\n        dispatch(togglePreloader(false));\r\n    }\r\n}\r\nexport const getFriends = (currentPage, pageSize, term) => {\r\n    return async (dispatch) => {\r\n        let data = await usersAPI.getUsersFromServer(currentPage, pageSize, term)\r\n        let friends = data.items.filter((user) => user.followed);\r\n        dispatch(setFriends(friends));\r\n        \r\n    }\r\n}\r\nexport const showMoreUsers = (pageSize) => {\r\n    return async (dispatch) => {\r\n        dispatch(togglePreloader(true));\r\n        dispatch(increasePageSize());\r\n        let data = await usersAPI.getUsersFromServer(1, pageSize + 5)\r\n        dispatch(setUsers(data.items));\r\n        dispatch(togglePreloader(false));\r\n    }\r\n}\r\nexport const follow = (userId) => {\r\n    return async (dispatch) => {\r\n        dispatch(toggleFollowingButton(userId));\r\n        let data = await followAPI.follow(userId);\r\n        if (data.resultCode === 0) {\r\n            dispatch(followSuccess(userId));\r\n            dispatch(toggleFollowingButton(userId));\r\n        }\r\n    }\r\n}\r\nexport const unfollow = (userId) => {\r\n    return async (dispatch) => {\r\n        dispatch(toggleFollowingButton(userId));\r\n        let data = await followAPI.unfollow(userId);\r\n        if (data.resultCode === 0) {\r\n            dispatch(unfollowSuccess(userId));\r\n            dispatch(toggleFollowingButton(userId));\r\n        }\r\n    }\r\n}\r\nexport const onPageChanged = (pageNumber, pageCount, term) => async (dispatch) => {\r\n    dispatch (togglePreloader(true));\r\n    let data = await usersAPI.getUsersFromServer(pageNumber, pageCount, term);\r\n    dispatch(setUsers(data.items));\r\n    dispatch(setCurrentPage(pageNumber));\r\n    dispatch (togglePreloader(false));\r\n\r\n}\r\n\r\nexport default usersReducer;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"left\":\"Navbar_left__Ylda7\",\"right\":\"Navbar_right__3dbeI\",\"navbar\":\"Navbar_navbar__2IowR\",\"item\":\"Navbar_item__34HwD\",\"icon\":\"Navbar_icon__l7YSR\",\"active\":\"Navbar_active__3Pspa\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"image\":\"preloader_image__3BlKC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"status\":\"Profile_status__3D7TO\",\"photoIcon\":\"Profile_photoIcon__3igOK\",\"invisibleInput\":\"Profile_invisibleInput__2vIv9\",\"profileHeader\":\"Profile_profileHeader__thYNt\",\"wallpaper\":\"Profile_wallpaper__2TLd2\",\"ava\":\"Profile_ava__1r20P\",\"userPreview\":\"Profile_userPreview__398v2\",\"fullName\":\"Profile_fullName__ZvLfE\",\"bluredPhoto\":\"Profile_bluredPhoto__1dji_\",\"profileMenuBar\":\"Profile_profileMenuBar__9KYyk\",\"profileMenuOption\":\"Profile_profileMenuOption__voyxF\",\"divider\":\"Profile_divider__Zkof6\"};","module.exports = __webpack_public_path__ + \"static/media/user-logo.18914f1c.png\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dropdownMenu\":\"Header_dropdownMenu__3KXdt\",\"menuContainer\":\"Header_menuContainer__KkeZw\",\"option\":\"Header_option__1bQce\",\"menuTitle\":\"Header_menuTitle__3FTnD\",\"horizontalBar\":\"Header_horizontalBar__1Fsq6\",\"header\":\"Header_header__6mOs8\",\"footer\":\"Header_footer__AHvJ1\",\"logo\":\"Header_logo__2QIV9\",\"userInfo\":\"Header_userInfo__2btRr\",\"user\":\"Header_user__1U36Y\",\"login\":\"Header_login__gMwit\",\"logOut\":\"Header_logOut__Wr40Z\",\"searchBar\":\"Header_searchBar__2kb71\",\"searchField\":\"Header_searchField__1MzpJ\",\"iconContainer\":\"Header_iconContainer__2Rc5z\",\"searchIcon\":\"Header_searchIcon__8woWs\"};","module.exports = __webpack_public_path__ + \"static/media/Preloader.3998908d.gif\";","module.exports = __webpack_public_path__ + \"static/media/1.4a66d64e.jpg\";","module.exports = __webpack_public_path__ + \"static/media/2.de380ab1.jpg\";","module.exports = __webpack_public_path__ + \"static/media/3.3987a05d.jpg\";","module.exports = __webpack_public_path__ + \"static/media/4.3221c1c0.jpg\";","module.exports = __webpack_public_path__ + \"static/media/5.c66e3330.jpg\";","module.exports = __webpack_public_path__ + \"static/media/6.b58aee8b.jpg\";","module.exports = __webpack_public_path__ + \"static/media/7.4f710739.jpg\";","module.exports = __webpack_public_path__ + \"static/media/8.0848863e.jpg\";","module.exports = __webpack_public_path__ + \"static/media/9.77ca511b.jpg\";","module.exports = __webpack_public_path__ + \"static/media/10.5f8be0b5.jpg\";","module.exports = __webpack_public_path__ + \"static/media/person-male.77a337e5.png\";","module.exports = __webpack_public_path__ + \"static/media/photo-icon.7b4465c4.png\";","import * as axios from 'axios';\r\n\r\nconst apiInstance = axios.create ({\r\n    baseURL : 'https://social-network.samuraijs.com/api/1.0/',\r\n    withCredentials: true,\r\n    headers: {\r\n        'API-KEY' : '1500a81d-951a-4b37-975e-19522be74bca'\r\n    }\r\n})\r\n\r\nexport const profileAPI = {\r\n    getProfile (userId) {\r\n        return apiInstance.get('profile/' + userId).then(response => response.data);\r\n    },\r\n    setProfile (profile) {\r\n        return apiInstance.put('profile', profile).then(response => response.data);\r\n    },\r\n    getStatus (profileId) {\r\n        return apiInstance.get('profile/status/' + profileId).then(response => response.data);\r\n    },\r\n    updateStatus (status) {\r\n        return apiInstance.put('profile/status', {status}).then(response => response.data);\r\n    },\r\n    uploadPhoto (photoFile) {\r\n        const formData = new FormData();\r\n        formData.append(\"image\", photoFile);\r\n        return apiInstance.put('profile/photo', formData, {headers: {\r\n            'Content-Type': 'multipart/form-data'\r\n          }}).then(response => response.data)\r\n    }\r\n}\r\n\r\nexport const usersAPI = {\r\n    getUsersFromServer (page = 1, count = 5, term = '') {\r\n        let usersData = apiInstance.get('users?page=' + page + '&count=' + count + '&term=' + term).then(response => response.data);\r\n        return usersData;\r\n    }\r\n}\r\n\r\nexport const followAPI = {\r\n    follow (userId) {\r\n        let follow = apiInstance.post('follow/' + userId).then(response => response.data);\r\n        return follow;\r\n    },\r\n    unfollow (userId) {\r\n        let unfollow = apiInstance.delete('follow/' + userId).then(response => response.data);\r\n        return unfollow;\r\n    }\r\n}\r\n\r\nexport const authAPI = {\r\n    auth () {\r\n        return apiInstance.get('auth/me').then(response => response.data)\r\n    },\r\n    login (email, password, rememberMe, captcha) {\r\n        return apiInstance.post('auth/login', {email, password, rememberMe, captcha}).then(response => response.data)\r\n    },\r\n    logout () {\r\n        return apiInstance.delete('auth/login').then(response => response.data)\r\n    },\r\n    getCaptcha () {\r\n        return apiInstance.get('security/get-captcha-url').then(response => response.data);\r\n    }\r\n}\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"Dialogs_dialogs__paPYd\",\"buddies\":\"Dialogs_buddies__oAGuY\",\"buddy\":\"Dialogs_buddy__1uIDn\",\"messagesContainer\":\"Dialogs_messagesContainer__3prAn\",\"messages\":\"Dialogs_messages__1358W\",\"message\":\"Dialogs_message__3on-B\",\"active\":\"Dialogs_active__3FMLt\",\"to\":\"Dialogs_to__3lZt1\",\"from\":\"Dialogs_from__3fDkO\",\"dialogImage\":\"Dialogs_dialogImage__3vGAn\",\"newMessage\":\"Dialogs_newMessage__3JgDu\",\"newMessageText\":\"Dialogs_newMessageText__279Mb\",\"send\":\"Dialogs_send__2m5EZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profileForm\":\"EditProfile_profileForm__3rtCR\",\"contacts\":\"EditProfile_contacts__2GaV9\",\"contact\":\"EditProfile_contact__2JPgL\",\"formRow\":\"EditProfile_formRow__3-UE-\",\"shortInput\":\"EditProfile_shortInput__BCOIr\",\"aboutMe\":\"EditProfile_aboutMe__3Cy1y\",\"buttons\":\"EditProfile_buttons__2uEP0\",\"bottomSection\":\"EditProfile_bottomSection__29LD7\",\"bigCheckbox\":\"EditProfile_bigCheckbox__2Q7N3\"};","import React from 'react';\r\nimport classes from './Navbar.module.css';\r\nimport { NavLink } from 'react-router-dom';\r\nimport { Icon } from 'semantic-ui-react';\r\n\r\nconst LeftNavbar = (props) => {\r\n    return (\r\n        <nav className={classes.left + ' ' + classes.navbar}>\r\n            <div className={`${classes.item}`}>\r\n                <NavLink to=\"/profile\" activeClassName={classes.active}><Icon className={classes.icon} name=\"user outline\"/></NavLink>\r\n            </div>\r\n            <div className={classes.item}>\r\n                <NavLink to=\"/dialogs\" activeClassName={classes.active}><Icon className={classes.icon} name=\"wechat\"/></NavLink>\r\n            </div>\r\n            <div className={classes.item}>\r\n                <NavLink to=\"/news\" activeClassName={classes.active}><Icon className={classes.icon} name=\"newspaper outline\"/></NavLink>\r\n            </div>\r\n            <div className={classes.item}>\r\n                <NavLink to=\"/music\" activeClassName={classes.active}><Icon className={classes.icon} name=\"music\"/></NavLink>\r\n            </div>\r\n            <div className={classes.item}>\r\n                <NavLink to=\"/settings\" activeClassName={classes.active}><Icon className={classes.icon} name=\"settings\"/></NavLink>\r\n            </div>\r\n            <div className={classes.item}>\r\n                <NavLink to=\"/users\" activeClassName={classes.active}><Icon className={classes.icon} name=\"users\"/></NavLink>\r\n            </div>\r\n        </nav>\r\n    );\r\n}\r\n\r\nexport default LeftNavbar;","import React from 'react';\r\nimport classes from './../FriendsList.module.css';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nconst Friend = ({photo, friendName, id, children}) => {\r\n    return (\r\n        <div className={classes.friend}>\r\n            <NavLink to={'/profile/' + id } title={friendName}><img src={photo} className={classes.userLogo} alt=''/> {children}</NavLink>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Friend;","import React, { useEffect } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport classes from './FriendsList.module.css';\r\nimport Friend from './Friend/Friend';\r\nimport {getFriends} from '../../../redux/users-reducer'\r\nimport { getRandomArr } from '../../../Utils/Array-changers';\r\n\r\nconst FriendsList = ({friends, getFriends}) => {\r\n    useEffect (()=> {\r\n        getFriends(1, 100, 'ale');\r\n    }, [getFriends])\r\n    let friendsList = friends.map (friend =>\r\n    <Friend friendName={friend.name} photo={friend.photos.small} key={friend.id} id = {friend.id}/>);\r\n\r\n    let randomFriends = getRandomArr(friendsList, 8);\r\n    return (\r\n        <div>\r\n            <div className={classes.friendsList}>\r\n                {randomFriends}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        friends: state.usersPage.friends\r\n    }\r\n}\r\n\r\nconst FriendsListContainer = connect(mapStateToProps, {getFriends})(FriendsList);\r\n\r\nexport default FriendsListContainer;","import React from 'react';\r\nimport classes from './Navbar.module.css';\r\nimport FriendsListContainer from './FriendsList/FriendsList-container';\r\n\r\nconst RightNavbar = (props) => {\r\n    return (\r\n        <nav className={classes.right + ' ' + classes.navbar}>\r\n            <FriendsListContainer/>\r\n        </nav>\r\n    );\r\n}\r\n\r\n\r\nexport default RightNavbar;","import React from 'react';\r\n\r\nconst News = () => {\r\n    return (\r\n        <div>\r\n            News\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default News;","import React from 'react';\r\n\r\nconst Settings = () => {\r\n    return (\r\n        <div>\r\n            Settings\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Settings;","import React from 'react';\r\n\r\nconst Music = () => {\r\n    return (\r\n        <div>\r\n            Music\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Music;","const send_message = 'SEND-MESSAGE';\r\n\r\nexport const sendMessage = (newMessageText) => ({type: send_message, newMessageText});\r\n\r\nconst initialState = {\r\n    dialogs:\r\n        [{ name: \"Max\", id: 1 },\r\n        { name: \"Tanchita\", id: 2 },\r\n        { name: \"Yura\", id: 3 },\r\n        { name: \"Sanek\", id: 4 },\r\n        { name: \"Dan\", id: 5 },\r\n        { name: \"Krista\", id: 6 }],\r\n    messages:\r\n        [{ text: \"Hey, man!\", id: 1, direction: 'from' },\r\n        { text: \"How are you?\", id: 2, direction: 'from' },\r\n        { text: \"Hey! I'm fine. Let's meet today!\", id: 3, direction: 'to' },\r\n        { text: \"How about 8 o'clock?\", id: 4, direction: 'from' },\r\n        { text: \"Ok, great!\", id: 5, direction: 'to' },\r\n        { text: \"See you tomorrow!\", id: 6, direction: 'to' },\r\n        { text: \"Don't forget you umbrella, it's gonna be rainy tomorrow:(\", id: 7, direction: 'from' },\r\n        { text: \"Sure)\", id: 8, direction: 'to' },\r\n        { text: \"You too!\", id: 9, direction: 'to' },\r\n    ]\r\n};\r\nconst dialogsReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case send_message :\r\n            let newMessage = {\r\n                text: action.newMessageText, id: state.messages[state.messages.length - 1].id + 1, direction: 'to'\r\n            }\r\n            return {...state,\r\n                        messages: [...state.messages, newMessage]};\r\n        default: return state;\r\n    }\r\n}\r\n\r\nexport default dialogsReducer;","import React from 'react';\r\nimport classes from './../Dialogs.module.css';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nconst Chats = (props) => {\r\n    let dialogs = props.dialogs.map ( dialog => (<div className={classes.buddy} key={dialog.id}>\r\n        <div className={classes.dialogImage}></div>\r\n        <NavLink to={\"/dialogs/\" + dialog.id} activeClassName={classes.active}>{dialog.name}</NavLink>\r\n    </div>));\r\n    return (\r\n        <div className={classes.buddies}>\r\n            {dialogs}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Chats;","import React from 'react';\r\nimport { useEffect } from 'react';\r\nimport { useRef } from 'react';\r\nimport classes from './../Dialogs.module.css';\r\n\r\nconst Messages = ({ messages }) => {\r\n    let endOfMessages = useRef(null);\r\n    const scrollToBottom = () => {\r\n        endOfMessages.current.scrollIntoView(false);\r\n    }\r\n    useEffect(() => {scrollToBottom()}, [messages, endOfMessages]);\r\n    return (\r\n        <div className={classes.messagesContainer}>\r\n            <div className={classes.messages}>\r\n                {messages.map(message =>\r\n\r\n                    <div key={message.id} className={classes.message + ' ' + (message.direction === 'from' ? classes.from : classes.to)}>\r\n                        {message.text}\r\n                    </div>)}\r\n\r\n                <div ref={endOfMessages}/>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Messages;","import React from 'react';\r\nimport classes from './Form-controls.module.css';\r\n\r\nconst FormControl = ({meta, children}) => {\r\n    const hasError = meta.error && meta.touched;\r\n    return (\r\n        <div className={classes.formControl + ' ' + (hasError && classes.hasError)}>\r\n            {children}\r\n            <span className={classes.errorMessage}>{hasError && meta.error}</span>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport const Textarea = (props) => {\r\n    const {input, meta, innerText, ...restProps} = props;\r\n    return (\r\n        <FormControl {...props}> <span className={classes.innerText}>{innerText}</span>\r\n        <textarea className={!!innerText && classes.wideTextarea} {...input} {...restProps}/> </FormControl>\r\n    )\r\n}\r\nexport const Input = (props) => {\r\n    const {input, meta, innerText, ...restProps} = props;\r\n    return (\r\n        <FormControl {...props}> <span className={classes.innerText}>{innerText}</span>\r\n        <input className={!!innerText && classes.wideInput}{...input} {...restProps}/> </FormControl>\r\n    )\r\n}\r\n","export const required = (data) => {\r\n    return data ? undefined : 'Field is required';\r\n}\r\nexport const maxLength = (length) => {\r\n    return ((data) => {\r\n        return !data ? undefined\r\n        : data.length > length ? `Max length is ${length} symbols` : undefined\r\n    })\r\n}\r\nexport const isWebSite = (data) => {\r\n    if (!data) return undefined;\r\n    return ((data.includes('https://') || data.includes('http://')) && data.indexOf('.') > 8 && data.indexOf('.') < data.length - 2) ? undefined : 'Incorrect website name';\r\n}","import React from 'react';\r\nimport { Field, reduxForm } from 'redux-form';\r\nimport classes from '../Dialogs.module.css';\r\nimport { Textarea } from './../../common/Form-controls/Form-controls';\r\nimport { required, maxLength } from './../../common/Form-controls/Form-validators';\r\n\r\nconst maxLength50 = maxLength (50);\r\n\r\nconst NewMessage = (props) => {\r\n    return (\r\n        <form onSubmit={props.handleSubmit} className={classes.newMessage}>\r\n            <Field component={Textarea} className={classes.newMessageText} name=\"newMessageText\" validate={[required, maxLength50]}/>\r\n            <button disabled={!props.valid} className={classes.send} type=\"submit\">Send</button>\r\n        </form>\r\n    )\r\n}\r\n\r\nconst NewMessageRedux = reduxForm({form: \"newMessageForm\"})(NewMessage);\r\n\r\nexport default NewMessageRedux;","import React from 'react';\r\nimport classes from './Dialogs.module.css';\r\nimport Chats from './Chats/Chats';\r\nimport Messages from './Messages/Messages';\r\nimport NewMessageRedux from './New-message/NewMessage';\r\n\r\nconst Dialogs = (props) => {\r\n    \r\n    return (\r\n        <div className={classes.dialogs}>\r\n            <Chats dialogs={props.dialogs} />\r\n            <div className={classes.chat}>\r\n                <Messages messages={props.messages} />\r\n                <NewMessageRedux onSubmit={(data) => {props.sendMessage(data.newMessageText); props.reset('newMessageForm')}}/>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Dialogs;","import React from 'react';\r\nimport { Redirect } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\n\r\nlet mapStateToPropsForRedirect = (state) => {\r\n    return {isAuth: state.auth.isAuth}\r\n}\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n    let RedirectComponent = (props) => {\r\n        if (!props.isAuth) {return <Redirect to='/login'/>;}\r\n        return <Component {...props} />\r\n        }\r\n    let ConnectedRedirectComponent = connect (mapStateToPropsForRedirect)(RedirectComponent);\r\n    return ConnectedRedirectComponent;\r\n}","import { sendMessage } from '../../redux/dialogs-reducer';\r\nimport Dialogs from './Dialogs';\r\nimport { connect } from 'react-redux';\r\nimport { withAuthRedirect } from '../../hoc/withAuthRedirect';\r\nimport { compose } from 'redux';\r\nimport { reset } from 'redux-form';\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        dialogs: state.messagesPage.dialogs,\r\n        messages: state.messagesPage.messages\r\n    }\r\n}\r\n\r\nexport default compose(connect(mapStateToProps, {sendMessage, reset}), withAuthRedirect)(Dialogs);","import React from 'react';\r\nimport { reduxForm, Field } from 'redux-form';\r\nimport classes from './EditProfile.module.css';\r\nimport styles from '../../../../Utils/commonStyles.module.css'\r\nimport { useState, useEffect } from 'react';\r\nimport { isWebSite } from '../../../common/Form-controls/Form-validators';\r\nimport Preloader from '../../../common/Preloader/Preloader';\r\nimport { Input, Textarea } from '../../../common/Form-controls/Form-controls';\r\n\r\nconst EditProfile = ({ profile, updatingProfileInProcess, handleSubmit, isOwner, ...props }) => {\r\n    \r\n    let [lookingForAJob, setLookingForAJob] = useState(true);\r\n    useEffect(() => {setLookingForAJob(profile.lookingForAJob)}, [profile.lookingForAJob])\r\n    useEffect(() => {\r\n        !isOwner && updatingProfileInProcess(false);\r\n    }, [isOwner, updatingProfileInProcess])\r\n    let contacts = Object.keys(profile.contacts).map(contact => <div key={contact} className={classes.contact}>\r\n    <Field innerText={contact} name={\"contacts.\" + contact} component={Input} validate={[isWebSite]} /></div>)\r\n    \r\n    return (\r\n        <form className={classes.profileForm} onSubmit={handleSubmit}>\r\n            <div>{props.error && props.error}</div>\r\n            <div className={classes.shortInput}><Field innerText=\"Full name\" name=\"fullName\" component={Input} placeholder=\"Your name\"/> </div>\r\n\r\n            <div className={classes.formRow}><span className={classes.semiBold}>Looking for a job: </span>\r\n            <Field className={classes.bigCheckbox} name=\"lookingForAJob\" checked={lookingForAJob} onChange={(e)=>{ setLookingForAJob(!lookingForAJob)}}\r\n            component={Input} type=\"checkbox\"/> </div>\r\n\r\n            <div className={classes.shortInput}><Field disabled={!lookingForAJob} innerText=\"Professional skills\" name=\"lookingForAJobDescription\"\r\n             component={Input} placeholder=\"Your professional skills\"/></div>\r\n\r\n            <div className={classes.aboutMe}><Field innerText=\"About me\" name=\"aboutMe\" component={Textarea}/></div>\r\n            <div><span className={classes.semiBold}>Contacts:</span></div>\r\n            <div className={classes.contacts}>{contacts}</div>\r\n            \r\n            <div className={classes.bottomSection}>\r\n            {props.updateFetching \r\n            ? <Preloader />\r\n            :\r\n                <div className={classes.buttons}>\r\n                    <button className={styles.button} type=\"submit\">Save</button>\r\n                    <button className={styles.button} onClick={()=>{updatingProfileInProcess(false)}} type=\"button\">Cancel</button>\r\n                </div>\r\n            }\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default reduxForm({ form: 'edit-profile' })(EditProfile);","import React from 'react';\r\nimport classes from './ProfileDescription.module.css'\r\nimport cn from 'classnames';\r\n\r\nconst About = ({profile}) => {\r\n    return (\r\n        <div className={cn(classes.descriptionBlock, classes.about)}>\r\n            <h1 className={classes.title}>Information:</h1>\r\n            {profile.lookingForAJob &&<p className={classes.text}><span className={classes.smallTitle}>Professional skills: </span>{profile.lookingForAJobDescription}</p>}\r\n            <p className={classes.text}><span className={classes.smallTitle}>About me:</span> {profile.aboutMe}</p>\r\n        </div>\r\n    )\r\n}\r\nexport default About;","import React from 'react';\r\nimport classes from './ProfileDescription.module.css'\r\nimport cn from 'classnames';\r\nimport { getRandomArr } from '../../../Utils/Array-changers';\r\nimport Friend from './../../Navbar/FriendsList/Friend/Friend';\r\nimport { connect } from 'react-redux';\r\n\r\nconst Friends = ({friends}) => {\r\n    let randomFriends = getRandomArr(friends, 8);\r\n    console.log(randomFriends);\r\n    let friendsArr = randomFriends.map(friend => {\r\n    return <Friend photo={friend[0].photos.small} key={friend[0].id} id = {friend[0].id}><div>{friend[0].name}</div></Friend>\r\n    })\r\n    return (\r\n        <div className={cn(classes.descriptionBlock, classes.friends)}>\r\n            <h1 className={classes.title}>Friends:</h1>\r\n            <div className={classes.friendsBlock}>\r\n                {friendsArr}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\nexport default connect((state) => ({friends: state.usersPage.friends}))(Friends);","import React from 'react';\r\nimport classes from './ProfileDescription.module.css';\r\nimport cn from 'classnames';\r\n\r\nconst Photos = () => {\r\n    return (\r\n        <div className={cn(classes.descriptionBlock, classes.photos)}>\r\n            <h1 className={classes.title}>Album:</h1>\r\n            \r\n        </div>\r\n    )\r\n}\r\nexport default Photos;","import React from 'react';\r\nimport classes from './ProfileDescription.module.css';\r\nimport cn from 'classnames';\r\n\r\nconst Contacts = ({contacts}) => {\r\n    let profileContacts = Object.keys(contacts).map(\r\n        (contact) => !!contacts[contact] && <div key={contact}>\r\n            {contact}: <a href={contacts[contact]} target=\"blank\"> {contacts[contact]}</a></div>)\r\n    return (\r\n        <div className={cn(classes.descriptionBlock, classes.contacts)}>\r\n            <h1 className={classes.title}>Contacts:</h1>\r\n                {profileContacts}\r\n        </div>\r\n    )\r\n}\r\nexport default Contacts;","import React from 'react';\r\nimport classes from '../../ProfileDescription.module.css';\r\nimport defaultPicture from '../../../../../images/user-logo.png';\r\nimport cn from 'classnames';\r\n\r\nconst Post = (props) => {\r\n    return (\r\n        <div className={cn(classes.post, classes.descriptionBlock)}>\r\n            <div className={classes.postText}>\r\n                <div><img className={classes.user} src={props.photo || defaultPicture} alt=\"\"/></div>\r\n                <p>{props.message}</p>\r\n            </div>\r\n            <div className={classes.postInfo}><p>Likes: {props.likesCount}</p></div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Post;","import React from 'react';\r\nimport classes from '../../ProfileDescription.module.css';\r\nimport { Field, reduxForm } from 'redux-form';\r\nimport { required, maxLength } from '../../../../common/Form-controls/Form-validators';\r\nimport { Textarea } from '../../../../common/Form-controls/Form-controls';\r\nimport cn from 'classnames';\r\n\r\nconst maxLength100 = maxLength(100);\r\n\r\nconst NewPost = (props) => {\r\n    return (\r\n        <form onSubmit={props.handleSubmit} className={cn(classes.newPost, classes.descriptionBlock)}>\r\n            <Field component={Textarea} name=\"newPostText\" className={classes.postText} validate={[required, maxLength100]} \r\n            placeholder = \"Write new post here\"/>\r\n            <button disabled={!props.valid} className={classes.sendButton} type=\"submit\">Send</button>\r\n        </form>\r\n    )\r\n}\r\nexport default reduxForm({form: \"newPost\"})(NewPost);","import React from 'react';\r\nimport Post from './Post/Post';\r\nimport NewPost from './NewPost/NewPost';\r\nimport cn from 'classnames';\r\nimport classes from '../ProfileDescription.module.css'\r\n\r\nconst Posts = (props) => {\r\n    let posts = props.posts.map(post => <Post key={post.id} message={post.message} likesCount={post.likesCount} photo={props.photo}/>);\r\n    posts.reverse();\r\n    return (\r\n        <div className={cn(classes.myPosts, classes.posts)}>\r\n            {!!props.isOwner && <NewPost onSubmit={(data) => {props.addPost(data.newPostText); props.reset('newPost')}}/>}\r\n            {posts}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Posts;","import React from 'react';\r\nimport classes from './ProfileDescription.module.css';\r\nimport EditProfile from './EditProfile/EditProfile';\r\nimport About from './About';\r\nimport Friends from './Friends';\r\nimport Photos from './Photos';\r\nimport Contacts from './Contacts';\r\nimport Posts from './Posts/Posts';\r\n\r\nconst ProfileDescription = ({ profile, isOwner, updatingProfile, updatingProfileInProcess, updateProfile, updateFetching, posts, addPost, reset }) => {\r\n    \r\n    \r\n    return (\r\n        !updatingProfile ?\r\n            <div className={classes.description}>\r\n\r\n                <div>\r\n                    <About profile={profile}/>\r\n                    <Friends />\r\n                </div>\r\n                <Posts isOwner ={isOwner} photo={profile.photos.small} reset = {reset} posts ={posts} addPost={addPost}/>\r\n                <div>\r\n                    <Photos />\r\n                    <Contacts contacts={profile.contacts}/>\r\n                </div>\r\n                {/* {isOwner && <Icon name='edit outline' className={classes.editIcon} onClick={() => { updatingProfileInProcess(true) }} /> } */}\r\n            </div>\r\n        :\r\n            <EditProfile initialValues={profile} profile={profile} updatingProfile={updatingProfile} updateFetching={updateFetching}\r\n            updatingProfileInProcess={updatingProfileInProcess} isOwner={isOwner} onSubmit={(formData) => {updateProfile(formData, profile.userId)}}/>\r\n    )\r\n}\r\n\r\nexport default ProfileDescription;","import React from 'react';\r\nimport classes from '../Profile.module.css';\r\n\r\nconst ProfileMenuBar = () => {\r\n    return (\r\n        <div className={classes.profileMenuBar}>\r\n            <div className={classes.profileMenuOption}>About</div>\r\n            <div className={classes.profileMenuOption}>Posts</div>\r\n            <div className={classes.divider}></div>\r\n            <div className={classes.profileMenuOption}>Friends</div>\r\n            <div className={classes.profileMenuOption}>Contacts</div>\r\n        </div>\r\n    )\r\n}\r\nexport default ProfileMenuBar","import w1 from '../../images/wallpapers/1.jpg';\r\nimport w2 from '../../images/wallpapers/2.jpg';\r\nimport w3 from '../../images/wallpapers/3.jpg';\r\nimport w4 from '../../images/wallpapers/4.jpg';\r\nimport w5 from '../../images/wallpapers/5.jpg';\r\nimport w6 from '../../images/wallpapers/6.jpg';\r\nimport w7 from '../../images/wallpapers/7.jpg';\r\nimport w8 from '../../images/wallpapers/8.jpg';\r\nimport w9 from '../../images/wallpapers/9.jpg';\r\nimport w10 from '../../images/wallpapers/10.jpg';\r\n\r\nexport const wallpapers = [w1,w2,w3,w4,w5,w6,w7,w8,w9,w10];","import React from 'react';\r\nimport { useEffect } from 'react';\r\nimport { useState } from 'react';\r\nimport classes from '../../Profile.module.css';\r\n\r\nconst ProfileStatus = (props) => {\r\n    \r\n    let [editMode, setEditMode] = useState (false);\r\n    let [status, setStatus] = useState (props.status);\r\n\r\n    useEffect(() => {\r\n        setStatus(props.status)\r\n    }, [props.status]);\r\n    const onEditMode = () => {\r\n        setEditMode(true);\r\n    }\r\n    const offEditMode = () => {\r\n        setEditMode(false);\r\n        props.updateStatus(status);\r\n    }\r\n    const changeStatus = (text) => {\r\n        setStatus (text.currentTarget.value);\r\n    }\r\n    return (\r\n        <div className={classes.status}>\r\n            {editMode &&\r\n                <input autoFocus=\"true\" type=\"text\" value={status}\r\n                    onBlur={() => { offEditMode() }} onChange={(e) => { changeStatus(e) }} />}\r\n                {!editMode &&\r\n                    <span onClick={() => {props.isOwner && onEditMode() }}>{props.status || 'No status yet'}</span>}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ProfileStatus;","import React from 'react';\r\nimport classes from '../Profile.module.css';\r\nimport { Icon } from 'semantic-ui-react';\r\nimport user_logo from '../../../images/person-male.png';\r\nimport photoIcon from '../../../images/photo-icon.png';\r\nimport cn from 'classnames';\r\n\r\nconst ProfilePhoto = ({uploadingPhoto, profile, isOwner, savePhoto}) => {\r\n    return (\r\n        <>\r\n                <img className={cn(classes.ava, uploadingPhoto && classes.bluredPhoto)} src={profile.photos.large || user_logo} alt=\"user avatar\" />\r\n                {isOwner &&\r\n                    <label>\r\n                        <Icon src={photoIcon} name=\"photo\" className={classes.photoIcon} />\r\n                        <input type=\"file\" onChange={(e) => { savePhoto(e.target.files[0]) }} className={classes.invisibleInput} />\r\n                    </label>}\r\n        </>\r\n    )\r\n}\r\nexport default ProfilePhoto;","import React from 'react';\r\nimport classes from '../Profile.module.css';\r\nimport { wallpapers } from '../wallpapers';\r\nimport ProfileStatus from './ProfileStatus/ProfileStatus-hook';\r\nimport ProfilePhoto from './ProfilePhoto';\r\n\r\nconst ProfileTitle = ({isOwner, profile, status, updateStatus, ...restProps}) => {\r\n    return (\r\n        <>\r\n            <img className={classes.wallpaper} src={wallpapers[Math.floor(Math.random() * 10)]} alt=\"\" />\r\n            <div className={classes.userPreview} >\r\n                <ProfilePhoto profile={profile} isOwner={isOwner} {...restProps}/>\r\n                <h1 className={classes.fullName}>{profile.fullName}</h1>\r\n                <ProfileStatus status={status} updateStatus={updateStatus} isOwner={isOwner} />\r\n            </div>\r\n        </>\r\n    )\r\n}\r\nexport default ProfileTitle;","import React from 'react';\r\nimport classes from '../Profile.module.css';\r\nimport ProfileMenuBar from './ProfileMenuBar';\r\nimport ProfileTitle from './ProfileTitle';\r\n\r\nconst ProfileHeader = (props) => {\r\n    return (\r\n        <div className={classes.profileHeader}>\r\n            <ProfileTitle {...props}/>\r\n            <ProfileMenuBar />\r\n        </div>\r\n    )\r\n}\r\nexport default ProfileHeader;","import React from 'react';\r\nimport ProfileDescription from './ProfileDescription/ProfileDescription';\r\nimport classes from './Profile.module.css';\r\nimport ProfileHeader from './ProfileHeader/ProfileHeader';\r\n\r\n\r\n\r\nconst Profile = ({ profile, isOwner, updatingProfile, ...props }) => {\r\n    return (\r\n        <div className={classes.info}>\r\n            <ProfileHeader uploadingPhoto={props.uploadingPhoto}\r\n            isOwner={isOwner}\r\n            savePhoto={props.savePhoto}\r\n            profile={profile}\r\n            status={props.status}\r\n            updateStatus={props.updateStatus} />\r\n\r\n            <ProfileDescription profile={profile}\r\n            posts = {props.posts}\r\n            addPost = {props.addPost}\r\n            reset = {props.reset}\r\n            isOwner={isOwner}\r\n            updatingProfile={updatingProfile}\r\n            updatingProfileInProcess={props.updatingProfileInProcess}\r\n            updateProfile={props.updateProfile}\r\n            updateFetching={props.updateFetching}/>\r\n        </div>\r\n\r\n    )\r\n}\r\n\r\n\r\nexport default Profile;","import { profileAPI } from './../api/api';\r\nimport { stopSubmit } from 'redux-form';\r\n\r\nconst ADD_POST = 'ADD-POST';\r\nconst SET_PROFILE = 'SET-PROFILE';\r\nconst SET_STATUS = 'SET-STATUS';\r\nconst TOGGLE_PRELOADER = 'TOGGLE-PRELOADER';\r\nconst DELETE_POST = 'DELETE-POST';\r\nconst SAVE_PHOTO = 'SAVE_PHOTO';\r\nconst TOGGLE_UPLOADING = 'TOGGLE_UPLOADING';\r\nconst TOGGLE_UPDATING = 'TOGGLE_UPDATING';\r\nconst UPDATING_PROFILE = 'UPDATING_PROFILE';\r\nexport const deletePost = (id) => ({ type: DELETE_POST, id });\r\nexport const addPost = (text) => ({ type: ADD_POST, text });\r\nexport const setProfile = (profile) => ({ type: SET_PROFILE, profile });\r\nexport const setStatus = (status) => ({ type: SET_STATUS, status });\r\nexport const setPhoto = (photos) => ({ type: SAVE_PHOTO, photos });\r\nexport const togglePreloader = (fetching) => { return { type: 'TOGGLE-PRELOADER', fetching } };\r\nexport const toggleUploading = () => { return { type: 'TOGGLE_UPLOADING' } };\r\nconst toggleUpdating = (isFetching) => { return { type: 'TOGGLE_UPDATING', isFetching } };\r\nexport const updatingProfileInProcess = (updating) => { return { type: 'UPDATING_PROFILE', updating } };\r\nconst initialState = {\r\n    profile: null,\r\n    status: '',\r\n    posts:\r\n        [{ message: \"It's my first post\", id: 1, likesCount: 16 },\r\n        { message: \"React (also known as React.js or ReactJS) is an open-source, front end, JavaScript library[3] for building user interfaces or UI components. It is maintained by Facebook and a community of individual developers and companies.[4][5][6] React can be used as a base in the development of single-page or mobile applications. However, React is only concerned with rendering data to the DOM, and so creating React applications usually requires the use of additional libraries for state management and routing.[7][8] Redux[9] and React Router[10] are respective examples of such libraries.\", id: 2, likesCount: 15 },\r\n        { message: \"The Greeter function is a React component that accepts a property greeting. The variable App is an instance of the Greeter component where the greeting property is set to 'Hello World!'. The ReactDOM.render method then renders our Greeter component inside the DOM element with id myReactApp.When displayed in a web browser the result will be\", id: 3, likesCount: 10 },\r\n        { message: \"Virtual DOM Another notable feature is the use of a virtual Document Object Model, or virtual DOM. React creates an in-memory data-structure cache, computes the resulting differences, and then updates the browser's displayed DOM efficiently.[12]. This process is called reconciliation. This allows the programmer to write code as if the entire page is rendered on each change, while the React libraries only render subcomponents that actually change. This selective rendering provides a major performance boost. It saves the effort of recalculating the CSS style, layout for the page and rendering for the entire page.\", id: 4, likesCount: 8 },\r\n        { message: \"Lifecycle methods use a form of hooking that allows execution of code at set points during a component's lifetime.\", id: 5, likesCount: 15 },\r\n        { message: \"shouldComponentUpdate allows the developer to prevent unnecessary re-rendering of a component by returning false if a render is not required.\", id: 6, likesCount: 20 },\r\n        { message: \"React rules!\", id: 7, likesCount: 13 },\r\n        ],\r\n    fetching: false,\r\n    uploadingPhoto: false,\r\n    updatingProfile: false,\r\n    updateFetching: false\r\n};\r\nconst profileReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case ADD_POST:\r\n            let newPost = {\r\n                message: action.text, id: 3, likesCount: 0\r\n            }\r\n            return {\r\n                ...state,\r\n                posts: [...state.posts, newPost]\r\n            };\r\n        case DELETE_POST:\r\n            return { ...state, posts: state.posts.filter(post => post.id !== action.id) }\r\n        case SET_PROFILE:\r\n            return {\r\n                ...state,\r\n                profile: action.profile\r\n            };\r\n        case SAVE_PHOTO:\r\n            return { ...state, profile: { ...state.profile, photos: action.photos } }\r\n        case SET_STATUS:\r\n            return {\r\n                ...state,\r\n                status: action.status\r\n            };\r\n        case TOGGLE_PRELOADER:\r\n            return {\r\n                ...state,\r\n                fetching: action.fetching\r\n            };\r\n        case TOGGLE_UPLOADING:\r\n            return {\r\n                ...state,\r\n                uploadingPhoto: !state.uploadingPhoto\r\n            };\r\n        case TOGGLE_UPDATING:\r\n            return {\r\n                ...state,\r\n                updateFetching: action.isFetching\r\n            };\r\n        case UPDATING_PROFILE:\r\n            return {\r\n                ...state,\r\n                updatingProfile: action.updating\r\n            };\r\n        default: return state;\r\n    }\r\n}\r\n\r\nexport const getProfileWithStatus = (profileId) => {\r\n    return async (dispatch) => {\r\n        dispatch(togglePreloader(true));\r\n        await dispatch(getProfile(profileId));\r\n        await dispatch(getStatus(profileId));\r\n        dispatch(togglePreloader(false));\r\n    }\r\n}\r\nexport const getProfile = (profileId) => {\r\n    return async (dispatch) => {\r\n        let data = await profileAPI.getProfile(profileId);\r\n        dispatch(setProfile(data));\r\n    }\r\n}\r\nexport const getStatus = (profileId) => {\r\n    return async (dispatch) => {\r\n        let data = await profileAPI.getStatus(profileId);\r\n        dispatch(setStatus(data));\r\n    }\r\n}\r\nexport const updateStatus = (status) => {\r\n    return async (dispatch) => {\r\n        let data = await profileAPI.updateStatus(status)\r\n        if (data.resultCode === 0) {\r\n            dispatch(setStatus(status));\r\n        }\r\n    }\r\n}\r\nexport const savePhoto = (photoFile) => {\r\n    return async (dispatch) => {\r\n        dispatch(toggleUploading());\r\n        let response = await profileAPI.uploadPhoto(photoFile);\r\n        if (response.resultCode === 0) dispatch(setPhoto(response.data.photos));\r\n        dispatch(toggleUploading());\r\n    }\r\n}\r\nexport const updateProfile = (data, me) => {\r\n    \r\n    const parseErrorObject = (errors) => {\r\n        let errorsObject = {};\r\n        errors.forEach((error) => {\r\n            let element = '';\r\n            let message = '';\r\n            let errorInArray = error.split(' ');\r\n            let lastElement = errorInArray[errorInArray.length - 1];\r\n            if (lastElement.search(/->/) > 0) {\r\n                element = lastElement.slice(lastElement.search(/->/) + 2, -1)\r\n                element = 'contacts.' + element[0].toLowerCase() + element.substring(1);\r\n            } else {\r\n                element = lastElement.slice(1, -1);\r\n                element = element[0].toLowerCase() + element.substring(1);\r\n            }\r\n            message = error.split('(')[0];\r\n\r\n            errorsObject[element] = message;\r\n            console.log(errorsObject);\r\n        })\r\n        return errorsObject;\r\n    }\r\n    return async (dispatch) => {\r\n        dispatch(toggleUpdating(true));\r\n        let response = await profileAPI.setProfile(data);\r\n        if (response.resultCode === 0) {\r\n            dispatch(getProfile(me));\r\n            dispatch(updatingProfileInProcess(false))\r\n        } else {\r\n            dispatch(stopSubmit('edit-profile', parseErrorObject(response.messages)))\r\n        }\r\n        dispatch(toggleUpdating(false));\r\n    }\r\n}\r\nexport default profileReducer;","import React from 'react';\r\nimport Profile from './Profile';\r\nimport { getProfileWithStatus, addPost, togglePreloader, updateStatus, savePhoto, updatingProfileInProcess, updateProfile } from './../../redux/profile-reducer';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport Preloader from './../common/Preloader/Preloader';\r\nimport { compose } from 'redux';\r\nimport { reset } from 'redux-form';\r\n\r\n\r\nclass ProfileContainer extends React.Component {\r\n    constructor (props) {\r\n        super(props);\r\n        this.state = {\r\n            isOwner : false\r\n        }\r\n    }\r\n    \r\n    refreshProfile () {\r\n        let userId = this.props.match.params.userID || this.props.me;\r\n        !userId && this.props.history.push('/login');\r\n        if (userId === this.props.me) this.setState({isOwner : true});\r\n        this.props.getProfileWithStatus(userId);\r\n    }\r\n    componentDidMount() {\r\n        this.refreshProfile();\r\n    }\r\n    componentDidUpdate(prevProps) {\r\n        if ((this.props.match.params.userID !== prevProps.match.params.userID) || (this.props.me !== prevProps.me)) {\r\n            this.refreshProfile();\r\n        }\r\n    }\r\n    render() {\r\n        if (this.props.fetching || !this.props.profile) { return <Preloader /> }\r\n        return <Profile {...this.props} isOwner={this.state.isOwner}/>\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        profile: state.profilePage.profile,\r\n        posts: state.profilePage.posts,\r\n        fetching: state.profilePage.fetching,\r\n        status: state.profilePage.status,\r\n        me: state.auth.id,\r\n        uploadingPhoto: state.profilePage.uploadingPhoto,\r\n        updatingProfile: state.profilePage.updatingProfile,\r\n        updateFetching: state.profilePage.updateFetching\r\n    }\r\n}\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, { getProfileWithStatus, addPost, togglePreloader, updateStatus,\r\n        savePhoto, updatingProfileInProcess, updateProfile, reset}),\r\n    withRouter)(ProfileContainer);","import React from 'react'\r\nimport { Dropdown, Image } from 'semantic-ui-react'\r\n\r\nimport { NavLink } from 'react-router-dom';\r\nimport classes from './Header.module.css'\r\n\r\nconst UserMenu = (props) => {\r\n    const trigger = (\r\n        <span className={classes.dropdownMenu}>\r\n          <Image avatar src={props.photo} /> {props.name}\r\n        </span>\r\n      )\r\n      \r\n      const options = [\r\n        {\r\n          key: 'user',\r\n          text: (\r\n            <span className={classes.menuTitle}>\r\n              Signed in as <strong>{props.login}</strong>\r\n            </span>\r\n          ),\r\n          disabled: true,\r\n        },\r\n        { key: 'profile', icon: 'user', content: (<NavLink className={classes.option} to=\"profile\">Account</NavLink>) },\r\n        { key: 'settings', icon: 'settings', content: (<NavLink to=\"settings\" className={classes.option}>Settings</NavLink>) },\r\n        { key: 'sign-out', icon: 'sign out', content: (<span className={classes.option} onClick={props.logout}>Log Out</span>) }\r\n      ]\r\n\r\n    return (\r\n        <Dropdown trigger={trigger} floating options={options} className={classes.menuContainer}/>\r\n    )\r\n}\r\n  \r\n\r\nexport default UserMenu;","import classes from './Header.module.css';\r\nimport React, { useState } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { Icon } from 'semantic-ui-react';\r\n\r\nconst Search = (props) => {\r\n    let [term, setTerm] = useState('');\r\n    const searchUser = (key) => {\r\n        if (key.keyCode === 13 && term.length > 0) {\r\n            props.history.push('/users/' + term);\r\n            setTerm('');\r\n        } \r\n    } \r\n    return (\r\n        <div className={classes.searchBar}>\r\n        <input value={term} placeholder=\"Search people here\" onKeyDown={e => {searchUser(e)}} \r\n        onChange={(e) => {setTerm(e.currentTarget.value)}} className={classes.searchField}/>\r\n        <div className={classes.iconContainer}><Icon name=\"sistrix\" className={classes.searchIcon}/></div>\r\n        </div>\r\n    )\r\n    \r\n} \r\n\r\nexport default withRouter(Search);","import React from 'react';\r\nimport classes from './Header.module.css';\r\nimport { NavLink } from 'react-router-dom';\r\nimport UserMenu from './UserMenu';\r\nimport Search from './Search';\r\nconst Header = (props) => {\r\n    return (\r\n        <header className={classes.header + ' ' + classes.horizontalBar}>\r\n            <div className={classes.logo}></div>\r\n            <Search />\r\n                {props.login\r\n                ? <UserMenu photo ={props.photo} name={props.name} logout={props.logout} login={props.login}/>\r\n                : <NavLink className={classes.login} to=\"/login\">Login</NavLink>}\r\n        </header>\r\n    );\r\n}\r\n\r\nexport default Header;","import { authAPI, profileAPI } from \"../api/api\";\r\nimport { resetSection, stopSubmit } from \"redux-form\";\r\n\r\nlet initialState = {\r\n    id: null,\r\n    email: null,\r\n    login: null,\r\n    name: null,\r\n    photo: null,\r\n    isAuth: false,\r\n    captcha: null, \r\n    isFetching: false\r\n}\r\n\r\nexport const setUserData = (id, email, login, isAuth) => ({ type: 'SET-USER-DATA', payload: {id, email, login, isAuth} });\r\nconst SET_USER_DATA = 'SET-USER-DATA';\r\nexport const setUserInfo = (name, photo) => ({ type: 'SET_USER_INFO', payload: {name, photo} });\r\nconst SET_USER_INFO = 'SET_USER_INFO';\r\nconst setCaptchaPicture = (captcha) => ({type: 'SET_CAPTCHA_PICTURE', payload: {captcha}});\r\nconst SET_CAPTCHA_PICTURE = 'SET_CAPTCHA_PICTURE';\r\nconst toggleIsFetching = (isFetching) => ({type: 'TOGGLE_IS_FETCHING', payload: {isFetching}});\r\nconst TOGGLE_IS_FETCHING = 'TOGGLE_IS_FETCHING';\r\n\r\nlet authReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n\r\n        case SET_USER_DATA: \r\n        case SET_USER_INFO:\r\n        case SET_CAPTCHA_PICTURE:\r\n        case TOGGLE_IS_FETCHING:\r\n            return {...state, ...action.payload}\r\n\r\n        default: return state;\r\n    }\r\n}\r\n\r\nexport const auth = () => {\r\n    return (dispatch) => {\r\n        return authAPI.auth().then((data) => {\r\n            if (data.resultCode === 0) {\r\n                dispatch(setUserData(data.data.id, data.data.email, data.data.login, true));\r\n                profileAPI.getProfile(data.data.id).then((data) => {\r\n                    dispatch(setUserInfo(data.fullName, data.photos.small));\r\n                })\r\n                dispatch(setCaptchaPicture(null));\r\n            }\r\n            dispatch(toggleIsFetching(false));\r\n        })\r\n    }\r\n}\r\nexport const login = (email, password, rememberMe, captcha) => {\r\n    return async (dispatch) => {\r\n        dispatch(toggleIsFetching(true));\r\n        let response = await authAPI.login(email, password, rememberMe, captcha);\r\n        dispatch(resetSection('loginForm', ['captcha']))\r\n        if (response.resultCode === 0) {\r\n            dispatch(auth());\r\n        } else {\r\n            dispatch(stopSubmit(\"loginForm\", { _error: response.messages[0] }));\r\n            response.resultCode === 10 && dispatch(getCaptcha());\r\n            dispatch(toggleIsFetching(false));\r\n        }\r\n    }\r\n}\r\nconst getCaptcha = () => {\r\n    return async (dispatch) => {\r\n        let response = await authAPI.getCaptcha();\r\n        dispatch(setCaptchaPicture(response.url));\r\n    }\r\n}\r\nexport const logout = () => {\r\n    return async (dispatch) => {\r\n        let response = await authAPI.logout()\r\n        if (response.resultCode === 0) {\r\n            dispatch(setUserData(null, null, null, false));\r\n            dispatch(setUserInfo(null, null));\r\n        }\r\n    }\r\n}\r\n\r\nexport default authReducer;","import Header from './Header';\r\nimport { logout } from './../../redux/auth-reducer';\r\nimport { connect } from 'react-redux';\r\n\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        id: state.auth.id,\r\n        email: state.auth.email,\r\n        login: state.auth.login,\r\n        name: state.auth.name,\r\n        photo: state.auth.photo\r\n    }\r\n}\r\n\r\nlet HeaderContainer = connect (mapStateToProps, {logout})(Header);\r\n\r\nexport default HeaderContainer;","import React from 'react';\r\nimport classes from './login.module.css'\r\nimport { Field, reduxForm } from 'redux-form';\r\nimport { NavLink, Redirect } from 'react-router-dom';\r\nimport { Input } from '../common/Form-controls/Form-controls';\r\nimport { required, maxLength } from './../common/Form-controls/Form-validators';\r\nimport {login} from '../../redux/auth-reducer'\r\nimport { connect } from 'react-redux';\r\nimport buttonStyles from '../../Utils/commonStyles.module.css'\r\nimport Preloader from './../common/Preloader/Preloader';\r\n\r\nconst maxLength30 = maxLength(30);\r\nconst LoginForm = (props) => {\r\n\r\n    return (\r\n        <form className={classes.loginForm} onSubmit={props.handleSubmit}>\r\n            <h1>Please Log In</h1>\r\n            <div className={classes.formRow}><Field type=\"text\" name=\"email\" component={Input}\r\n            innerText=\"Email\" validate={[required, maxLength30]}/></div>\r\n            {props.error &&  <p className={classes.errorMessage}>{props.error}</p>}\r\n            <div className={classes.formRow}><Field type=\"password\" name=\"password\" component={Input}\r\n            innerText=\"Password\" validate={[required, maxLength30]}/></div>\r\n            <div className={classes.formRow}>\r\n                <label className={classes.labelForCheckbox}>\r\n                    <Field type=\"checkbox\" name=\"rememberMe\" component=\"input\" className={classes.checkbox}/> remember me\r\n                </label>\r\n            </div>\r\n            {props.captcha && \r\n            <div>\r\n                <img src={props.captcha} alt='captcha'/>\r\n                <div><Field type=\"text\" defaultValue=\"\" component={Input} name=\"captcha\" placeholder=\"Captcha\" validate={[required]}/></div>\r\n            </div>}\r\n            {props.isFetching ?\r\n                <Preloader /> :\r\n                <div className={classes.buttons}>\r\n                    <button className={buttonStyles.button}>LogIn</button>\r\n                    <button className={buttonStyles.button}>Cancel</button>\r\n                </div>\r\n            }\r\n            \r\n            <p><NavLink to=\"restore-password\">Forgot password?</NavLink></p>\r\n        </form>\r\n    )\r\n}\r\nconst LoginReduxForm = reduxForm({form: 'loginForm'})(LoginForm);\r\nconst Login = (props) => {\r\n    return props.isAuth ? <Redirect to=\"/profile\" />\r\n    : (\r\n        <div className={classes.loginPage}>\r\n            <LoginReduxForm\r\n            isFetching={props.isFetching}\r\n            captcha={props.captcha}\r\n            onSubmit={(formData) => {props.login(formData.email, formData.password, formData.rememberMe, formData.captcha)}}\r\n            />\r\n        </div>\r\n    )\r\n}\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        isAuth: state.auth.isAuth,\r\n        captcha: state.auth.captcha,\r\n        isFetching: state.auth.isFetching\r\n    }\r\n}\r\nexport default connect(mapStateToProps, {login})(Login);","import { auth } from './auth-reducer';\r\n\r\nconst initializeSuccess = () => {return ({type: INITIALIZE_SUCCESS})}\r\nconst INITIALIZE_SUCCESS = 'INITIALIZE_SUCCESS';\r\n\r\nconst initialState = {\r\n    initialized: false\r\n}\r\nexport const appReducer = (state = initialState, action) => {\r\n    let newState = {...state}\r\n    switch (action.type) {\r\n    case INITIALIZE_SUCCESS :\r\n        newState.initialized = true;\r\n        return newState;\r\n    \r\n    default: return newState;\r\n    }\r\n}\r\n\r\nexport const initializing = () => {\r\n    return async (dispatch) => {\r\n        await dispatch(auth());\r\n        dispatch(initializeSuccess());\r\n    }\r\n}","import React from 'react';\r\nimport classes from '../Header/Header.module.css';\r\n\r\nconst Footer = () => {\r\n    return (\r\n        <footer className={classes.footer + ' ' + classes.horizontalBar}>\r\n            <div className={classes.logo}></div>\r\n        </footer>\r\n    )\r\n}\r\nexport default Footer;\r\n","import React from 'react';\nimport './App.css';\nimport 'semantic-ui-css/semantic.min.css'\nimport LeftNavbar from './components/Navbar/LeftNavbar';\nimport RightNavbar from './components/Navbar/RightNavbar';\nimport { Route, Switch, Redirect } from 'react-router-dom';\nimport News from './components/News/News';\nimport Settings from './components/Settings/Settings';\nimport Music from './components/Music/Music';\nimport DialogsContainer from './components/Dialogs/Dialogs-container';\nimport ProfileContainer from './components/Profile/Profile-container';\nimport HeaderContainer from './components/Header/Header-container';\nimport Login from './components/Login/Login';\nimport { initializing } from './redux/app-reducer';\nimport Preloader from './components/common/Preloader/Preloader';\nimport { connect } from 'react-redux';\nimport {withSuspense} from './hoc/withSuspense';\nimport Footer from './components/Footer/Footer';\n\n\nconst UsersContainer = React.lazy(() => import('./components/Users/Users-container'));\n\n\n\nclass App extends React.Component {\n  componentDidMount () {\n    this.props.initializing();\n  }\n  render() {\n    return !this.props.initialized\n    ?  <Preloader />\n    : (\n      <div className=\"app-wrapper\">\n        <HeaderContainer />\n        <LeftNavbar />\n        <div className=\"content\">\n          <Switch>\n            <Route exact path='/' render={() => <Redirect to=\"/profile\"/>} />\n            <Route path='/dialogs' render={() => <DialogsContainer />} />\n            <Route path='/profile/:userID?' render={() => <ProfileContainer />} />\n            <Route path='/news' component={News} />\n            <Route path='/music' component={Music} />\n            <Route path='/settings' component={Settings} />\n            <Route path='/users/:term?' render={withSuspense(UsersContainer)} />\n            <Route path='/login' render={() => <Login />} />\n            <Route path='*' render={() => <div><h1>Page not found</h1></div>} />\n          </Switch>\n        </div>\n        <RightNavbar />\n        <Footer />\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return ({\n    initialized: state.app.initialized\n  })\n}\nexport default connect(mapStateToProps, {initializing})(App);\n","import React from 'react';\r\nimport Preloader from '../components/common/Preloader/Preloader';\r\n\r\nexport const withSuspense = (Component) => {\r\n    return (props) => \r\n    <React.Suspense fallback={<Preloader/>}>\r\n         <Component {...props} />\r\n    </React.Suspense>\r\n    \r\n}","const initialState = {\r\n    friendsList: [{ name: 'Tanchisa', id: 1 },\r\n    { name: 'Max', id: 2 },\r\n    { name: 'Dan', id: 3 },\r\n    { name: 'Krista', id: 4 },\r\n    { name: 'Sanek', id: 5 },\r\n    { name: 'Yura', id: 6 }]\r\n}\r\n\r\nconst sidebarReducer = (state = initialState, action) => {\r\n    return state;\r\n}\r\n\r\nexport default sidebarReducer;","import { createStore, combineReducers, applyMiddleware, compose } from 'redux';\r\nimport profileReducer from './profile-reducer';\r\nimport dialogsReducer from './dialogs-reducer';\r\nimport sidebarReducer from './sidebar-reducer';\r\nimport usersReducer from './users-reducer';\r\nimport authReducer from './auth-reducer';\r\nimport thunkMiddleware from 'redux-thunk';\r\nimport {reducer as formReducer} from 'redux-form';\r\nimport { appReducer } from './app-reducer';\r\n\r\nlet reducers = combineReducers({\r\n    messagesPage: dialogsReducer,\r\n    profilePage: profileReducer,\r\n    usersPage: usersReducer,\r\n    sidebar: sidebarReducer,\r\n    auth: authReducer,\r\n    form: formReducer,\r\n    app: appReducer\r\n})\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducers, composeEnhancers(applyMiddleware(thunkMiddleware)));\r\nwindow.store = store;\r\nexport default store;","import './index.css';\nimport React from 'react';\nimport {render} from 'react-dom';\nimport App from './App';\nimport store from './redux/redux-store';\nimport { Provider } from 'react-redux';\nimport { HashRouter } from 'react-router-dom';\n\nrender(\n    <HashRouter>\n        <Provider store={store}>\n            <App />\n        </Provider>\n    </HashRouter>,\n    document.getElementById('root')\n);\n","import React from 'react';\r\nimport preloader from '../../../images/Preloader.gif';\r\nimport classes from './preloader.module.css';\r\n\r\nlet Preloader = () => {\r\n    return (\r\n        <div className={classes.preloader}>\r\n            <img src={preloader} alt=\"preloader\" className={classes.image}/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Preloader;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loginPage\":\"login_loginPage__MMsSR\",\"loginForm\":\"login_loginForm__3IZuF\",\"formRow\":\"login_formRow__1fPIH\",\"checkbox\":\"login_checkbox__25VKi\",\"labelForCheckbox\":\"login_labelForCheckbox__2X-n_\",\"errorMessage\":\"login_errorMessage__1pN1L\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"Form-controls_formControl__2oyjK\",\"hasError\":\"Form-controls_hasError__1ymOg\",\"errorMessage\":\"Form-controls_errorMessage__2eCZC\",\"wideInput\":\"Form-controls_wideInput__2KXQf\",\"wideTextarea\":\"Form-controls_wideTextarea__3-CKz\",\"innerText\":\"Form-controls_innerText__i3Fsc\"};","export const changeValuesInArray = (array, paramSearched, searchedValue, paramToChange, valueToChange) => {\r\n    return array.map((obj) => {\r\n        if (obj[paramSearched] === searchedValue) {\r\n            obj[paramToChange] = valueToChange;\r\n        }\r\n        return obj;\r\n    })\r\n}\r\n\r\nexport const getRandomArr = (arr, elementsCount) => {\r\n    if (arr.length <= elementsCount) {\r\n        return arr\r\n    } else {\r\n        let arrToChange = [...arr];\r\n        let resultArr = [];\r\n        for (let i = 0; i < elementsCount; i++) {\r\n            let randomIndex = Math.floor(Math.random() * (arrToChange.length));\r\n            resultArr.push(arrToChange.splice(randomIndex, 1));\r\n        }\r\n        return resultArr;\r\n    }\r\n}"],"sourceRoot":""}