{"version":3,"sources":["components/common/Paginator/Paginator.module.css","images/user-logo.png","components/Navbar/FriendsList/FriendsList.module.css","components/Profile/wallpapers.js","components/Profile/Profile.module.css","api/api.js","components/common/Preloader/preloader.module.css","components/Header/Header.module.css","components/Dialogs/Dialogs.module.css","components/Users/User/User.jsx","components/common/Paginator/Paginator.jsx","components/Users/Users.jsx","images/Preloader.gif","images/wallpapers/1.jpg","images/wallpapers/2.jpg","images/wallpapers/3.jpg","images/wallpapers/4.jpg","images/wallpapers/5.jpg","images/wallpapers/6.jpg","images/wallpapers/7.jpg","images/wallpapers/8.jpg","images/wallpapers/9.jpg","images/wallpapers/10.jpg","images/person-male.png","images/photo-icon.png","components/Navbar/Navbar.module.css","components/Users/Users.module.css","components/common/Preloader/Preloader.jsx","components/Login/login.module.css","components/Navbar/LeftNavbar.jsx","components/Navbar/FriendsList/Friend/Friend.jsx","components/Navbar/FriendsList/FriendsList-container.jsx","components/Navbar/RightNavbar.jsx","redux/news-reducer.js","components/News/Article.jsx","components/News/News.jsx","redux/dialogs-reducer.js","components/Dialogs/Chats/Chats.jsx","components/Dialogs/Messages/Messages.jsx","components/common/Form-controls/Form-controls.js","components/common/Form-controls/Form-validators.js","components/Dialogs/New-message/NewMessage.jsx","components/Dialogs/Dialogs.jsx","hoc/withAuthRedirect.js","components/Dialogs/Dialogs-container.jsx","components/Profile/ProfileDescription/EditProfile/EditProfile.jsx","components/Profile/ProfileDescription/About.jsx","components/Profile/ProfileDescription/Friends.jsx","redux/album-reducer.js","components/Profile/ProfileDescription/Photo.jsx","components/Profile/ProfileDescription/Photos.jsx","components/Profile/ProfileDescription/Contacts.jsx","components/Profile/ProfileDescription/Posts/Post/PostDropdownMenu.jsx","components/Profile/ProfileDescription/Posts/Post/Post.jsx","components/Profile/ProfileDescription/Posts/NewPost/NewPost.jsx","components/Profile/ProfileDescription/Posts/Posts.jsx","components/Profile/ProfileDescription/ProfileDescription.jsx","components/Profile/ProfileHeader/ProfileMenuBar.jsx","components/Profile/ProfileHeader/ProfileStatus/ProfileStatus-hook.jsx","components/Profile/ProfileHeader/ProfilePhoto.jsx","components/Profile/ProfileHeader/ProfileTitle.jsx","components/Profile/ProfileHeader/ProfileHeader.jsx","components/Profile/Profile.jsx","redux/profile-reducer.js","components/Profile/Profile-container.js","components/Header/UserMenu.jsx","components/Header/Search.jsx","components/Header/Header.jsx","redux/auth-reducer.js","components/Header/Header-container.js","components/Login/Login.jsx","redux/app-reducer.js","components/Footer/Footer.jsx","components/Friends/Friends.jsx","App.js","hoc/withSuspense.js","redux/redux-store.js","index.js","components/Profile/ProfileDescription/EditProfile/EditProfile.module.css","redux/users-reducer.js","Utils/Array-changers.js","components/News/News.module.css","components/Profile/ProfileDescription/ProfileDescription.module.css","components/common/Form-controls/Form-controls.module.css"],"names":["module","exports","wallpapers","w1","w2","w3","w4","w5","w6","w7","w8","w9","w10","apiInstance","axios","baseURL","withCredentials","headers","newsApi","getNewsFromServer","get","then","response","data","photoAPI","getPhotosForAlbum","numberOfPhotos","page","photos","profileAPI","getProfile","userId","setProfile","profile","put","getStatus","profileId","updateStatus","status","uploadPhoto","photoFile","formData","FormData","append","usersAPI","getUsersFromServer","count","term","usersData","getFriendsFromServer","followAPI","follow","post","unfollow","delete","authAPI","auth","login","email","password","rememberMe","captcha","logout","getCaptcha","User","props","countries","require","randomCountry","Object","keys","randomCity","fetching","user","followingUsers","some","className","classes","src","wallpaper","alt","to","photo","description","name","location","city","country","buttons","followed","Button","circular","icon","color","loading","onClick","followButton","disabled","Paginator","React","memo","itemsTotalCount","itemsOnPage","onPageSelectCallback","buttonsCount","pagesCount","Math","ceil","paginatorSectionsCount","currentSection","rightLimit","pages","p","push","key","e","currentTarget","innerText","window","scrollTo","button","toString","selectedPage","paginator","Users","users","map","id","small","isFetching","length","Preloader","usersPage","currentPage","usersTotalCount","pageSize","onPageChanged","paginationButtonsCount","preloader","image","LeftNavbar","left","navbar","item","activeClassName","active","Icon","Friend","friendName","children","friend","title","defaultPhoto","userLogo","FriendsList","state","friendsList","this","getFriends","prevProps","friends","setState","getRandomArr","Component","FriendsListContainer","connect","RightNavbar","right","initialState","news","newsCount","setNews","type","toggleFetching","Article","date","author","url","postDate","Date","article","semiTitle","moment","fromNow","href","target","News","newsList","getNews","newsItem","publishedAt","urlToImage","newsPage","dispatch","a","articles","totalResults","dialogs","8349","text","direction","9510","7180","7084","11753","dialogsReducer","action","newMessage","newMessageText","console","log","concat","Chats","dialog","forEach","cn","buddy","selectedUser","dialogImage","buddies","Messages","messages","endOfMessages","useRef","useEffect","current","scrollIntoView","messagesContainer","message","from","messageDate","ref","FormControl","meta","hasError","error","touched","formControl","errorMessage","Textarea","input","restProps","wideTextarea","Input","wideInput","required","undefined","maxLength","isWebSite","includes","indexOf","maxLength200","NewMessageRedux","reduxForm","form","onSubmit","handleSubmit","Field","component","onKeyDown","keyCode","preventDefault","ifEnterSend","placeholder","validate","dirty","send","Dialogs","match","params","userID","history","createNewChat","chat","sendMessage","reset","mapStateToPropsForRedirect","isAuth","withAuthRedirect","compose","withRouter","messagesPage","updatingProfileInProcess","isOwner","useState","lookingForAJob","setLookingForAJob","contacts","contact","profileForm","shortInput","formRow","semiBold","bigCheckbox","checked","onChange","aboutMe","bottomSection","updateFetching","Group","Or","About","descriptionBlock","about","smallTitle","lookingForAJobDescription","friendsArr","friendsBlock","setPhotos","Photo","thumbnail","open","setOpen","Modal","size","closeIcon","dimmer","basic","trigger","onClose","onOpen","Content","Image","fullscreenPhoto","Photos","getPhotos","parseInt","photosBlock","index","tiny","large","photographer","album","Contacts","profileContacts","vertical","widths","PostDropdownMenu","deletePost","postId","dropdown","options","content","option","Dropdown","pointing","menuContainer","Post","likesCount","likePost","liked","setLiked","postHeader","defaultPicture","userName","toDateString","postText","postInfo","encodeURIComponent","likes","as","labelPosition","Label","maxLength500","newPost","Posts","addPost","posts","postsList","reverse","myPosts","newPostText","ProfileDescription","updatingProfile","updateProfile","initialValues","fullName","ProfileMenuBar","followingInProgress","pushed","setPushed","profileMenuBar","smooth","offset","duration","profileMenuOption","divider","actionButtons","ProfileStatus","editMode","setEditMode","setStatus","autoFocus","value","onBlur","ProfilePhoto","uploadingPhoto","savePhoto","ava","bluredPhoto","user_logo","photoIcon","files","invisibleInput","ProfileTitle","userPreview","ProfileHeader","profileHeader","Profile","info","togglePreloader","toggleUpdating","updating","profileReducer","filter","ProfileContainer","me","getProfileWithStatus","refreshProfile","profilePage","resultCode","parseErrorObject","errors","errorsObject","element","errorInArray","split","lastElement","search","slice","toLowerCase","substring","stopSubmit","UserMenu","dropdownMenu","avatar","menuTitle","floating","setTerm","searchBar","searchField","iconContainer","searchIcon","Header","pathname","header","horizontalBar","logo","currentPageName","charAt","toUpperCase","setUserData","payload","setUserInfo","setCaptchaPicture","toggleIsFetching","authReducer","HeaderContainer","maxLength30","LoginReduxForm","wrapper","greetingText","greetingTitle","loginForm","labelForCheckbox","checkbox","defaultValue","fluid","resetSection","_error","loginPage","INITIALIZE_SUCCESS","initialized","Footer","footer","Friends","mapDispatchToProps","UsersContainer","lazy","App","initializing","path","render","exact","Suspense","fallback","app","reducers","combineReducers","usersReducer","formReducer","newState","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","createStore","applyMiddleware","thunkMiddleware","document","getElementById","followSuccess","unfollowSuccess","setUsers","setFriends","setCurrentPage","toggleFollowingButton","getUsers","items","totalCount","showMoreUsers","pageNumber","pageCount","changeValuesInArray","array","paramSearched","searchedValue","paramToChange","valueToChange","obj","arr","elementsCount","arrToChange","resultArr","randomIndex","i","floor","random","splice"],"mappings":"2FACAA,EAAOC,QAAU,CAAC,aAAe,gCAAgC,UAAY,6BAA6B,OAAS,0BAA0B,MAAQ,2B,oBCDrJD,EAAOC,QAAU,IAA0B,uC,oBCC3CD,EAAOC,QAAU,CAAC,SAAW,8BAA8B,YAAc,iCAAiC,OAAS,8B,iCCDnH,0NAWaC,EAAa,CAACC,IAAGC,IAAGC,IAAGC,IAAGC,IAAGC,IAAGC,IAAGC,IAAGC,IAAGC,M,mBCVtDZ,EAAOC,QAAU,CAAC,OAAS,wBAAwB,UAAY,2BAA2B,eAAiB,gCAAgC,cAAgB,+BAA+B,UAAY,2BAA2B,IAAM,qBAAqB,YAAc,6BAA6B,SAAW,0BAA0B,YAAc,6BAA6B,eAAiB,gCAAgC,cAAgB,+BAA+B,kBAAoB,mCAAmC,QAAU,2B,gCCDxhB,yNAEMY,EAAcC,SAAc,CAC9BC,QAAU,gDACVC,iBAAiB,EACjBC,QAAS,CACL,UAAY,0CAGdC,EAAUJ,SAAc,CAC1BC,QAAU,0BACVE,QAAS,CACL,YAAc,sCAITE,EAAoB,WAC7B,OAAOD,EAAQE,IAAI,oCAAoCC,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAE/EC,EAAWV,SAAc,CAC3BC,QAAU,6BACVE,QAAS,CACL,cAAkB,8DAGbQ,EAAoB,SAACC,EAAgBC,GAC9C,OAAOH,EAASJ,IAAI,oBAAsBM,EAAiB,SAAWC,GAAMN,MAAK,SAAAC,GAAQ,OAAIA,EAASC,KAAKK,WAGlGC,EAAa,CACtBC,WADsB,SACVC,GACR,OAAOlB,EAAYO,IAAI,WAAaW,GAAQV,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAE1ES,WAJsB,SAIVC,GACR,OAAOpB,EAAYqB,IAAI,UAAWD,GAASZ,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAEzEY,UAPsB,SAOXC,GACP,OAAOvB,EAAYO,IAAI,kBAAoBgB,GAAWf,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAEpFc,aAVsB,SAURC,GACV,OAAOzB,EAAYqB,IAAI,iBAAkB,CAACI,WAASjB,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAEjFgB,YAbsB,SAaTC,GACT,IAAMC,EAAW,IAAIC,SAErB,OADAD,EAASE,OAAO,QAASH,GAClB3B,EAAYqB,IAAI,gBAAiBO,EAAU,CAACxB,QAAS,CACxD,eAAgB,yBACdI,MAAK,SAAAC,GAAQ,OAAIA,EAASC,UAI3BqB,EAAW,CACpBC,mBADoB,WACkC,IAAlClB,EAAiC,uDAA1B,EAAGmB,EAAuB,uDAAf,GAAIC,EAAW,uDAAJ,GACzCC,EAAYnC,EAAYO,IAAI,cAAgBO,EAAO,UAAYmB,EAAQ,SAAWC,GAAM1B,MAAK,SAAAC,GAAQ,OAAIA,EAASC,QACtH,OAAOyB,GAEXC,qBALoB,WAMhB,OAAOpC,EAAYO,IAAI,+BAA+BC,MAAK,SAAAC,GAAQ,OAAIA,EAASC,UAI3E2B,EAAY,CACrBC,OADqB,SACbpB,GACJ,IAAIoB,EAAStC,EAAYuC,KAAK,UAAYrB,GAAQV,MAAK,SAAAC,GAAQ,OAAIA,EAASC,QAC5E,OAAO4B,GAEXE,SALqB,SAKXtB,GACN,IAAIsB,EAAWxC,EAAYyC,OAAO,UAAYvB,GAAQV,MAAK,SAAAC,GAAQ,OAAIA,EAASC,QAChF,OAAO8B,IAIFE,EAAU,CACnBC,KADmB,WAEf,OAAO3C,EAAYO,IAAI,WAAWC,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAEhEkC,MAJmB,SAIZC,EAAOC,EAAUC,EAAYC,GAChC,OAAOhD,EAAYuC,KAAK,aAAc,CAACM,QAAOC,WAAUC,aAAYC,YAAUxC,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAE5GuC,OAPmB,WAQf,OAAOjD,EAAYyC,OAAO,cAAcjC,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAEtEwC,WAVmB,WAWf,OAAOlD,EAAYO,IAAI,4BAA4BC,MAAK,SAAAC,GAAQ,OAAIA,EAASC,W,oBClFrFvB,EAAOC,QAAU,CAAC,MAAQ,2B,mBCA1BD,EAAOC,QAAU,CAAC,aAAe,6BAA6B,cAAgB,8BAA8B,OAAS,uBAAuB,UAAY,0BAA0B,cAAgB,8BAA8B,OAAS,uBAAuB,OAAS,uBAAuB,KAAO,qBAAqB,gBAAkB,gCAAgC,SAAW,yBAAyB,KAAO,qBAAqB,MAAQ,sBAAsB,OAAS,uBAAuB,UAAY,0BAA0B,YAAc,4BAA4B,cAAgB,8BAA8B,WAAa,6B,mBCAvnBD,EAAOC,QAAU,CAAC,QAAU,yBAAyB,KAAO,sBAAsB,QAAU,yBAAyB,MAAQ,uBAAuB,kBAAoB,mCAAmC,SAAW,0BAA0B,QAAU,yBAAyB,YAAc,6BAA6B,KAAO,sBAAsB,OAAS,wBAAwB,GAAK,oBAAoB,aAAe,8BAA8B,YAAc,6BAA6B,WAAa,4BAA4B,eAAiB,gCAAgC,aAAe,8BAA8B,KAAO,wB,kHCwD5mB+D,EAjDF,SAACC,GACV,IAAMC,EAAYC,EAAQ,KACpBC,EAAgBC,OAAOC,KAAKJ,GAAWD,EAAMlC,OAAS,KACxDwC,EAAaL,EAAUE,GAAeH,EAAMlC,OAAS,IACpDwC,IAAYA,EAAaL,EAAUE,GAAe,IACvD,IAAII,EAAW,SAACC,GACZ,QAAOR,EAAMS,eAAeC,MAAK,SAAC5C,GAAD,OAAYA,IAAW0C,MAE5D,OAEI,yBAAKG,UAAWC,IAAQJ,MAEhB,yBAAKK,IAAK5E,IAAW+D,EAAMlC,OAAS,IAAK6C,UAAWC,IAAQE,UAAWC,IAAI,KAC3E,kBAAC,IAAD,CAASC,GAAI,YAAchB,EAAMlC,QAAQ,yBAAK+C,IAAKb,EAAMiB,MAAQjB,EAAMiB,MAAQT,IAAMG,UAAWC,IAAQK,MAAOF,IAAI,UACnH,yBAAKJ,UAAWC,IAAQM,aACpB,kBAAC,IAAD,CAASF,GAAI,YAAchB,EAAMlC,QAAQ,uBAAG6C,UAAWC,IAAQO,MAAOnB,EAAMmB,OAC5E,yBAAKR,UAAWC,IAAQQ,UACxB,uBAAGT,UAAWC,IAAQS,MAAOf,EAAa,KAC1C,uBAAGK,UAAWC,IAAQU,SAAUnB,KAKpC,yBAAKQ,UAAWC,IAAQW,SACnBvB,EAAMwB,SAEP,oCACI,kBAACC,EAAA,EAAD,CAAQC,UAAQ,EAACC,KAAK,cAAcC,MAAM,OAAOC,QAAStB,EAASP,EAAMlC,QACzEgE,QAAS,WAAO9B,EAAMZ,SAASY,EAAMlC,SACrC6C,UAAWC,IAAQmB,eAEnB,kBAAC,IAAD,CAASf,GAAI,YAAchB,EAAMlC,QAC7B,kBAAC2D,EAAA,EAAD,CAAQC,UAAQ,EAACC,KAAK,sBAAsBC,MAAM,SAASjB,UAAWC,IAAQmB,iBAIpF,oCACE,kBAACN,EAAA,EAAD,CAAQC,UAAQ,EAACC,KAAK,WAAYC,MAAM,QAAQC,QAAStB,EAASP,EAAMlC,QACxEgE,QAAS,WAAO9B,EAAMd,OAAOc,EAAMlC,SACnC6C,UAAWC,IAAQmB,eAEnB,kBAACN,EAAA,EAAD,CAAQO,UAAQ,EAACN,UAAQ,EAACC,KAAK,sBAAsBC,MAAM,SAASjB,UAAWC,IAAQmB,mB,0BCjBhGE,EA5BGC,IAAMC,MAAK,YAAqF,IAAnFC,EAAkF,EAAlFA,gBAAiBC,EAAiE,EAAjEA,YAAaC,EAAoD,EAApDA,qBAAsBC,EAA8B,EAA9BA,aAAc7E,EAAgB,EAAhBA,KAAMoB,EAAU,EAAVA,KAC7F0D,EAAaC,KAAKC,KAAKN,EAAgBC,GACvCM,EAAyBF,KAAKC,KAAKF,EAAWD,GAChDK,EAAiBH,KAAKC,KAAKhF,EAAK6E,GAEhCM,EAAaD,EAAiBL,EAC9BM,EAAaL,IAAcK,EAAaL,GAU5C,IATA,IAQIM,EAAQ,GACHC,GAZQH,EAAiB,GAAKL,EAAe,EAY9BQ,GAAKF,EAAYE,IACrCD,EAAME,KAAK,yBAAKC,IAAKF,EAAGjB,QAAS,SAACoB,GAAOZ,EAAqBY,EAAEC,cAAcC,UAAWf,EAAavD,GAAOuE,OAAOC,SAAS,EAAG,IAAM3C,UAAS,UAAKC,IAAQ2C,OAAb,YAAuBR,EAAES,aAAe9F,EAAK8F,YAAc5C,IAAQ6C,eAAiBV,IAEvO,OACI,yBAAKpC,UAAWC,IAAQ8C,WACnBd,EAAiB,GAAK,4BAAQjC,UAAWC,IAAQ2C,OAAQzB,QAdnD,WAEXQ,GAAsBM,EAAe,GAAKL,EAAcF,EAAavD,KAY1C,UACvB,yBAAK6B,UAAWC,IAAQkC,OAAQN,EAAa,GAAKM,GACjDF,EAAiBD,GAA0B,4BAAQhC,UAAWC,IAAQ2C,OAAQzB,QAZxE,WAEXQ,EAAqBM,EAAiBL,EAAe,EAAGF,EAAavD,KAUrB,cCDzC6E,IAnBH,SAAC3D,GACT,IAAI4D,EAAQ5D,EAAM4D,MAAMC,KACpB,SAACrD,GAAD,OAAU,kBAAC,EAAD,CAAMyC,IAAKzC,EAAKsD,GAAI3C,KAAMX,EAAKW,KAAMrD,OAAQ0C,EAAKsD,GAC5D7C,MAAOT,EAAK7C,OAAOoG,MAAO1F,OAAQmC,EAAKnC,OAAQmD,SAAUhB,EAAKgB,SAAUtC,OAAQc,EAAMd,OACtFE,SAAUY,EAAMZ,SAAUqB,eAAiBT,EAAMS,oBAErD,OACKT,EAAMgE,YAAqC,IAAvBhE,EAAM4D,MAAMK,OAAgB,kBAACC,EAAA,EAAD,MACjD,yBAAKvD,UAAWC,IAAQuD,WAChB,yBAAKxD,UAAWC,IAAQgD,OACnBA,KAGV5D,EAAMoE,aAAe,kBAAC,EAAD,CAAWtF,KAAOkB,EAAMlB,KAAMsD,gBAAiBpC,EAAMqE,gBAAiBhC,YAAarC,EAAMsE,SACzGhC,qBAAsBtC,EAAMuE,cAAehC,aAAcvC,EAAMwE,uBAAwB9G,KAAMsC,EAAMoE,iB,oBCrBnHrI,EAAOC,QAAU,IAA0B,uC,oBCA3CD,EAAOC,QAAU,IAA0B,+B,oBCA3CD,EAAOC,QAAU,IAA0B,+B,oBCA3CD,EAAOC,QAAU,IAA0B,+B,oBCA3CD,EAAOC,QAAU,IAA0B,+B,oBCA3CD,EAAOC,QAAU,IAA0B,+B,oBCA3CD,EAAOC,QAAU,IAA0B,+B,oBCA3CD,EAAOC,QAAU,IAA0B,+B,oBCA3CD,EAAOC,QAAU,IAA0B,+B,oBCA3CD,EAAOC,QAAU,IAA0B,+B,oBCA3CD,EAAOC,QAAU,IAA0B,gC,oBCA3CD,EAAOC,QAAU,IAA0B,yC,oBCA3CD,EAAOC,QAAU,IAA0B,wC,mBCC3CD,EAAOC,QAAU,CAAC,KAAO,qBAAqB,MAAQ,sBAAsB,OAAS,uBAAuB,KAAO,qBAAqB,KAAO,qBAAqB,OAAS,yB,qGCA7KD,EAAOC,QAAU,CAAC,MAAQ,qBAAqB,KAAO,oBAAoB,UAAY,yBAAyB,MAAQ,qBAAqB,YAAc,2BAA2B,QAAU,uBAAuB,aAAe,4BAA4B,KAAO,oBAAoB,SAAW,wBAAwB,WAAa,0BAA0B,aAAe,4BAA4B,WAAa,4B,gCCD9Z,wDAYekI,IARC,WACZ,OACI,yBAAKvD,UAAWC,IAAQ6D,WACpB,yBAAK5D,IAAK4D,IAAW1D,IAAI,YAAYJ,UAAWC,IAAQ8D,W,mBCNpE3I,EAAOC,QAAU,CAAC,UAAY,yBAAyB,QAAU,uBAAuB,aAAe,4BAA4B,cAAgB,6BAA6B,OAAS,sBAAsB,UAAY,yBAAyB,QAAU,uBAAuB,SAAW,wBAAwB,iBAAmB,gCAAgC,OAAS,sBAAsB,aAAe,8B,iv5hCC4B1Y2I,EAxBI,SAAC3E,GAChB,OACI,yBAAKW,UAAWC,IAAQgE,KAAO,IAAMhE,IAAQiE,QACzC,yBAAKlE,UAAS,UAAKC,IAAQkE,OACvB,kBAAC,IAAD,CAAS9D,GAAG,WAAW+D,gBAAiBnE,IAAQoE,QAAQ,kBAACC,EAAA,EAAD,CAAMtE,UAAWC,IAAQe,KAAMR,KAAK,mBAEhG,yBAAKR,UAAWC,IAAQkE,MACpB,kBAAC,IAAD,CAAS9D,GAAG,WAAW+D,gBAAiBnE,IAAQoE,QAAQ,kBAACC,EAAA,EAAD,CAAMtE,UAAWC,IAAQe,KAAMR,KAAK,wBAEhG,yBAAKR,UAAWC,IAAQkE,MACpB,kBAAC,IAAD,CAAS9D,GAAG,WAAW+D,gBAAiBnE,IAAQoE,QAAQ,kBAACC,EAAA,EAAD,CAAMtE,UAAWC,IAAQe,KAAMR,KAAK,aAOhG,yBAAKR,UAAWC,IAAQkE,MACpB,kBAAC,IAAD,CAAS9D,GAAG,SAAS+D,gBAAiBnE,IAAQoE,QAAQ,kBAACC,EAAA,EAAD,CAAMtE,UAAWC,IAAQe,KAAMR,KAAK,c,4CCV3F+D,EARA,SAAC,GAAuC,IAAtCjE,EAAqC,EAArCA,MAAOkE,EAA8B,EAA9BA,WAAYrB,EAAkB,EAAlBA,GAAIsB,EAAc,EAAdA,SACpC,OACI,yBAAKzE,UAAWC,IAAQyE,QACpB,kBAAC,IAAD,CAASrE,GAAI,YAAc8C,EAAKwB,MAAOH,GAAY,yBAAKtE,IAAKI,GAAgBsE,IAAc5E,UAAWC,IAAQ4E,SAAUzE,IAAI,KAA5H,IAAkIqE,K,gBCDxIK,E,kDACF,WAAazF,GAAQ,IAAD,8BAChB,cAAMA,IACD0F,MAAQ,CAACC,YAAa,IAFX,E,gEAKhBC,KAAK5F,MAAM6F,e,yCAEKC,GACZF,KAAK5F,MAAM+F,SAAWD,EAAUC,UAAYH,KAAK5F,MAAM+F,SACvDH,KAAKI,SAAS,CAACL,YAAcM,YAAaL,KAAK5F,MAAM+F,QAAQlC,KAAK,SAAAwB,GAAM,OACxE,kBAAC,EAAD,CAAQF,WAAYE,EAAOlE,KAAMF,MAAOoE,EAAO1H,OAAOoG,MAAOd,IAAKoC,EAAOvB,GAAIA,GAAMuB,EAAOvB,QAAQ,O,+BAG/F,OACP,6BACI,yBAAKnD,UAAWC,IAAQ+E,aACnBC,KAAKF,MAAMC,kB,GAjBFzD,IAAMgE,WA+BjBC,EAFcC,aANP,SAACV,GACnB,MAAO,CACHK,QAASL,EAAMvB,UAAU4B,WAIqB,CAACF,gBAA1BO,CAAuCX,GCvBrDY,EATK,WAChB,OACI,yBAAK1F,UAAWC,IAAQ0F,MAAQ,IAAM1F,IAAQiE,QAC1C,kBAAC,EAAD,Q,iECLN0B,EAAe,CACjBC,KAAM,GACNC,UAAW,KACXzC,YAAY,GAGV0C,EAAU,SAACF,EAAMC,GAAP,MAAsB,CAACE,KAAM,WAAYH,OAAMC,cACzDG,EAAiB,SAAC5C,GAAD,MAAiB,CAAC2C,KAAM,kBAAmB3C,e,2BCanD6C,EAjBC,SAAC,GAAoD,IAAnDvB,EAAkD,EAAlDA,MAAOpE,EAA2C,EAA3CA,YAAa4F,EAA8B,EAA9BA,KAAMC,EAAwB,EAAxBA,OAAQrC,EAAgB,EAAhBA,MAAOsC,EAAS,EAATA,IAEnDC,EAAW,IAAIC,KAAKJ,GACxB,OACI,6BAASnG,UAAWC,IAAQuG,SACxB,oCACI,wBAAIxG,UAAWC,IAAQ0E,OAAQA,GAC/B,uBAAG3E,UAAWC,IAAQkG,MAAM,0BAAMnG,UAAWC,IAAQwG,WAAzB,SAA5B,IAA8EC,IAAOJ,GAAUK,WAC/F,yBAAK3G,UAAWC,IAAQ8D,MAAO7D,IAAK6D,EAAO3D,IAAI,KAC/C,2BAAIG,GACJ,2BAAG,0BAAMP,UAAWC,IAAQwG,WAAzB,WAAH,IAAuDL,IAE3D,kBAACtF,EAAA,EAAD,CAAQ8F,KAAMP,EAAKQ,OAAO,QAAQ5F,MAAM,UAAxC,uB,QCVN6F,E,4MAIFC,SAAW,G,kEAFP9B,KAAK5F,MAAM2H,Y,yCAGK7B,GACZA,EAAUU,OAASZ,KAAK5F,MAAMwG,OAC9BZ,KAAK8B,SAAW9B,KAAK5F,MAAMwG,KAAK3C,KAAI,SAAA+D,GAAQ,OAAI,kBAAC,EAAD,CAAStC,MAAOsC,EAAStC,MAAO0B,IAAKY,EAASZ,IAAK9F,YAAa0G,EAAS1G,YACrH4F,KAAMc,EAASC,YAAad,OAAQa,EAASb,OAAQ9D,IAAK2E,EAASC,YAAanD,MAAOkD,EAASE,mB,+BAKxG,OACIlC,KAAK5F,MAAMgE,WACX,kBAACE,EAAA,EAAD,MACA,6BAASvD,UAAWC,IAAQ4F,MACvBZ,KAAK8B,c,GAjBHxF,IAAMgE,W,GA8BVE,aAPS,SAACV,GACrB,MAAO,CACHc,KAAMd,EAAMqC,SAASvB,KACrBC,UAAWf,EAAMqC,SAAStB,UAC1BzC,WAAY0B,EAAMqC,SAAS/D,cAGK,CAAC2D,QFblB,WACnB,8CAAO,WAAOK,GAAP,eAAAC,EAAA,6DACHD,EAASpB,GAAe,IADrB,SAEc1J,cAFd,OAGiB,QADhBsJ,EAFD,QAGMnI,QACL2J,EAAStB,EAAQF,EAAK0B,SAAU1B,EAAK2B,eAEzCH,EAASpB,GAAe,IANrB,2CAAP,wDEYWR,CAAoCqB,G,QC/B7ClB,EAAe,CACjB6B,QACI,CACIC,KAAO,CAAC,CAAEC,KAAM,YAAaxE,GAAI,EAAGyE,UAAW,OAAQzB,KAAM,IAAII,KAAK,KAAM,EAAG,GAAI,GAAI,GAAI,GAAI,IAC/F,CAAEoB,KAAM,eAAgBxE,GAAI,EAAGyE,UAAW,OAAQzB,KAAM,IAAII,KAAK,KAAM,EAAG,GAAI,GAAI,GAAI,GAAI,IAC1F,CAAEoB,KAAM,mCAAoCxE,GAAI,EAAGyE,UAAW,KAAMzB,KAAM,IAAII,KAAK,KAAM,EAAG,GAAI,GAAI,GAAI,GAAI,IAC5G,CAAEoB,KAAM,uBAAwBxE,GAAI,EAAGyE,UAAW,OAAQzB,KAAM,IAAII,KAAK,KAAM,EAAG,GAAI,GAAI,GAAI,GAAI,IAClG,CAAEoB,KAAM,aAAcxE,GAAI,EAAGyE,UAAW,KAAMzB,KAAM,IAAII,KAAK,KAAM,EAAG,GAAI,GAAI,GAAI,GAAI,IACtF,CAAEoB,KAAM,oBAAqBxE,GAAI,EAAGyE,UAAW,KAAMzB,KAAM,IAAII,KAAK,KAAM,EAAG,GAAI,GAAI,GAAI,GAAI,IAC7F,CAAEoB,KAAM,4DAA6DxE,GAAI,EAAGyE,UAAW,OAAQzB,KAAM,IAAII,KAAK,KAAM,EAAG,GAAI,GAAI,GAAI,GAAI,IACvI,CAAEoB,KAAM,QAASxE,GAAI,EAAGyE,UAAW,KAAMzB,KAAM,IAAII,KAAK,KAAM,EAAG,GAAI,GAAI,GAAI,GAAI,IACjF,CAAEoB,KAAM,WAAYxE,GAAI,EAAGyE,UAAW,KAAMzB,KAAM,IAAII,KAAK,KAAM,EAAG,GAAI,GAAI,GAAI,GAAI,KAEpFsB,KAAO,CAAC,CAAEF,KAAM,MAAOxE,GAAI,EAAGyE,UAAW,OAAQzB,KAAM,IAAII,KAAK,KAAM,EAAG,EAAG,GAAI,GAAI,GAAI,IACxF,CAAEoB,KAAM,uCAAwCxE,GAAI,EAAGyE,UAAW,OAAQzB,KAAM,IAAII,KAAK,KAAM,EAAG,EAAG,GAAI,GAAI,GAAI,IACjH,CAAEoB,KAAM,2BAA4BxE,GAAI,EAAGyE,UAAW,KAAMzB,KAAM,IAAII,KAAK,KAAM,EAAG,EAAG,GAAI,GAAI,GAAI,IACnG,CAAEoB,KAAM,4CAA6CxE,GAAI,EAAGyE,UAAW,OAAQzB,KAAM,IAAII,KAAK,KAAM,EAAG,EAAG,GAAI,GAAI,GAAI,IACtH,CAAEoB,KAAM,sBAAuBxE,GAAI,EAAGyE,UAAW,KAAMzB,KAAM,IAAII,KAAK,KAAM,EAAG,EAAG,GAAI,GAAI,GAAI,IAC9F,CAAEoB,KAAM,eAAgBxE,GAAI,EAAGyE,UAAW,KAAMzB,KAAM,IAAII,KAAK,KAAM,EAAG,EAAG,GAAI,GAAI,GAAI,IACvF,CAAEoB,KAAM,oBAAqBxE,GAAI,EAAGyE,UAAW,OAAQzB,KAAM,IAAII,KAAK,KAAM,EAAG,EAAG,GAAI,GAAI,GAAI,IAC9F,CAAEoB,KAAM,aAAcxE,GAAI,EAAGyE,UAAW,OAAQzB,KAAM,IAAII,KAAK,KAAM,EAAG,EAAG,GAAI,GAAI,GAAI,IACvF,CAAEoB,KAAM,cAAexE,GAAI,EAAGyE,UAAW,KAAMzB,KAAM,IAAII,KAAK,KAAM,EAAG,EAAG,GAAI,GAAI,GAAI,KAEtFuB,KAAO,CAAC,CAAEH,KAAM,OAAQxE,GAAI,EAAGyE,UAAW,OAAQzB,KAAM,IAAII,KAAK,KAAM,EAAG,GAAI,GAAI,GAAI,GAAI,IAC1F,CAAEoB,KAAM,eAAgBxE,GAAI,EAAGyE,UAAW,OAAQzB,KAAM,IAAII,KAAK,KAAM,EAAG,GAAI,GAAI,GAAI,GAAI,IAC1F,CAAEoB,KAAM,+BAAgCxE,GAAI,EAAGyE,UAAW,KAAMzB,KAAM,IAAII,KAAK,KAAM,EAAG,GAAI,GAAI,GAAI,GAAI,IACxG,CAAEoB,KAAM,uBAAwBxE,GAAI,EAAGyE,UAAW,OAAQzB,KAAM,IAAII,KAAK,KAAM,EAAG,GAAI,GAAI,GAAI,GAAI,IAClG,CAAEoB,KAAM,aAAcxE,GAAI,EAAGyE,UAAW,KAAMzB,KAAM,IAAII,KAAK,KAAM,EAAG,GAAI,GAAI,GAAI,GAAI,IACtF,CAAEoB,KAAM,gBAAiBxE,GAAI,EAAGyE,UAAW,KAAMzB,KAAM,IAAII,KAAK,KAAM,EAAG,GAAI,GAAI,GAAI,GAAI,IACzF,CAAEoB,KAAM,4BAA6BxE,GAAI,EAAGyE,UAAW,OAAQzB,KAAM,IAAII,KAAK,KAAM,EAAG,GAAI,GAAI,GAAI,GAAI,IACvG,CAAEoB,KAAM,sBAAuBxE,GAAI,EAAGyE,UAAW,KAAMzB,KAAM,IAAII,KAAK,KAAM,EAAG,GAAI,GAAI,GAAI,GAAI,IAC/F,CAAEoB,KAAM,qBAAsBxE,GAAI,EAAGyE,UAAW,KAAMzB,KAAM,IAAII,KAAK,KAAM,EAAG,GAAI,GAAI,GAAI,GAAI,KAE9FwB,KAAO,CAAC,CAAEJ,KAAM,cAAexE,GAAI,EAAGyE,UAAW,KAAMzB,KAAM,IAAII,KAAK,KAAM,EAAG,GAAI,GAAI,GAAI,GAAI,IAC/F,CAAEoB,KAAM,cAAexE,GAAI,EAAGyE,UAAW,OAAQzB,KAAM,IAAII,KAAK,KAAM,EAAG,GAAI,GAAI,GAAI,GAAI,IACzF,CAAEoB,KAAM,mDAAoDxE,GAAI,EAAGyE,UAAW,KAAMzB,KAAM,IAAII,KAAK,KAAM,EAAG,GAAI,GAAI,GAAI,GAAI,IAC5H,CAAEoB,KAAM,0CAA2CxE,GAAI,EAAGyE,UAAW,OAAQzB,KAAM,IAAII,KAAK,KAAM,EAAG,GAAI,GAAI,GAAI,GAAI,IACrH,CAAEoB,KAAM,mBAAoBxE,GAAI,EAAGyE,UAAW,OAAQzB,KAAM,IAAII,KAAK,KAAM,EAAG,GAAI,GAAI,GAAI,GAAI,IAC9F,CAAEoB,KAAM,kBAAmBxE,GAAI,EAAGyE,UAAW,KAAMzB,KAAM,IAAII,KAAK,KAAM,EAAG,GAAI,GAAI,GAAI,GAAI,IAC3F,CAAEoB,KAAM,+BAAgCxE,GAAI,EAAGyE,UAAW,OAAQzB,KAAM,IAAII,KAAK,KAAM,EAAG,GAAI,GAAI,GAAI,GAAI,IAC1G,CAAEoB,KAAM,cAAexE,GAAI,EAAGyE,UAAW,OAAQzB,KAAM,IAAII,KAAK,KAAM,EAAG,GAAI,GAAI,GAAI,GAAI,IACzF,CAAEoB,KAAM,UAAWxE,GAAI,EAAGyE,UAAW,KAAMzB,KAAM,IAAII,KAAK,KAAM,EAAG,GAAI,GAAI,GAAI,GAAI,KAEnFyB,MAAQ,CAAC,CAAEL,KAAM,YAAaxE,GAAI,EAAGyE,UAAW,OAAQzB,KAAM,IAAII,KAAK,KAAM,EAAG,EAAG,GAAI,GAAI,GAAI,IAC/F,CAAEoB,KAAM,kBAAmBxE,GAAI,EAAGyE,UAAW,OAAQzB,KAAM,IAAII,KAAK,KAAM,EAAG,EAAG,GAAI,GAAI,GAAI,IAC5F,CAAEoB,KAAM,eAAgBxE,GAAI,EAAGyE,UAAW,KAAMzB,KAAM,IAAII,KAAK,KAAM,EAAG,EAAG,GAAI,GAAI,GAAI,IACvF,CAAEoB,KAAM,mBAAoBxE,GAAI,EAAGyE,UAAW,OAAQzB,KAAM,IAAII,KAAK,KAAM,EAAG,EAAG,GAAI,GAAI,GAAI,IAC7F,CAAEoB,KAAM,oGAAqGxE,GAAI,EAAGyE,UAAW,KAAMzB,KAAM,IAAII,KAAK,KAAM,EAAG,EAAG,GAAI,GAAI,GAAI,IAC5K,CAAEoB,KAAM,SAAUxE,GAAI,EAAGyE,UAAW,OAAQzB,KAAM,IAAII,KAAK,KAAM,EAAG,EAAG,GAAI,GAAI,GAAI,IACnF,CAAEoB,KAAM,6BAA8BxE,GAAI,EAAGyE,UAAW,OAAQzB,KAAM,IAAII,KAAK,KAAM,EAAG,EAAG,GAAI,GAAI,GAAI,IACvG,CAAEoB,KAAM,OAAQxE,GAAI,EAAGyE,UAAW,KAAMzB,KAAM,IAAII,KAAK,KAAM,EAAG,EAAG,GAAI,GAAI,GAAI,IAC/E,CAAEoB,KAAM,yBAA0BxE,GAAI,EAAGyE,UAAW,KAAKzB,KAAM,IAAII,KAAK,KAAM,EAAG,EAAG,GAAI,GAAI,GAAI,IAChG,CAAEoB,KAAM,QAASxE,GAAI,GAAIyE,UAAW,OAAQzB,KAAM,IAAII,KAAK,KAAM,EAAG,EAAG,GAAI,GAAI,GAAI,OAsBhF0B,EAnBQ,WAAmC,IAAlClD,EAAiC,uDAAzBa,EAAcsC,EAAW,uCACrD,OAAQA,EAAOlC,MACX,IA/Da,eAgET,IAAImC,EAAa,CACbR,KAAMO,EAAOE,eACbjF,GAAI4B,EAAM0C,QAAQS,EAAO/K,QAAQmG,OAAS,EAAIyB,EAAM0C,QAAQS,EAAO/K,QAAQ4H,EAAM0C,QAAQS,EAAO/K,QAAQmG,OAAS,GAAGH,GAAK,EAAI,EAC7HyE,UAAW,KACXzB,KAAM,IAAII,MAGd,OADA8B,QAAQC,IAAIH,GACL,2BAAIpD,GAAX,IACY0C,QAAQ,2BAAK1C,EAAM0C,SAAZ,kBAAsBS,EAAO/K,OAAU4H,EAAM0C,QAAQS,EAAO/K,QAAQoL,OAAOJ,OAClG,IAxEgB,kBAyEZ,OAAO,2BAAIpD,GAAX,IACI0C,QAAQ,2BAAK1C,EAAM0C,SAAZ,kBAAsBS,EAAO/K,OAAU,OACtD,QAAS,OAAO4H,I,kCCjDTyD,EAtBD,SAACnJ,GACX,IAAIoI,EAAUpI,EAAMoI,QAAQvE,KAAM,SAAAuF,GAC9B,IAAIjI,EAAO,GACPF,EAAQ,GAOZ,OANAjB,EAAM+F,QAAQsD,SAAQ,SAAChE,GACfA,EAAOvB,IAAMsF,IACbjI,EAAOkE,EAAOlE,KACdF,EAAQoE,EAAO1H,OAAOoG,UAGtB,yBAAKpD,UAAW2I,IAAI1I,IAAQ2I,MAAOvJ,EAAMlC,SAAWsL,GAAUxI,IAAQ4I,cAAevG,IAAKmG,GAClG,yBAAKzI,UAAWC,IAAQ6I,YAAa5I,IAAKI,EAAOF,IAAI,KACrD,kBAAC,IAAD,CAASC,GAAI,YAAcoI,EAAQrE,gBAAiBnE,IAAQoE,QAAS7D,OAGzE,OACI,yBAAKR,UAAWC,IAAQ8I,SACnBtB,ICMEuB,EAtBE,SAAC,GAAkB,IAAhBC,EAAe,EAAfA,SACZC,EAAgBC,iBAAO,MAK3B,OADAC,qBAAU,WAFNF,EAAcG,QAAQC,gBAAe,KAEL,CAACL,EAAUC,IAE3C,yBAAKlJ,UAAWC,IAAQsJ,mBACpB,yBAAKvJ,UAAWC,IAAQgJ,YACjBA,GAAYA,EAAS/F,KAAI,SAAAsG,GAAO,OAE/B,yBAAKlH,IAAKkH,EAAQrG,GAAInD,UAAWC,IAAQuJ,QAAU,KAA6B,SAAtBA,EAAQ5B,UAAuB3H,IAAQwJ,KAAOxJ,IAAQI,KAC5G,6BAAMmJ,EAAQ7B,MACd,yBAAK3H,UAAWC,IAAQyJ,aAAchD,IAAO8C,EAAQrD,MAAMQ,eAGnE,yBAAKgD,IAAKT,O,+CCnBpBU,GAAc,SAAC,GAAsB,IAArBC,EAAoB,EAApBA,KAAMpF,EAAc,EAAdA,SAClBqF,EAAWD,EAAKE,OAASF,EAAKG,QACpC,OACI,yBAAKhK,UAAWC,KAAQgK,YAAc,KAAOH,GAAY7J,KAAQ6J,WAC5DrF,EACD,0BAAMzE,UAAWC,KAAQiK,cAAeJ,GAAYD,EAAKE,SAKxDI,GAAW,SAAC9K,GAAW,IACzB+K,EAAwC/K,EAAxC+K,MAAa3H,GAA2BpD,EAAjCwK,KAAiCxK,EAA3BoD,WAAc4H,EADH,aACgBhL,EADhB,8BAE/B,OACI,kBAAC,GAAgBA,EAAjB,IAAyB,0BAAMW,UAAWC,KAAQwC,WAAYA,GAC9D,4CAAUzC,YAAayC,GAAaxC,KAAQqK,cAAkBF,EAAWC,IADzE,MAIKE,GAAQ,SAAClL,GAAW,IACtB+K,EAAwC/K,EAAxC+K,MAAa3H,GAA2BpD,EAAjCwK,KAAiCxK,EAA3BoD,WAAc4H,EADN,aACmBhL,EADnB,8BAE5B,OACI,kBAAC,GAAgBA,EAAjB,IAAyB,0BAAMW,UAAWC,KAAQwC,WAAYA,GAC9D,yCAAOzC,YAAayC,GAAaxC,KAAQuK,WAAcJ,EAAWC,IADlE,MCvBKI,GAAW,SAAC9N,GACrB,OAAOA,OAAO+N,EAAY,qBAEjBC,GAAY,SAACrH,GACtB,OAAQ,SAAC3G,GACL,OAAQA,GACNA,EAAK2G,OAASA,EAAd,wBAAwCA,EAAxC,iBADaoH,IAIVE,GAAY,SAACjO,GACtB,GAAKA,EACL,OAASA,EAAKkO,SAAS,aAAelO,EAAKkO,SAAS,aAAelO,EAAKmO,QAAQ,KAAO,GAAKnO,EAAKmO,QAAQ,KAAOnO,EAAK2G,OAAS,OAAKoH,EAAY,0BCJ7IK,GAAeJ,GAAW,KAqBjBK,GAFSC,YAAU,CAACC,KAAM,kBAAjBD,EAhBL,SAAC5L,GAOhB,OACI,0BAAM8L,SAAU9L,EAAM+L,aAAcpL,UAAWC,IAAQkI,YACnD,kBAACkD,EAAA,EAAD,CAAOC,UAAWnB,GAAUoB,UAAW,SAACjJ,IAR5B,SAACA,GACG,KAAhBA,EAAIkJ,UACJlJ,EAAImJ,iBACJpM,EAAM+L,gBAK2CM,CAAYpJ,IAAOtC,UAAWC,IAAQmI,eAAgBuD,YAAY,6BACnHnL,KAAK,iBAAiBoL,SAAU,CAACb,MACjC,kBAACjK,EAAA,EAAD,CAAQO,UAAWhC,EAAMwM,MAAO7L,UAAWC,IAAQ6L,KAAM7K,MAAM,SAAS+E,KAAK,UAA7E,YCMG+F,GArBC,SAAC1M,GACb,IAAIlC,EAASkC,EAAM2M,MAAMC,OAAOC,OAQhC,OAPK/O,GAAWkC,EAAM+F,QAAQ9B,OAAS,IAAMjE,EAAM+F,QAAQrF,MAAK,SAAA2E,GAAM,OAAIA,EAAOvB,IAAMhG,KACnFkC,EAAM8M,QAAQ9J,KAAK,YAAc5C,OAAOC,KAAKL,EAAMoI,SAAS,IAEtDtK,IAAWsC,OAAOC,KAAKL,EAAMoI,SAASoD,SAAS1N,IACjDkC,EAAM+M,cAAcjP,GAIxB,yBAAK6C,UAAWC,IAAQwH,SACpB,yBAAKzH,UAAWC,IAAQoM,MACpB,kBAAC,EAAD,CAAUpD,SAAU5J,EAAMoI,QAAQtK,KAClC,kBAAC,GAAD,CAAiBgO,SAAU,SAACxO,GAAW0C,EAAMiN,YAAY3P,EAAKyL,eAAgBjL,GAASkC,EAAMkN,MAAM,sBAGvG,kBAAC,EAAD,CAAO9E,QAAShI,OAAOC,KAAKL,EAAMoI,SAAUtK,OAAQA,EAAQiI,QAAS/F,EAAM+F,YClBnFoH,GAA6B,SAACzH,GAC9B,MAAO,CAAC0H,OAAQ1H,EAAMnG,KAAK6N,SAGlBC,GAAmB,SAACnH,GAM7B,OADiCE,YAAS+G,GAAT/G,EAJT,SAACpG,GACrB,OAAKA,EAAMoN,OACJ,kBAAClH,EAAclG,GADK,kBAAC,IAAD,CAAUgB,GAAG,e,kBCMjCsM,gBAAQC,IAAYnH,aAPb,SAACV,GACnB,MAAO,CACH0C,QAAS1C,EAAM8H,aAAapF,QAC5BrC,QAASL,EAAMvB,UAAU4B,WAI2B,CAACkH,YRblC,SAAClE,EAAgBjL,GAAjB,MAA6B,CAAC6I,KAHpC,eAGwDoC,iBAAgBjL,WQanBiP,cRZ7C,SAACjP,GAAD,MAAa,CAAC6I,KAHnB,kBAG0C7I,WQYuBoP,aAASG,GAAnFC,CAAqGZ,I,gDCkCrGd,eAAU,CAAEC,KAAM,gBAAlBD,EAzCK,SAAC,GAA4E,IAA1E5N,EAAyE,EAAzEA,QAASyP,EAAgE,EAAhEA,yBAA0B1B,EAAsC,EAAtCA,aAAc2B,EAAwB,EAAxBA,QAAY1N,EAAY,kFAElD2N,oBAAS,GAFyC,oBAEvFC,EAFuF,KAEvEC,EAFuE,KAG5F9D,qBAAU,WAAQ8D,EAAkB7P,EAAQ4P,kBAAmB,CAAC5P,EAAQ4P,iBACxE7D,qBAAU,YACL2D,GAAWD,GAAyB,KACtC,CAACC,EAASD,IACb,IAAIK,EAAW1N,OAAOC,KAAKrC,EAAQ8P,UAAUjK,KAAI,SAAAkK,GAAO,OAAI,yBAAK9K,IAAK8K,EAASpN,UAAWC,KAAQmN,SAC9F,kBAAC/B,EAAA,EAAD,CAAO5I,UAAW2K,EAAS5M,KAAM,YAAc4M,EAAS9B,UAAWf,GAAOqB,SAAU,CAAChB,UAEzF,OACI,0BAAM5K,UAAWC,KAAQoN,YAAalC,SAAUC,GAC5C,6BAAM/L,EAAM0K,OAAS1K,EAAM0K,OAC3B,yBAAK/J,UAAWC,KAAQqN,YAAY,kBAACjC,EAAA,EAAD,CAAO5I,UAAU,YAAYjC,KAAK,WAAW8K,UAAWf,GAAOoB,YAAY,cAA/G,KAEA,yBAAK3L,UAAWC,KAAQsN,SAAS,0BAAMvN,UAAWC,KAAQuN,UAAzB,uBAC7B,kBAACnC,EAAA,EAAD,CAAOrL,UAAWC,KAAQwN,YAAajN,KAAK,iBAAiBkN,QAAST,EAAgBU,SAAU,SAACpL,GAAQ2K,GAAmBD,IACxH3B,UAAWf,GAAOvE,KAAK,aAF/B,KAIA,yBAAKhG,UAAWC,KAAQqN,YAAY,kBAACjC,EAAA,EAAD,CAAOhK,UAAW4L,EAAgBxK,UAAU,sBAAsBjC,KAAK,4BACvG8K,UAAWf,GAAOoB,YAAY,8BAElC,yBAAK3L,UAAWC,KAAQ2N,SAAS,kBAACvC,EAAA,EAAD,CAAO5I,UAAU,WAAWjC,KAAK,UAAU8K,UAAWnB,MACvF,6BAAK,0BAAMnK,UAAWC,KAAQuN,UAAzB,cACL,yBAAKxN,UAAWC,KAAQkN,UAAWA,GAEnC,yBAAKnN,UAAWC,KAAQ4N,eACnBxO,EAAMyO,eACD,kBAACvK,EAAA,EAAD,MAGV,kBAACzC,EAAA,EAAOiN,MAAR,KACI,kBAACjN,EAAA,EAAD,CAAQK,QAAS,WAAK2L,GAAyB,KAA/C,UACA,kBAAChM,EAAA,EAAOkN,GAAR,MACA,kBAAClN,EAAA,EAAD,CAAQG,MAAM,SAAS+E,KAAK,UAA5B,cC9BDiI,GATD,SAAC,GAAe,IAAd5Q,EAAa,EAAbA,QACZ,OACI,yBAAK2C,UAAW2I,IAAG1I,KAAQiO,iBAAkBjO,KAAQkO,QACjD,wBAAInO,UAAWC,KAAQ0E,OAAvB,gBACCtH,EAAQ4P,gBAAiB,uBAAGjN,UAAWC,KAAQ0H,MAAM,0BAAM3H,UAAWC,KAAQmO,YAAzB,yBAAkE/Q,EAAQgR,2BAChI,uBAAGrO,UAAWC,KAAQ0H,MAAM,0BAAM3H,UAAWC,KAAQmO,YAAzB,aAA5B,IAAmF/Q,EAAQuQ,WCYxFnI,gBAAQ,SAACV,GAAD,MAAY,CAACK,QAASL,EAAMvB,UAAU4B,WAA9CK,EAdC,SAAC,GAAe,IAAdL,EAAa,EAAbA,QAEVkJ,EADgBhJ,YAAaF,EAAS,GACXlC,KAAI,SAAAwB,GACnC,OAAO,kBAAC,EAAD,CAAQpE,MAAOoE,EAAO,GAAG1H,OAAOoG,MAAOd,IAAKoC,EAAO,GAAGvB,GAAIA,GAAMuB,EAAO,GAAGvB,IAAI,6BAAMuB,EAAO,GAAGlE,UAErG,OACI,yBAAKR,UAAW2I,IAAG1I,KAAQiO,iBAAkBjO,KAAQmF,SAAUjC,GAAG,WAC9D,wBAAInD,UAAWC,KAAQ0E,OAAvB,YACA,yBAAK3E,UAAWC,KAAQsO,cACnBD,OCdX1I,GAAe,CACjB5I,OAAQ,GACRF,eAAgB,GAChBuG,YAAY,GAKVmL,GAAY,SAACxR,GAAD,MAAa,CAACgJ,KAAM,aAAchJ,WAC9CiJ,GAAiB,SAAC5C,GAAD,MAAiB,CAAC2C,KAAM,kBAAmB3C,e,oBCcnDoL,OArBf,YAA4C,IAA5BC,EAA2B,EAA3BA,UAAWpO,EAAgB,EAAhBA,MAAgB,KAAT8F,OACR7E,IAAMyL,UAAS,IADE,oBAClC2B,EADkC,KAC5BC,EAD4B,KAGzC,OACE,kBAACC,GAAA,EAAD,CACAC,KAAK,QACLC,WAAS,EACTC,OAAO,WACPC,OAAK,EACHN,KAAMA,EACNO,QAAS,yBAAKlP,UAAWC,KAAQK,MAAOJ,IAAKwO,EAAWtO,IAAI,KAC5D+O,QAAS,kBAAMP,GAAQ,IACvBQ,OAAQ,kBAAMR,GAAQ,KAEtB,kBAACC,GAAA,EAAMQ,QAAP,KACE,kBAACC,GAAA,EAAD,CAAOpP,IAAKI,EAAON,UAAWC,KAAQsP,qBCVxCC,G,kLAGEvK,KAAK5F,MAAMoQ,UAAUxK,KAAK5F,MAAMvC,eAAgB4S,SAASzK,KAAK5F,MAAMlC,OAAO8H,KAAK5F,MAAMlC,OAAOmG,OAAS,IAAM,K,+BAI5G,OACA,yBAAKtD,UAAW2I,IAAG1I,KAAQiO,iBAAkBjO,KAAQjD,SACjD,wBAAIgD,UAAWC,KAAQ0E,OAAvB,UAEAM,KAAK5F,MAAMgE,WAEX,kBAACE,EAAA,EAAD,MAEA,yBAAKvD,UAAWC,KAAQ0P,aAAc1K,KAAK5F,MAAMrC,OAAOkG,KAAI,SAAC5C,EAAOsP,GAAR,OAAkB,kBAAC,GAAD,CAAOlB,UAAWpO,EAAMJ,IAAI2P,KACtGvP,MAAOA,EAAMJ,IAAI4P,MAAO1J,OAAQ9F,EAAMyP,aAAczN,IAAKsN,a,GAhBpDrO,IAAMgE,WAqBZE,gBAAQ,SAAAV,GAAK,MAAK,CAAC/H,OAAQ+H,EAAMiL,MAAMhT,OAAQF,eAAgBiI,EAAMiL,MAAMlT,eAAgBuG,WAAY0B,EAAMiL,MAAM3M,cAAc,CAACoM,UFPxH,SAAC3S,EAAgBC,GACtC,8CAAO,WAAOsK,GAAP,eAAAC,EAAA,6DACHD,EAASpB,IAAe,IADrB,SAEgBpJ,YAAkBC,EAAgBC,GAFlD,OAECC,EAFD,OAGHqK,EAASmH,GAAUxR,IACnBqK,EAASpB,IAAe,IAJrB,2CAAP,wDEMWR,CAA8I+J,ICV9IS,GAfE,SAAC,GAAgB,IAAf9C,EAAc,EAAdA,SACX+C,EAAkBzQ,OAAOC,KAAKyN,GAAUjK,KACxC,SAACkK,GAAD,QAAeD,EAASC,IAChB,kBAACtM,EAAA,EAAD,CAAQ8F,KAAMuG,EAASC,GAAUvG,OAAO,QAAQ5F,MAAOmM,EAAS9K,IAAK8K,GACjE,kBAAC9I,EAAA,EAAD,CAAM9D,KAAM4M,IADhB,IAC6BA,MAEzC,OACI,yBAAKjK,GAAG,WAAWnD,UAAW2I,IAAG1I,KAAQiO,iBAAkBjO,KAAQkN,WAC/D,wBAAInN,UAAWC,KAAQ0E,OAAvB,aACI,kBAAC7D,EAAA,EAAOiN,MAAR,CAAcoC,UAAQ,EAACC,OAAO,KACzBF,K,UCMNG,GAjBU,SAAC,GAA0B,IAAzBC,EAAwB,EAAxBA,WAAYC,EAAY,EAAZA,OAC7BrB,EACF,0BAAMlP,UAAWC,KAAQuQ,UACvB,kBAAClM,EAAA,EAAD,CAAM9D,KAAK,yBAITiQ,EAAU,CACd,CAAEnO,IAAK,SAAUtB,KAAM,kBAAmBG,QAAS,WAAOmP,EAAWC,IAAUG,QAAU,0BAAM1Q,UAAWC,KAAQ0Q,QAAzB,iBAG7F,OACI,kBAACC,GAAA,EAAD,CAAUC,SAAS,YAAY3B,QAASA,EAASuB,QAASA,EAASzQ,UAAWC,KAAQ6Q,cAAe9P,KAAM,Q,UCkCpG+P,GA1CF,SAAC,GAAkF,IAAjFzQ,EAAgF,EAAhFA,MAAOE,EAAyE,EAAzEA,KAAM2F,EAAmE,EAAnEA,KAAM4G,EAA6D,EAA7DA,QAASpF,EAAoD,EAApDA,KAAMqJ,EAA8C,EAA9CA,WAAYV,EAAkC,EAAlCA,WAAYC,EAAsB,EAAtBA,OAAQU,EAAc,EAAdA,SAAc,EACnEjE,oBAAS,GAD0D,oBACtFkE,EADsF,KAC/EC,EAD+E,KAE3F,OACI,yBAAKnR,UAAW2I,IAAG1I,KAAQzB,KAAMyB,KAAQiO,mBACrC,yBAAKlO,UAAWC,KAAQmR,YACpB,yBAAKpR,UAAWC,KAAQmG,QACpB,yBAAKpG,UAAWC,KAAQJ,KAAMK,IAAKI,GAAS+Q,IAAgBjR,IAAI,KAChE,6BACI,uBAAGJ,UAAWC,KAAQqR,UAAW9Q,GACjC,uBAAGR,UAAWC,KAAQkG,MAAOA,EAAKoL,kBAGzCxE,GAAW,kBAAC,GAAD,CAAkBuD,WAAYA,EAAYC,OAAQA,KAElE,yBAAKvQ,UAAWC,KAAQuR,UACpB7J,GAEJ,yBAAK3H,UAAWC,KAAQwR,UACpB,6BACI,kBAAC3Q,EAAA,EAAD,CAAQC,UAAQ,EAACE,MAAM,WAAWD,KAAK,WAAW6F,OAAO,QACzDD,KAAM,uDAAyD8K,mBAAmB/J,KAClF,kBAAC7G,EAAA,EAAD,CAAQC,UAAQ,EAACE,MAAM,UAAUD,KAAK,UAAU6F,OAAO,QACvDD,KAAM,iCAAmC8K,mBAAmB/J,KAC5D,kBAAC7G,EAAA,EAAD,CAAQC,UAAQ,EAACE,MAAM,KAAKD,KAAK,KAAK6F,OAAO,QAC7CD,KAAM,6CAA+C8K,mBAAmB/J,MAE5E,yBAAK3H,UAAWC,KAAQ0R,OACpB,kBAAC7Q,EAAA,EAAD,CAAQ8Q,GAAG,MAAMC,cAAc,SAC3B,kBAAC/Q,EAAA,EAAD,CAAQmO,MAAOiC,EAAOjQ,MAAM,MAAME,QAAS,WAAO8P,EAASV,GAASY,GAAS,KACzE,kBAAC7M,EAAA,EAAD,CAAM9D,KAAK,UACV0Q,EAAQ,QAAU,QAEvB,kBAACY,GAAA,EAAD,CAAOF,GAAG,IAAI3C,OAAK,EAAChO,MAAM,MAAM4P,SAAS,QACpCG,QChCvBe,GAAepH,GAAU,KAWhBM,eAAU,CAACC,KAAM,WAAjBD,EATC,SAAC5L,GACb,OACI,0BAAM8L,SAAU9L,EAAM+L,aAAcpL,UAAW2I,IAAG1I,KAAQ+R,QAAS/R,KAAQiO,mBACvE,kBAAC7C,EAAA,EAAD,CAAOC,UAAWnB,GAAU3J,KAAK,cAAcoL,SAAU,CAACmG,IAC1DtP,UAAY,wBACZ,kBAAC3B,EAAA,EAAD,CAAQO,UAAWhC,EAAMwM,MAAO5K,MAAM,SAAS+E,KAAK,UAApD,YCEGiM,GAZD,SAAC,GAA6D,IAA5DC,EAA2D,EAA3DA,QAAS5B,EAAkD,EAAlDA,WAAY/D,EAAsC,EAAtCA,MAAO4F,EAA+B,EAA/BA,MAAOlB,EAAwB,EAAxBA,SAAa5R,EAAW,oEACnE+S,EAAYD,EAAMjP,KAAI,SAAA1E,GAAI,OAAI,kBAAC,GAAD,CAAOyS,SAAUA,EAAU3O,IAAK9D,EAAK2E,GAAI4J,QAAW1N,EAAM0N,QAAS5G,KAAM3H,EAAK2H,KAAMoK,OAAQ/R,EAAK2E,GAC/H3C,KAAOnB,EAAMmB,KAAMmH,KAAMnJ,EAAKgL,QAASwH,WAAYxS,EAAKwS,WAAY1Q,MAAOjB,EAAMiB,MAAOgQ,WAAYA,OAExG,OADA8B,EAAUC,UAEN,yBAAKrS,UAAW2I,IAAG1I,KAAQqS,QAASrS,KAAQkS,OAAQhP,GAAG,WAChD9D,EAAM0N,SAAW,kBAAC,GAAD,CAAS5B,SAAU,SAACxO,GAAUuV,EAAQvV,EAAK4V,aAAchG,EAAM,cAClF6F,ICoBEI,GAxBY,SAAC,GACkE,IADhEnV,EAC+D,EAD/DA,QAAS0P,EACsD,EADtDA,QAAS0F,EAC6C,EAD7CA,gBAAiB3F,EAC4B,EAD5BA,yBAC7D4F,EAAyF,EAAzFA,cAAe5E,EAA0E,EAA1EA,eAAgBqE,EAA0D,EAA1DA,MAAOD,EAAmD,EAAnDA,QAAS5B,EAA0C,EAA1CA,WAAY/D,EAA8B,EAA9BA,MAAO0E,EAAuB,EAAvBA,SAAU9T,EAAa,EAAbA,OAE5E,OACKsV,EAeG,kBAAC,GAAD,CAAaE,cAAetV,EAASA,QAASA,EAASoV,gBAAiBA,EAAiB3E,eAAgBA,EACzGhB,yBAA0BA,EAA0BC,QAASA,EAAS5B,SAAU,SAACtN,GAAc6U,EAAc7U,EAAUR,EAAQF,WAf/H,yBAAK6C,UAAWC,KAAQM,aAEpB,6BACI,kBAAC,GAAD,CAAOlD,QAASA,IAChB,kBAAC,GAAD,OAEJ,kBAAC,GAAD,CAAO0P,QAAUA,EAASzM,MAAOjD,EAAQL,OAAOoG,MAAOmJ,MAASA,EAAO4F,MAAQA,EAC/ED,QAASA,EAAS5B,WAAYA,EAAY9P,KAAMnD,EAAQuV,SAAU3B,SAAUA,IAC5E,6BACI,kBAAC,GAAD,CAAQ9T,OAAQA,IAChB,kBAAC,GAAD,CAAUgQ,SAAU9P,EAAQ8P,c,8BC2BjC0F,GA5CQ,SAAC,GAA4F,IAG5GC,EAHiB/F,EAA0F,EAA1FA,QAASD,EAAiF,EAAjFA,yBAA0B1H,EAAuD,EAAvDA,QAAS7G,EAA8C,EAA9CA,OAAQE,EAAsC,EAAtCA,SAAUqB,EAA4B,EAA5BA,eAAgB3C,EAAY,EAAZA,OAC/F0D,EAAWuE,EAAQrF,MAAK,SAAA2E,GAAM,OAAIA,EAAOvB,IAAMhG,KAD4D,EAErF6P,oBAAS,GAF4E,oBAE1G+F,EAF0G,KAElGC,EAFkG,KAK/G,OADAF,IAAsBhT,EAAeC,MAAK,SAAAF,GAAI,OAAIA,IAAS1C,KAEvD,yBAAK6C,UAAWC,KAAQgT,gBACpB,kBAAC,QAAD,CAAM5S,GAAG,QAAQ6S,QAAQ,EAAMC,OAAQ,IAAKC,SAAU,KAClD,yBAAKpT,UAAWC,KAAQoT,mBAAxB,UAGJ,kBAAC,QAAD,CAAMhT,GAAG,QAAQ6S,QAAQ,EAAMC,OAAQ,IAAKC,SAAU,KAClD,yBAAKpT,UAAWC,KAAQoT,mBAAxB,UAGJ,yBAAKrT,UAAWC,KAAQqT,UAExB,kBAAC,QAAD,CAAMjT,GAAG,UAAU6S,QAAQ,EAAMC,QAAS,GAAIC,SAAW,KACrD,yBAAKpT,UAAWC,KAAQoT,mBAAxB,YAGJ,kBAAC,QAAD,CAAMhT,GAAG,WAAW6S,QAAQ,EAAMC,QAAS,GAAIC,SAAW,KACtD,yBAAKpT,UAAWC,KAAQoT,mBAAxB,aAGJ,yBAAKrT,UAAWC,KAAQsT,eACnBxG,EACC,kBAACjM,EAAA,EAAD,CAAQgO,KAAK,OAAO/N,UAAQ,EAACC,KAAK,mBACpCG,QAAS,WAAQ2L,GAAyB,IAAS7L,MAAM,WACvD,oCACE,kBAAC,IAAD,CAASZ,GAAI,YAAclD,GACvB,kBAAC2D,EAAA,EAAD,CAAQO,UAAWR,EAAUiO,KAAK,OAAO/N,UAAQ,EAACC,KAAK,sBAAsBC,MAAM,YAE1FJ,EACG,kBAACC,EAAA,EAAD,CAAQgO,KAAK,OAAO5N,QAAS4R,EAAqBzR,SAAU0R,EAAQ5R,QAAS,WAAK1C,EAAStB,GAAS6V,GAAU,IAASjS,UAAQ,EAACC,KAAM+R,EAAS,QAAS,cAAe9R,MAAM,SAE7K,kBAACH,EAAA,EAAD,CAAQgO,KAAK,OAAO5N,QAAS4R,EAAqBzR,SAAU0R,EAAQ5R,QAAS,WAAK5C,EAAOpB,GAAS6V,GAAU,IAASjS,UAAQ,EAACC,KAAM+R,EAAS,QAAS,WAAY9R,MAAM,c,UCT7KuS,GA7BO,SAACnU,GAAW,IAAD,EAEC2N,oBAAU,GAFX,oBAExByG,EAFwB,KAEdC,EAFc,OAGH1G,mBAAU3N,EAAM3B,QAHb,oBAGxBA,EAHwB,KAGhBiW,EAHgB,KAK7BvK,qBAAU,WACNuK,EAAUtU,EAAM3B,UACjB,CAAC2B,EAAM3B,SAWV,OACI,yBAAKsC,UAAWC,KAAQvC,QACnB+V,GACG,2BAAOG,UAAU,OAAO5N,KAAK,OAAO6N,MAAOnW,EACvCoW,OAAQ,WAVpBJ,GAAY,GACZrU,EAAM5B,aAAaC,IAS0BiQ,SAAU,SAACpL,GANxDoR,EAM6EpR,EAN7DC,cAAcqR,WAOpBJ,GACE,0BAAMtS,QAAS,WAAO9B,EAAM0N,SAfxC2G,GAAY,KAewDrU,EAAM3B,QAAU,mB,0CCV7EqW,GAZM,SAAC,GAAmD,IAAlDC,EAAiD,EAAjDA,eAAgB3W,EAAiC,EAAjCA,QAAS0P,EAAwB,EAAxBA,QAASkH,EAAe,EAAfA,UACrD,OACI,oCACQ,yBAAK9Q,GAAG,QAAQnD,UAAW2I,IAAG1I,KAAQiU,IAAKF,GAAkB/T,KAAQkU,aAAcjU,IAAK7C,EAAQL,OAAO8S,OAASsE,KAAWhU,IAAI,gBAC9H2M,GACG,+BACI,kBAACzI,EAAA,EAAD,CAAMpE,IAAKmU,KAAW7T,KAAK,QAAQR,UAAWC,KAAQoU,YACtD,2BAAOrO,KAAK,OAAO2H,SAAU,SAACpL,GAAQ0R,EAAU1R,EAAEsE,OAAOyN,MAAM,KAAOtU,UAAWC,KAAQsU,oBCIlGC,GAZM,SAAC,GAAoE,IAAnEzH,EAAkE,EAAlEA,QAAS1P,EAAyD,EAAzDA,QAASK,EAAgD,EAAhDA,OAAQD,EAAwC,EAAxCA,aAAcN,EAA0B,EAA1BA,OAAWkN,EAAe,uEACrF,OACI,oCACI,yBAAKrK,UAAWC,KAAQE,UAAWD,IAAK5E,KAAWoU,SAASvS,GAAU,IAAKiD,IAAI,KAC/E,yBAAKJ,UAAWC,KAAQwU,aACpB,kBAAC,GAAD,eAAcpX,QAASA,EAAS0P,QAASA,GAAa1C,IACtD,wBAAIrK,UAAWC,KAAQ2S,UAAWvV,EAAQuV,UAC1C,kBAAC,GAAD,CAAelV,OAAQA,EAAQD,aAAcA,EAAcsP,QAASA,OCKrE2H,GAbO,SAACrV,GACnB,OACI,yBAAKW,UAAWC,KAAQ0U,eACpB,kBAAC,GAAiBtV,GAClB,kBAAC,GAAD,CAAgB0N,QAAS1N,EAAM0N,QAASD,yBAA0BzN,EAAMyN,yBACxEvO,OAAQc,EAAMd,OACdE,SAAUY,EAAMZ,SAChBqB,eAAgBT,EAAMS,eACtBsF,QAAS/F,EAAM+F,QACfjI,OAAQkC,EAAMlC,WCgBXyX,GAvBC,SAAC,GAA2I,IAAzIvX,EAAwI,EAAxIA,QAAS2W,EAA+H,EAA/HA,eAAgBC,EAA+G,EAA/GA,UAAWvW,EAAoG,EAApGA,OAAQD,EAA4F,EAA5FA,aAAcN,EAA8E,EAA9EA,OAAQoB,EAAsE,EAAtEA,OAAQE,EAA8D,EAA9DA,SAAU2G,EAAoD,EAApDA,QAAqBtF,GAA+B,EAA3CoF,WAA2C,EAA/BpF,gBAAmBT,EAAY,sJACvJ,OACI,yBAAKW,UAAWC,KAAQ4U,MACpB,kBAAC,GAAD,CAAeb,eAAgBA,EAC/BjH,QAAS1N,EAAM0N,QACfkH,UAAWA,EACX5W,QAASA,EACTF,OAAQA,EACRO,OAAQA,EACRD,aAAcA,EACdqP,yBAA4BzN,EAAMyN,yBAClCvO,OAAQA,EACRE,SAAUA,EACVqB,eAAgBA,EAChBsF,QAASA,IAET,kBAAC,GAAD,eAAoB/H,QAASA,EAASF,OAAQA,GAAYkC,M,SCNzDsU,GAAY,SAACjW,GAAD,MAAa,CAAEsI,KAZrB,aAYuCtI,WAE7CoX,GAAkB,SAAClV,GAAe,MAAO,CAAEoG,KAAM,mBAAoBpG,aAE5EmV,GAAiB,SAAC1R,GAAiB,MAAO,CAAE2C,KAAM,kBAAmB3C,eAC9DyJ,GAA2B,SAACkI,GAAe,MAAO,CAAEhP,KAAM,mBAAoBgP,aACrFpP,GAAe,CACjBvI,QAAS,KACTK,OAAQ,GAERyU,MACI,CAAC,CAAE3I,QAAS,sQAAkQrG,GAAI,EAAG6N,WAAY,GAAI7K,KAAM,IAAII,KAAK,KAAM,EAAG,IAC7T,CAAEiD,QAAS,iVAAwUrG,GAAI,EAAG6N,WAAY,GAAI7K,KAAM,IAAII,KAAK,KAAM,EAAG,KAClY,CAAEiD,QAAS,4xBAA+vBrG,GAAI,EAAG6N,WAAY,GAAI7K,KAAM,IAAII,KAAK,KAAM,EAAG,KACzzB,CAAEiD,QAAS,kpBAA8oBrG,GAAI,EAAG6N,WAAY,EAAG7K,KAAM,IAAII,KAAK,KAAM,EAAG,IACvsB,CAAEiD,QAAS,snBAAknBrG,GAAI,EAAG6N,WAAY,GAAI7K,KAAM,IAAII,KAAK,KAAM,EAAG,KAC5qB,CAAEiD,QAAS,2xBAAmwBrG,GAAI,EAAG6N,WAAY,GAAI7K,KAAM,IAAII,KAAK,KAAM,EAAG,KAC7zB,CAAEiD,QAAS,oSAAgSrG,GAAI,EAAG6N,WAAY,GAAI7K,KAAM,IAAII,KAAK,KAAM,EAAG,MAE9V3G,UAAU,EACVoU,gBAAgB,EAChBvB,iBAAiB,EACjB3E,gBAAgB,GAkEP5Q,GAAa,SAACM,GACvB,8CAAO,WAAO6J,GAAP,eAAAC,EAAA,sEACcrK,IAAWC,WAAWM,GADpC,OACCb,EADD,OAEH0K,EA5FgC,CAAErB,KAZtB,cAYyC3I,QA4FjCV,IAFjB,2CAAP,uDAKSY,GAAY,SAACC,GACtB,8CAAO,WAAO6J,GAAP,eAAAC,EAAA,sEACcrK,IAAWM,UAAUC,GADnC,OACCb,EADD,OAEH0K,EAASsM,GAAUhX,IAFhB,2CAAP,uDAwDWsY,GA/HQ,WAAmC,IAAlClQ,EAAiC,uDAAzBa,GAAcsC,EAAW,uCACrD,OAAQA,EAAOlC,MACX,IAxCS,WAyCL,IAAIgM,EAAU,CACVxI,QAAStB,EAAOP,KAAMxE,GAAI4B,EAAMoN,MAAMpN,EAAMoN,MAAM7O,OAAS,GAAGH,GAAK,EAAG6N,WAAY,EAAG7K,KAAM,IAAII,MAEnG,OAAO,2BACAxB,GADP,IAEIoN,MAAM,GAAD,oBAAMpN,EAAMoN,OAAZ,CAAmBH,MAEhC,IA5CY,cA6CR,OAAO,2BAAKjN,GAAZ,IAAmBoN,MAAOpN,EAAMoN,MAAM+C,QAAO,SAAA1W,GAAI,OAAIA,EAAK2E,KAAO+E,EAAO/E,QAC5E,IAjDY,cAkDR,OAAO,2BACA4B,GADP,IAEI1H,QAAS6K,EAAO7K,UAExB,IAjDU,YAkDN,OAAO,2BACA0H,GADP,IAEIoN,MAAOpN,EAAMoN,MAAMjP,KAAI,SAAA1E,GAEnB,OADAA,EAAK2E,KAAO+E,EAAO/E,IAAM3E,EAAKwS,aACvBxS,OAGnB,IA1DW,aA2DP,OAAO,2BAAKuG,GAAZ,IAAmB1H,QAAQ,2BAAM0H,EAAM1H,SAAb,IAAsBL,OAAQkL,EAAOlL,WACnE,IA/DW,aAgEP,OAAO,2BACA+H,GADP,IAEIrH,OAAQwK,EAAOxK,SAEvB,IAnEiB,mBAoEb,OAAO,2BACAqH,GADP,IAEInF,SAAUsI,EAAOtI,WAEzB,IApEiB,mBAqEb,OAAO,2BACAmF,GADP,IAEIiP,gBAAiBjP,EAAMiP,iBAE/B,IAxEgB,kBAyEZ,OAAO,2BACAjP,GADP,IAEI+I,eAAgB5F,EAAO7E,aAE/B,IA5EiB,mBA6Eb,OAAO,2BACA0B,GADP,IAEI0N,gBAAiBvK,EAAO8M,WAEhC,QAAS,OAAOjQ,ICjFlBoQ,G,kDACF,WAAa9V,GAAQ,IAAD,8BAChB,cAAMA,IACD0F,MAAQ,CACTgI,SAAU,GAHE,E,6DAQhB,IAAI5P,EAAS8H,KAAK5F,MAAM2M,MAAMC,OAAOC,QAAUjH,KAAK5F,MAAM+V,IACzDjY,GAAU8H,KAAK5F,MAAM8M,QAAQ9J,KAAK,UAC/BlF,IAAW8H,KAAK5F,MAAM+V,GACtBnQ,KAAKI,SAAS,CAAC0H,SAAU,IAEzB9H,KAAKI,SAAS,CAAC0H,SAAU,IAE7B9H,KAAK5F,MAAMgW,qBAAqBlY,GAChCuF,OAAOC,SAAS,EAAE,K,0CAGlBsC,KAAKqQ,mB,yCAEUnQ,GACVF,KAAK5F,MAAM2M,MAAMC,OAAOC,SAAW/G,EAAU6G,MAAMC,OAAOC,QAAYjH,KAAK5F,MAAM+V,KAAOjQ,EAAUiQ,IACnGnQ,KAAKqQ,mB,+BAIT,OAAIrQ,KAAK5F,MAAMO,WAAaqF,KAAK5F,MAAMhC,QAAkB,kBAACkG,EAAA,EAAD,MAClD,kBAAC,GAAD,iBAAa0B,KAAK5F,MAAlB,CAAyBlC,OAAQ8H,KAAK5F,MAAM2M,MAAMC,OAAOC,QAAUjH,KAAK5F,MAAM+V,GAAIrI,QAAS9H,KAAKF,MAAMgI,e,GA7BtFxL,IAAMgE,WAgDtBoH,gBACXlH,aAhBkB,SAACV,GACnB,MAAO,CACH1H,QAAS0H,EAAMwQ,YAAYlY,QAC3B8U,MAAOpN,EAAMwQ,YAAYpD,MACzBvS,SAAUmF,EAAMwQ,YAAY3V,SAC5BlC,OAAQqH,EAAMwQ,YAAY7X,OAC1B0X,GAAIrQ,EAAMnG,KAAKuE,GACf6Q,eAAgBjP,EAAMwQ,YAAYvB,eAClCvB,gBAAiB1N,EAAMwQ,YAAY9C,gBACnC3E,eAAgB/I,EAAMwQ,YAAYzH,eAClC1I,QAASL,EAAMvB,UAAU4B,QACzBtF,eAAgBiF,EAAMvB,UAAU1D,kBAKX,CAAEuV,qBDoCK,SAAC7X,GACjC,8CAAO,WAAO6J,GAAP,SAAAC,EAAA,6DACHD,EAASyN,IAAgB,IADtB,SAEGzN,EAASnK,GAAWM,IAFvB,uBAGG6J,EAAS9J,GAAUC,IAHtB,OAIH6J,EAASyN,IAAgB,IAJtB,2CAAP,uDCrCiD5C,QD/C9B,SAACvK,GAAD,MAAW,CAAE3B,KAXnB,WAWmC2B,SC+CU2I,WDhDpC,SAACnN,GAAD,MAAS,CAAE6C,KANjB,cAMoC7C,OCgDkB8N,SD9ClD,SAAC9N,GAAD,MAAS,CAAE6C,KANjB,YAMkC7C,OC8CgC2R,mBAAiBrX,aDwDzE,SAACC,GACzB,8CAAO,WAAO2J,GAAP,SAAAC,EAAA,sEACcrK,IAAWQ,aAAaC,GADtC,OAEqB,IAFrB,OAEM8X,YACLnO,EAASsM,GAAUjW,IAHpB,2CAAP,uDCxDIuW,UD+DiB,SAACrW,GACtB,8CAAO,WAAOyJ,GAAP,eAAAC,EAAA,6DACHD,EA3GsC,CAAErB,KAAM,qBA0G3C,SAEkB/I,IAAWU,YAAYC,GAFzC,OAGyB,KADxBlB,EAFD,QAGU8Y,YAAkBnO,EA/GF,CAAErB,KAVpB,aAUsChJ,OA+GAN,EAASC,KAAKK,SAC/DqK,EA9GsC,CAAErB,KAAM,qBA0G3C,2CAAP,uDChEe8G,4BAA0B4F,cDuEhB,SAAC/V,EAAMyY,GAEhC,IAAMK,EAAmB,SAACC,GACtB,IAAIC,EAAe,GAkBnB,OAjBAD,EAAOhN,SAAQ,SAACqB,GACZ,IACIP,EADAoM,EAAU,GAEVC,EAAe9L,EAAM+L,MAAM,KAC3BC,EAAcF,EAAaA,EAAavS,OAAS,GAGjDsS,EAFAG,EAAYC,OAAO,MAAQ,EAEjB,aADVJ,EAAUG,EAAYE,MAAMF,EAAYC,OAAO,MAAQ,GAAI,IAC3B,GAAGE,cAAgBN,EAAQO,UAAU,IAErEP,EAAUG,EAAYE,MAAM,GAAI,IACd,GAAGC,cAAgBN,EAAQO,UAAU,GAE3D3M,EAAUO,EAAM+L,MAAM,KAAK,GAE3BH,EAAaC,GAAWpM,EACxBnB,QAAQC,IAAIqN,MAETA,GAEX,8CAAO,WAAOtO,GAAP,eAAAC,EAAA,6DACHD,EAAS0N,IAAe,IADrB,SAEkB9X,IAAWG,WAAWT,GAFxC,OAGyB,KADxBD,EAFD,QAGU8Y,YACTnO,EAASnK,GAAWkY,IACpB/N,EAASyF,IAAyB,KAElCzF,EAAS+O,aAAW,eAAgBX,EAAiB/Y,EAASuM,YAElE5B,EAAS0N,IAAe,IATrB,2CAAP,uDC9FwDxI,WAAOhO,WAAQE,eACvEmO,IAAYF,GAHDC,CAGmBwI,I,oBC9BnBkB,GA3BE,SAAChX,GACd,IAAM6P,EACF,0BAAMlP,UAAWC,KAAQqW,cACvB,kBAAChH,GAAA,EAAD,CAAOiH,QAAM,EAACrW,IAAKb,EAAMiB,QAD3B,IACsCjB,EAAMmB,MAIxCiQ,EAAU,CACd,CACEnO,IAAK,OACLqF,KACE,0BAAM3H,UAAWC,KAAQuW,WAAzB,gBACe,gCAASnX,EAAMR,QAGhCwC,UAAU,GAEZ,CAAEiB,IAAK,UAAWtB,KAAM,OAAQ0P,QAAU,kBAAC,IAAD,CAAS1Q,UAAWC,KAAQ0Q,OAAQtQ,GAAG,YAAvC,YAC1C,CAAEiC,IAAK,WAAYtB,KAAM,WAAY0P,QAAU,0BAAM1Q,UAAWC,KAAQ0Q,OAAQxP,QAAS9B,EAAMH,QAAhD,aAGnD,OACI,kBAAC0R,GAAA,EAAD,CAAUC,SAAS,YAAY3B,QAASA,EAASuH,UAAQ,EAAChG,QAASA,EAASzQ,UAAWC,KAAQ6Q,iBCLxFlE,gBAlBA,SAACvN,GAAW,IAAD,EACA2N,mBAAS,IADT,oBACjB7O,EADiB,KACXuY,EADW,KAQtB,OACI,yBAAK1W,UAAWC,KAAQ0W,WACxB,2BAAO9C,MAAO1V,EAAMwN,YAAY,qBAAqBJ,UAAW,SAAAhJ,GAP5C,KAO6DA,EAPzEiJ,SAAkBrN,EAAKmF,OAAS,IACpCjE,EAAM8M,QAAQ9J,KAAK,UAAYlE,GAC/BuY,EAAQ,MAMZ/I,SAAU,SAACpL,GAAOmU,EAAQnU,EAAEC,cAAcqR,QAAS7T,UAAWC,KAAQ2W,cACtE,yBAAK5W,UAAWC,KAAQ4W,eAAe,kBAACvS,EAAA,EAAD,CAAM9D,KAAK,UAAUR,UAAWC,KAAQ6W,kBCExEC,GAdA,SAAC1X,GACZ,IAAIoB,EAAWpB,EAAMoB,SAASuW,SAASlB,MAAM,KAAK,GAClD,OACI,4BAAQ9V,UAAWC,KAAQgX,OAAS,IAAMhX,KAAQiX,eAC9C,yBAAKlX,UAAWC,KAAQkX,OACxB,yBAAKnX,UAAWC,KAAQmX,iBAAkB3W,EAAS4W,OAAO,GAAGC,cAAgB7W,EAASwV,MAAM,GAAGC,cAAgB,SAC/G,kBAAC,GAAD,MACK7W,EAAMR,MACL,kBAAC,GAAD,CAAUyB,MAAQjB,EAAMiB,MAAOE,KAAMnB,EAAMmB,KAAMtB,OAAQG,EAAMH,OAAQL,MAAOQ,EAAMR,QACpF,kBAAC,IAAD,CAASmB,UAAWC,KAAQpB,MAAOwB,GAAG,UAAtC,WCXduF,GAAe,CACfzC,GAAI,KACJrE,MAAO,KACPD,MAAO,KACP2B,KAAM,KACNF,MAAO,KACPmM,QAAQ,EACRxN,QAAS,KACToE,YAAY,GAGHkU,GAAc,SAACpU,EAAIrE,EAAOD,EAAO4N,GAAnB,MAA+B,CAAEzG,KAAM,gBAAiBwR,QAAS,CAACrU,KAAIrE,QAAOD,QAAO4N,YAElGgL,GAAc,SAACjX,EAAMF,GAAP,MAAkB,CAAE0F,KAAM,gBAAiBwR,QAAS,CAAChX,OAAMF,WAEhFoX,GAAoB,SAACzY,GAAD,MAAc,CAAC+G,KAAM,sBAAuBwR,QAAS,CAACvY,aAE1E0Y,GAAmB,SAACtU,GAAD,MAAiB,CAAC2C,KAAM,qBAAsBwR,QAAS,CAACnU,gBAgBpEzE,GAAO,WAChB,OAAO,SAACyI,GACJ,OAAO1I,IAAQC,OAAOnC,MAAK,SAACE,GACA,IAApBA,EAAK6Y,aACLnO,EAASkQ,GAAY5a,EAAKA,KAAKwG,GAAIxG,EAAKA,KAAKmC,MAAOnC,EAAKA,KAAKkC,OAAO,IACrE5B,IAAWC,WAAWP,EAAKA,KAAKwG,IAAI1G,MAAK,SAACE,GACtC0K,EAASoQ,GAAY9a,EAAKiW,SAAUjW,EAAKK,OAAOoG,WAEpDiE,EAASqQ,GAAkB,QAE/BrQ,EAASsQ,IAAiB,SAkBhCxY,GAAa,WACf,8CAAO,WAAOkI,GAAP,eAAAC,EAAA,sEACkB3I,IAAQQ,aAD1B,OACCzC,EADD,OAEH2K,EAASqQ,GAAkBhb,EAAS2J,MAFjC,2CAAP,uDAeWuR,GAzDG,WAAmC,IAAlC7S,EAAiC,uDAAzBa,GAAcsC,EAAW,uCAChD,OAAQA,EAAOlC,MAEX,IAXc,gBAYd,IAVc,gBAWd,IAToB,sBAUpB,IARmB,qBASf,OAAO,2BAAIjB,GAAUmD,EAAOsP,SAEhC,QAAS,OAAOzS,ICdT8S,GAFOlL,aAASC,IAAYnH,aAVrB,SAACV,GACnB,MAAO,CACH5B,GAAI4B,EAAMnG,KAAKuE,GACfrE,MAAOiG,EAAMnG,KAAKE,MAClBD,MAAOkG,EAAMnG,KAAKC,MAClB2B,KAAMuE,EAAMnG,KAAK4B,KACjBF,MAAOyE,EAAMnG,KAAK0B,SAI2C,CAACpB,ODsDhD,WAClB,8CAAO,WAAOmI,GAAP,SAAAC,EAAA,sEACkB3I,IAAQO,SAD1B,OAEyB,IAFzB,OAEUsW,aACTnO,EAASkQ,GAAY,KAAM,KAAM,MAAM,IACvClQ,EAASoQ,GAAY,KAAM,QAJ5B,2CAAP,yDCvDkB9K,CAA0DoK,I,oBCL1Ee,GAAcnN,GAAU,IAwCxBoN,GAAiB9M,YAAU,CAAEC,KAAM,aAAlBD,EAvCL,SAAC5L,GAEf,OACI,yBAAKW,UAAWC,KAAQ+X,SACpB,yBAAKhY,UAAWC,KAAQgY,cACpB,wBAAIjY,UAAWC,KAAQiY,eAAvB,gCACA,iWAGA,qFACA,gFAGJ,0BAAMlY,UAAWC,KAAQkY,UAAWhN,SAAU9L,EAAM+L,cAChD,wBAAIpL,UAAWC,KAAQgX,QAAvB,yBACA,yBAAKjX,UAAWC,KAAQsN,SAAS,kBAAClC,EAAA,EAAD,CAAOrF,KAAK,OAAOxF,KAAK,QAAQ8K,UAAWf,GACxE9H,UAAU,QAAQmJ,SAAU,CAACnB,GAAUqN,OAC1CzY,EAAM0K,OAAS,uBAAG/J,UAAWC,KAAQiK,cAAe7K,EAAM0K,OAC3D,yBAAK/J,UAAWC,KAAQsN,SAAS,kBAAClC,EAAA,EAAD,CAAOrF,KAAK,WAAWxF,KAAK,WAAW8K,UAAWf,GAC/E9H,UAAU,WAAWmJ,SAAU,CAACnB,GAAUqN,OAC9C,yBAAK9X,UAAWC,KAAQsN,SACpB,2BAAOvN,UAAWC,KAAQmY,kBACtB,kBAAC/M,EAAA,EAAD,CAAOrF,KAAK,WAAWxF,KAAK,aAAa8K,UAAU,QAAQtL,UAAWC,KAAQoY,WADlF,iBAIHhZ,EAAMJ,SACH,6BACI,yBAAKiB,IAAKb,EAAMJ,QAASmB,IAAI,YAC7B,6BAAK,kBAACiL,EAAA,EAAD,CAAOrF,KAAK,OAAOsS,aAAa,GAAGhN,UAAWf,GAAO/J,KAAK,UAAUmL,YAAY,UAAUC,SAAU,CAACnB,QAEjHpL,EAAMgE,WACH,kBAACvC,EAAA,EAAD,CAAQd,UAAWC,KAAQ2C,OAAQ1B,SAAO,EAACqX,OAAK,EAACvS,KAAK,UAAtD,SACA,kBAAClF,EAAA,EAAD,CAAQd,UAAWC,KAAQ2C,OAAQ2V,OAAK,EAACvS,KAAK,UAA9C,cA2BLP,gBAPO,SAACV,GACnB,MAAO,CACH0H,OAAQ1H,EAAMnG,KAAK6N,OACnBxN,QAAS8F,EAAMnG,KAAKK,QACpBoE,WAAY0B,EAAMnG,KAAKyE,cAGS,CAAExE,MFrBrB,SAACC,EAAOC,EAAUC,EAAYC,GAC/C,8CAAO,WAAOoI,GAAP,eAAAC,EAAA,6DACHD,EAASsQ,IAAiB,IADvB,SAEkBhZ,IAAQE,MAAMC,EAAOC,EAAUC,EAAYC,GAF7D,OAECvC,EAFD,OAGH2K,EAASmR,aAAa,YAAa,CAAC,aACR,IAAxB9b,EAAS8Y,WACTnO,EAASzI,OAETyI,EAAS+O,aAAW,YAAa,CAAEqC,OAAQ/b,EAASuM,SAAS,MACrC,KAAxBvM,EAAS8Y,YAAqBnO,EAASlI,MACvCkI,EAASsQ,IAAiB,KAT3B,2CAAP,wDEoBWlS,EAnBD,SAACpG,GACX,OAAOA,EAAMoN,OAAS,kBAAC,IAAD,CAAUpM,GAAG,aAE3B,yBAAKL,UAAWC,KAAQyY,WACpB,kBAACX,GAAD,CACI1U,WAAYhE,EAAMgE,WAClBpE,QAASI,EAAMJ,QACfkM,SAAU,SAACtN,GAAewB,EAAMR,MAAMhB,EAASiB,MAAOjB,EAASkB,SAAUlB,EAASmB,WAAYnB,EAASoB,gBCxDrH0Z,GAAqB,qBAErB/S,GAAe,CACjBgT,aAAa,GCIFC,GAPA,WACX,OACI,4BAAQ7Y,UAAWC,KAAQ6Y,OAAS,IAAM7Y,KAAQiX,eAC9C,yBAAKlX,UAAWC,KAAQkX,S,UCD9B4B,G,uKAEE,OACI,kBAAC/V,GAAA,EAAD,CACIC,MAASgC,KAAK5F,MAAM+F,QACpB7G,OAAU0G,KAAK5F,MAAMd,OACrBE,SAAYwG,KAAK5F,MAAMZ,SACvB4E,WAAc4B,KAAK5F,MAAMgE,WACzBvD,eAAiBmF,KAAK5F,MAAMS,qB,GARtByB,IAAMgE,WAmBtByT,GAAqB,CAACza,WAAQE,cACrBgH,gBANS,SAACV,GAAD,MAAY,CAChCK,QAASL,EAAMvB,UAAU4B,QACzB/B,WAAY0B,EAAMvB,UAAUH,WAC5BvD,eAAgBiF,EAAMvB,UAAU1D,kBAGIkZ,GAAzBvT,CAA6CsT,ICPtDE,GAAiB1X,IAAM2X,MAAK,kBAAM,iCAGlCC,G,kLAEFlU,KAAK5F,MAAM+Z,iB,+BAGX,OAAQnU,KAAK5F,MAAMuZ,YAGf,yBAAK5Y,UAAU,eACb,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAOqZ,KAAK,SAASC,OAAQ,kBAAM,kBAAC,GAAD,SACnC,oCACE,kBAAC,IAAD,CAAOD,KAAO,IAAI/N,UAAWuM,KAC7B,kBAAC,EAAD,MACA,yBAAK7X,UAAU,WACb,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAOuZ,OAAK,EAACF,KAAK,IAAIC,OAAQ,kBAAM,kBAAC,IAAD,CAAUjZ,GAAG,gBACjD,kBAAC,IAAD,CAAOgZ,KAAK,oBAAoBC,OAAQ,kBAAM,kBAAC,GAAD,SAC9C,kBAAC,IAAD,CAAOD,KAAK,oBAAoBC,OAAQ,kBAAM,kBAAC,GAAD,SAI9C,kBAAC,IAAD,CAAOD,KAAK,WAAW/N,UAAWyN,KAClC,kBAAC,IAAD,CAAOM,KAAK,gBAAgBC,QCzCjB/T,EDyCsC0T,GCxCxD,SAAC5Z,GAAD,OACP,kBAAC,IAAMma,SAAP,CAAgBC,SAAU,kBAAClW,EAAA,EAAD,OACrB,kBAACgC,EAAclG,QDuCN,kBAAC,IAAD,CAAOga,KAAK,IAAIC,OAAQ,kBAAM,6BAAK,oDAGvC,kBAAC,EAAD,MACA,kBAAC,GAAD,SAtBN,kBAAC/V,EAAA,EAAD,MCxBoB,IAACgC,M,GDkBXhE,IAAMgE,WAyCTE,gBALS,SAACV,GACvB,MAAQ,CACN6T,YAAa7T,EAAM2U,IAAId,eAGa,CAAEQ,aH3Cd,WACxB,8CAAO,WAAO/R,GAAP,SAAAC,EAAA,sEACGD,EAASzI,MADZ,OAEHyI,EApBiC,CAACrB,KAAM2S,KAkBrC,2CAAP,wDG0CWlT,CAA2C0T,I,oBEnDtDQ,GAAWC,aAAgB,CAC3B/M,aAAc5E,EACdsN,YAAaN,GACbzR,UAAWqW,IACXjb,KAAMgZ,GACN1M,KAAM4O,KACNJ,ILTsB,WAAmC,IAAlC3U,EAAiC,uDAAzBa,GAAcsC,EAAW,uCACpD6R,EAAQ,eAAOhV,GACnB,OAAQmD,EAAOlC,MACf,KAAK2S,GAED,OADAoB,EAASnB,aAAc,EAChBmB,EAEX,QAAS,OAAOA,IKGhB/J,M5BLwB,WAAmC,IAAlCjL,EAAiC,uDAAzBa,GAAcsC,EAAW,uCAC1D,OAAQA,EAAOlC,MACX,IARW,aASP,OAAO,YAAC,eAAIjB,GAAZ,IAAmB/H,OAAQkL,EAAOlL,SACtC,IATgB,kBAUZ,OAAO,YAAC,eAAI+H,GAAZ,IAAmB1B,WAAY6E,EAAO7E,aAC1C,QAAS,OAAO0B,I4BApBqC,S3CLuB,WAAmC,IAAlCrC,EAAiC,uDAAzBa,EAAcsC,EAAW,uCACzD,OAAQA,EAAOlC,MACX,IAJS,WAKL,OAAO,2BAAIjB,GAAX,IAAkBc,KAAMqC,EAAOrC,KAAMC,UAAWoC,EAAOpC,YAC3D,IAPgB,kBAQZ,OAAO,2BAAIf,GAAX,IAAkB1B,WAAY6E,EAAO7E,aACzC,QAAS,OAAO0B,M2CClBiV,GAAmBtX,OAAOuX,sCAAwCtN,KAClEuN,GAAQC,aAAYR,GAAUK,GAAiBI,aAAgBC,QACrE3X,OAAOwX,MAAQA,GACAA,UChBfZ,iBACI,kBAAC,IAAD,KACI,kBAAC,IAAD,CAAUY,MAAOA,IACb,kBAAC,GAAD,QAGRI,SAASC,eAAe,U,mBCb5Bnf,EAAOC,QAAU,CAAC,YAAc,iCAAiC,SAAW,8BAA8B,QAAU,6BAA6B,QAAU,6BAA6B,WAAa,gCAAgC,QAAU,6BAA6B,QAAU,6BAA6B,cAAgB,mCAAmC,YAAc,mC,4WCE9WuK,EAAe,CACjB3C,MAAO,GACPmC,QAAS,GACT1B,gBAAiB,EACjBD,YAAa,EACbE,SAAU,IACVxF,KAAM,KACN0F,uBAAwB,EACxBR,YAAY,EACZvD,eAAgB,IAiDP0a,EAAgB,SAACrd,GAAa,MAAO,CAAE6I,KAAM,SAAU7I,WACvDsd,EAAkB,SAACtd,GAAa,MAAO,CAAE6I,KAAM,WAAY7I,WAC3Dud,EAAW,SAACzX,GAAY,MAAO,CAAE+C,KAAM,YAAa/C,UACpD0X,EAAa,SAACvV,GAAc,MAAO,CAAEY,KAAM,cAAeZ,YAC1DsR,EAAU,SAACvY,GAAW,MAAO,CAAE6H,KAAM,WAAY7H,SAEjDyc,EAAiB,SAACnX,GAAkB,MAAO,CAAEuC,KAAM,mBAAoBvC,gBAEvEqR,EAAkB,SAACzR,GAAiB,MAAO,CAAE2C,KAAM,mBAAoB3C,eACvEwX,EAAwB,SAAC1d,GAAa,MAAO,CAAE6I,KAAM,0BAA2B7I,WAIhF2d,EAAW,SAACrX,EAAaE,EAAUxF,GAC5C,8CAAO,WAAOkJ,GAAP,eAAAC,EAAA,6DACHD,EAASyN,GAAgB,IADtB,SAEc9W,IAASC,mBAAmBwF,EAAaE,EAAUxF,GAFjE,OAECxB,EAFD,OAGH0K,EAASqT,EAAS/d,EAAKoe,QACvB1T,EAXwD,CAAErB,KAAM,wBAAyBtC,gBAW7D/G,EAAKqe,aACjC3T,EAASyN,GAAgB,IALtB,2CAAP,uDAQS5P,EAAa,WACtB,8CAAO,WAAOmC,GAAP,eAAAC,EAAA,sEACiBtJ,IAASK,uBAD1B,OACC+G,EADD,OAEHiC,EAASsT,EAAWvV,EAAQ2V,QAFzB,2CAAP,uDAMSE,EAAgB,SAACtX,GAC1B,8CAAO,WAAO0D,GAAP,eAAAC,EAAA,6DACHD,EAASyN,GAAgB,IACzBzN,EA3BuC,CAAErB,KAAM,uBAyB5C,SAGchI,IAASC,mBAAmB,EAAG0F,EAAW,GAHxD,OAGChH,EAHD,OAIH0K,EAASqT,EAAS/d,EAAKoe,QACvB1T,EAASyN,GAAgB,IALtB,2CAAP,uDAQSvW,EAAS,SAACpB,GACnB,8CAAO,WAAOkK,GAAP,SAAAC,EAAA,6DACHD,EAASwT,EAAsB1d,IAD5B,SAEcmB,IAAUC,OAAOpB,GAF/B,OAGqB,IAHrB,OAGMqY,aACLnO,EAASmT,EAAcrd,IACvBkK,EAASwT,EAAsB1d,KALhC,2CAAP,uDASSsB,EAAW,SAACtB,GACrB,8CAAO,WAAOkK,GAAP,SAAAC,EAAA,6DACHD,EAASwT,EAAsB1d,IAD5B,SAEcmB,IAAUG,SAAStB,GAFjC,OAGqB,IAHrB,OAGMqY,aACLnO,EAASoT,EAAgBtd,IACzBkK,EAASwT,EAAsB1d,KALhC,2CAAP,uDASSyG,EAAgB,SAACsX,EAAYC,EAAWhd,GAAxB,8CAAiC,WAAOkJ,GAAP,eAAAC,EAAA,6DAC1DD,EAAUyN,GAAgB,IADgC,SAEzC9W,IAASC,mBAAmBid,EAAYC,EAAWhd,GAFV,OAEtDxB,EAFsD,OAG1D0K,EAASqT,EAAS/d,EAAKoe,QACvB1T,EAASuT,EAAeM,IACxB7T,EAAUyN,GAAgB,IALgC,2CAAjC,uDASd+E,IAtGI,WAAmC,IAAlC9U,EAAiC,uDAAzBa,EAAcsC,EAAW,uCACjD,OAAQA,EAAOlC,MACX,IAbe,SAcX,OAAO,2BAAKjB,GAAZ,IACI9B,MAAOmY,YAAoBrW,EAAM9B,MAAO,KAAMiF,EAAO/K,OAAQ,YAAY,GACzEiI,QAASgW,YAAoBrW,EAAMK,QAAS,KAAM8C,EAAO/K,OAAQ,YAAY,KAErF,IAjBiB,WAkBb,OAAO,2BAAK4H,GAAZ,IACI9B,MAAOmY,YAAoBrW,EAAM9B,MAAO,KAAMiF,EAAO/K,OAAQ,YAAY,GACzEiI,QAASgW,YAAoBrW,EAAMK,QAAS,KAAM8C,EAAO/K,OAAQ,YAAY,KACrF,IAjBmB,qBAkBf,OAAO,2BAAK4H,GAAZ,IAAmBpB,SAAUoB,EAAMpB,SAAW,IAClD,IAlBiB,mBAmBb,OAAO,2BAAKoB,GAAZ,IAAmBtB,YAAayE,EAAOzE,cAC3C,IAnBsB,wBAoBlB,OAAO,2BAAKsB,GAAZ,IAAmBrB,gBAAiBwE,EAAOxE,kBAC/C,IA1BU,YA2BN,OAAO,2BAAKqB,GAAZ,IAAmB9B,MAAM,YAAKiF,EAAOjF,SACzC,IA3BY,cA4BR,OAAO,2BAAK8B,GAAZ,IAAmBK,QAAQ,YAAK8C,EAAO9C,WAC3C,IA5BS,WA6BL,OAAO,2BAAKL,GAAZ,IAAmB5G,KAAM+J,EAAO/J,OACpC,IA1BiB,mBA2Bb,OAAO,2BAAK4G,GAAZ,IAAmB1B,aAAY6E,EAAO7E,aAC1C,IA3BwB,0BA4BpB,OAAO,2BACA0B,GADP,IACcjF,eAAgBiF,EAAMjF,eAAeC,MAAK,SAACF,GAAD,OAAUA,IAASqI,EAAO/K,UACxE4H,EAAMjF,eAAeoV,QAAO,SAAArV,GAAI,OAAIA,IAASqI,EAAO/K,UACpD4H,EAAMjF,eAAeyI,OAAOL,EAAO/K,UAEjD,QAAS,OAAO,eAAK4H,M,gHCzDhBqW,EAAsB,SAACC,EAAOC,EAAeC,EAAeC,EAAeC,GACpF,OAAOJ,EAAMnY,KAAI,SAACwY,GAId,OAHIA,EAAIJ,KAAmBC,IACvBG,EAAIF,GAAiBC,GAElBC,MAIFpW,EAAe,SAACqW,EAAKC,GAC9B,GAAID,EAAIrY,QAAUsY,EACd,OAAOD,EAKP,IAHA,IAAIE,EAAW,YAAOF,GAClBG,EAAY,GACZC,EAAc,KACTC,EAAI,EAAGA,EAAIJ,EAAeI,IAC/BD,EAAcja,KAAKma,MAAMna,KAAKoa,SAAYL,EAAYvY,QACtDwY,EAAUzZ,KAAKwZ,EAAYM,OAAOJ,EAAa,IAEnD,OAAOD,I,mBCnBf1gB,EAAOC,QAAU,CAAC,KAAO,mBAAmB,QAAU,sBAAsB,MAAQ,oBAAoB,UAAY,wBAAwB,MAAQ,sB,kBCApJD,EAAOC,QAAU,CAAC,YAAc,wCAAwC,iBAAmB,6CAA6C,MAAQ,kCAAkC,KAAO,iCAAiC,WAAa,uCAAuC,QAAU,oCAAoC,KAAO,iCAAiC,KAAO,iCAAiC,SAAW,qCAAqC,SAAW,qCAAqC,WAAa,uCAAuC,OAAS,mCAAmC,SAAW,qCAAqC,KAAO,iCAAiC,SAAW,qCAAqC,MAAQ,kCAAkC,aAAe,yCAAyC,MAAQ,kCAAkC,YAAc,wCAAwC,gBAAkB,8C,mBCAx6BD,EAAOC,QAAU,CAAC,YAAc,mCAAmC,SAAW,gCAAgC,aAAe,oCAAoC,UAAY,iCAAiC,aAAe,oCAAoC,UAAY,oC","file":"static/js/main.02057772.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"selectedPage\":\"Paginator_selectedPage__3XoyN\",\"paginator\":\"Paginator_paginator__mecTG\",\"button\":\"Paginator_button__2moz4\",\"pages\":\"Paginator_pages__3bSVG\"};","module.exports = __webpack_public_path__ + \"static/media/user-logo.18914f1c.png\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userLogo\":\"FriendsList_userLogo__38BfW\",\"friendsList\":\"FriendsList_friendsList__VnwcF\",\"friend\":\"FriendsList_friend__mZblD\"};","import w1 from '../../images/wallpapers/1.jpg';\r\nimport w2 from '../../images/wallpapers/2.jpg';\r\nimport w3 from '../../images/wallpapers/3.jpg';\r\nimport w4 from '../../images/wallpapers/4.jpg';\r\nimport w5 from '../../images/wallpapers/5.jpg';\r\nimport w6 from '../../images/wallpapers/6.jpg';\r\nimport w7 from '../../images/wallpapers/7.jpg';\r\nimport w8 from '../../images/wallpapers/8.jpg';\r\nimport w9 from '../../images/wallpapers/9.jpg';\r\nimport w10 from '../../images/wallpapers/10.jpg';\r\n\r\nexport const wallpapers = [w1,w2,w3,w4,w5,w6,w7,w8,w9,w10];","// extracted by mini-css-extract-plugin\nmodule.exports = {\"status\":\"Profile_status__3D7TO\",\"photoIcon\":\"Profile_photoIcon__3igOK\",\"invisibleInput\":\"Profile_invisibleInput__2vIv9\",\"profileHeader\":\"Profile_profileHeader__thYNt\",\"wallpaper\":\"Profile_wallpaper__2TLd2\",\"ava\":\"Profile_ava__1r20P\",\"userPreview\":\"Profile_userPreview__398v2\",\"fullName\":\"Profile_fullName__ZvLfE\",\"bluredPhoto\":\"Profile_bluredPhoto__1dji_\",\"profileMenuBar\":\"Profile_profileMenuBar__9KYyk\",\"actionButtons\":\"Profile_actionButtons__scuqF\",\"profileMenuOption\":\"Profile_profileMenuOption__voyxF\",\"divider\":\"Profile_divider__Zkof6\"};","import * as axios from 'axios';\r\n\r\nconst apiInstance = axios.create ({\r\n    baseURL : 'https://social-network.samuraijs.com/api/1.0/',\r\n    withCredentials: true,\r\n    headers: {\r\n        'API-KEY' : '1500a81d-951a-4b37-975e-19522be74bca'\r\n    }\r\n})\r\nconst newsApi = axios.create ({\r\n    baseURL : 'https://newsapi.org/v2/',\r\n    headers: {\r\n        'X-Api-Key' : '2abe93eb1c364e14a4657dd9de111293'\r\n    }\r\n})\r\n\r\nexport const getNewsFromServer = () => {\r\n    return newsApi.get('top-headlines?sources=techcrunch').then(response => response.data)\r\n}\r\nconst photoAPI = axios.create ({\r\n    baseURL : 'https://api.pexels.com/v1/',\r\n    headers: {\r\n        'Authorization' : '563492ad6f917000010000016a815fc331434f5abb389e2b1349a69d'\r\n    }\r\n})\r\nexport const getPhotosForAlbum = (numberOfPhotos, page) => {\r\n    return photoAPI.get('curated?per_page=' + numberOfPhotos + '&page=' + page).then(response => response.data.photos);\r\n}\r\n\r\nexport const profileAPI = {\r\n    getProfile (userId) {\r\n        return apiInstance.get('profile/' + userId).then(response => response.data);\r\n    },\r\n    setProfile (profile) {\r\n        return apiInstance.put('profile', profile).then(response => response.data);\r\n    },\r\n    getStatus (profileId) {\r\n        return apiInstance.get('profile/status/' + profileId).then(response => response.data);\r\n    },\r\n    updateStatus (status) {\r\n        return apiInstance.put('profile/status', {status}).then(response => response.data);\r\n    },\r\n    uploadPhoto (photoFile) {\r\n        const formData = new FormData();\r\n        formData.append(\"image\", photoFile);\r\n        return apiInstance.put('profile/photo', formData, {headers: {\r\n            'Content-Type': 'multipart/form-data'\r\n          }}).then(response => response.data)\r\n    }\r\n}\r\n\r\nexport const usersAPI = {\r\n    getUsersFromServer (page = 1, count = 10, term = '') {\r\n        let usersData = apiInstance.get('users?page=' + page + '&count=' + count + '&term=' + term).then(response => response.data);\r\n        return usersData;\r\n    },\r\n    getFriendsFromServer () {\r\n        return apiInstance.get('users?friend=true&count=100').then(response => response.data);\r\n    }\r\n}\r\n\r\nexport const followAPI = {\r\n    follow (userId) {\r\n        let follow = apiInstance.post('follow/' + userId).then(response => response.data);\r\n        return follow;\r\n    },\r\n    unfollow (userId) {\r\n        let unfollow = apiInstance.delete('follow/' + userId).then(response => response.data);\r\n        return unfollow;\r\n    }\r\n}\r\n\r\nexport const authAPI = {\r\n    auth () {\r\n        return apiInstance.get('auth/me').then(response => response.data)\r\n    },\r\n    login (email, password, rememberMe, captcha) {\r\n        return apiInstance.post('auth/login', {email, password, rememberMe, captcha}).then(response => response.data)\r\n    },\r\n    logout () {\r\n        return apiInstance.delete('auth/login').then(response => response.data)\r\n    },\r\n    getCaptcha () {\r\n        return apiInstance.get('security/get-captcha-url').then(response => response.data);\r\n    }\r\n}\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"image\":\"preloader_image__3BlKC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dropdownMenu\":\"Header_dropdownMenu__3KXdt\",\"menuContainer\":\"Header_menuContainer__KkeZw\",\"option\":\"Header_option__1bQce\",\"menuTitle\":\"Header_menuTitle__3FTnD\",\"horizontalBar\":\"Header_horizontalBar__1Fsq6\",\"header\":\"Header_header__6mOs8\",\"footer\":\"Header_footer__AHvJ1\",\"logo\":\"Header_logo__2QIV9\",\"currentPageName\":\"Header_currentPageName__1RSnf\",\"userInfo\":\"Header_userInfo__2btRr\",\"user\":\"Header_user__1U36Y\",\"login\":\"Header_login__gMwit\",\"logOut\":\"Header_logOut__Wr40Z\",\"searchBar\":\"Header_searchBar__2kb71\",\"searchField\":\"Header_searchField__1MzpJ\",\"iconContainer\":\"Header_iconContainer__2Rc5z\",\"searchIcon\":\"Header_searchIcon__8woWs\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"Dialogs_dialogs__paPYd\",\"chat\":\"Dialogs_chat__3fe-6\",\"buddies\":\"Dialogs_buddies__oAGuY\",\"buddy\":\"Dialogs_buddy__1uIDn\",\"messagesContainer\":\"Dialogs_messagesContainer__3prAn\",\"messages\":\"Dialogs_messages__1358W\",\"message\":\"Dialogs_message__3on-B\",\"messageDate\":\"Dialogs_messageDate__12n18\",\"from\":\"Dialogs_from__3fDkO\",\"active\":\"Dialogs_active__3FMLt\",\"to\":\"Dialogs_to__3lZt1\",\"selectedUser\":\"Dialogs_selectedUser__3bT33\",\"dialogImage\":\"Dialogs_dialogImage__3vGAn\",\"newMessage\":\"Dialogs_newMessage__3JgDu\",\"newMessageText\":\"Dialogs_newMessageText__279Mb\",\"errorMessage\":\"Dialogs_errorMessage__3d08n\",\"send\":\"Dialogs_send__2m5EZ\"};","import React from 'react';\r\nimport classes from './../Users.module.css';\r\nimport user from '../../../images/user-logo.png';\r\nimport { NavLink } from 'react-router-dom';\r\nimport { wallpapers } from './../../Profile/wallpapers';\r\nimport { Button } from 'semantic-ui-react';\r\n\r\n\r\nconst User = (props) => {\r\n    const countries = require('../../../Utils/countries.json');\r\n    const randomCountry = Object.keys(countries)[props.userId % 100];\r\n    let randomCity = countries[randomCountry][props.userId % 10];\r\n    if (!randomCity) randomCity = countries[randomCountry][0];\r\n    let fetching = (user) => {\r\n        return props.followingUsers.some((userId) => userId === user) ? true : false;\r\n    }\r\n    return (\r\n        \r\n        <div className={classes.user}>\r\n            \r\n                <img src={wallpapers[props.userId % 10]} className={classes.wallpaper} alt=''/>\r\n                <NavLink to={\"/profile/\" + props.userId}><img src={props.photo ? props.photo : user} className={classes.photo} alt=\"user\"/></NavLink>\r\n                <div className={classes.description}>\r\n                    <NavLink to={\"/profile/\" + props.userId}><p className={classes.name}>{props.name}</p></NavLink>\r\n                    <div className={classes.location}>\r\n                    <p className={classes.city}>{randomCity + ','}</p>\r\n                    <p className={classes.country}>{randomCountry}</p>\r\n                    \r\n                    </div>\r\n                </div>\r\n\r\n                <div className={classes.buttons}>\r\n                    {props.followed ?\r\n    \r\n                    <>\r\n                        <Button circular icon=\"remove user\" color=\"pink\" loading={fetching(props.userId)}\r\n                        onClick={() => {props.unfollow(props.userId);}}\r\n                        className={classes.followButton}/>\r\n    \r\n                        <NavLink to={'/dialogs/' + props.userId}>\r\n                            <Button circular icon=\"paper plane outline\" color=\"purple\" className={classes.followButton}/>\r\n                        </NavLink>\r\n                    </>\r\n    \r\n                    : <>\r\n                        <Button circular icon=\"add user\"  color=\"green\" loading={fetching(props.userId)} \r\n                        onClick={() => {props.follow(props.userId);}}\r\n                        className={classes.followButton}/>\r\n    \r\n                        <Button disabled circular icon=\"paper plane outline\" color=\"purple\" className={classes.followButton}/>\r\n                    </>}\r\n                </div>\r\n                \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default User;","import classes from './Paginator.module.css';\r\nimport React from 'react';\r\nimport { useState } from 'react';\r\n\r\nconst Paginator = React.memo(({itemsTotalCount, itemsOnPage, onPageSelectCallback, buttonsCount, page, term}) => {\r\n    const pagesCount = Math.ceil(itemsTotalCount/itemsOnPage);\r\n    const paginatorSectionsCount = Math.ceil(pagesCount/buttonsCount);\r\n    let currentSection = Math.ceil(page/buttonsCount);\r\n    let leftLimit = (currentSection - 1) * buttonsCount + 1;\r\n    let rightLimit = currentSection * buttonsCount;\r\n    if (rightLimit > pagesCount) { rightLimit = pagesCount;}\r\n    const goPrev = () => {\r\n        \r\n        onPageSelectCallback((currentSection-1) * buttonsCount, itemsOnPage, term);\r\n    }\r\n    const goNext = () => {\r\n        \r\n        onPageSelectCallback(currentSection * buttonsCount + 1, itemsOnPage, term);\r\n    }\r\n    let pages = [];\r\n    for (let p = leftLimit; p <= rightLimit; p++) {\r\n        pages.push(<div key={p} onClick={(e) => {onPageSelectCallback(e.currentTarget.innerText, itemsOnPage, term); window.scrollTo(0, 0);}} className={`${classes.button} ${p.toString() === page.toString() && classes.selectedPage}`}>{p}</div>);\r\n    }\r\n    return (\r\n        <div className={classes.paginator}>\r\n            {currentSection > 1 && <button className={classes.button} onClick={goPrev}>←</button>}\r\n            <div className={classes.pages}>{pagesCount > 1 && pages}</div>\r\n            {currentSection < paginatorSectionsCount && <button className={classes.button} onClick={goNext}>→</button>}\r\n        </div>\r\n    )\r\n})\r\n\r\nexport default Paginator;","import React from 'react';\r\nimport classes from './Users.module.css'\r\nimport User from './User/User';\r\nimport Preloader from '../common/Preloader/Preloader';\r\nimport Paginator from '../common/Paginator/Paginator';\r\n\r\n\r\nlet Users = (props) => {\r\n    let users = props.users.map(\r\n        (user) => <User key={user.id} name={user.name} userId={user.id}\r\n        photo={user.photos.small} status={user.status} followed={user.followed} follow={props.follow}\r\n        unfollow={props.unfollow} followingUsers= {props.followingUsers}/>);\r\n\r\n    return (\r\n        (props.isFetching || props.users.length === 0) ? <Preloader /> :\r\n        <div className={classes.usersPage}>\r\n                <div className={classes.users}>\r\n                    {users}\r\n                </div>\r\n\r\n        {!!props.currentPage && <Paginator term ={props.term} itemsTotalCount={props.usersTotalCount} itemsOnPage={props.pageSize} \r\n                onPageSelectCallback={props.onPageChanged} buttonsCount={props.paginationButtonsCount} page={props.currentPage}/>}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Users;","module.exports = __webpack_public_path__ + \"static/media/Preloader.3295b1ec.gif\";","module.exports = __webpack_public_path__ + \"static/media/1.4a66d64e.jpg\";","module.exports = __webpack_public_path__ + \"static/media/2.de380ab1.jpg\";","module.exports = __webpack_public_path__ + \"static/media/3.3987a05d.jpg\";","module.exports = __webpack_public_path__ + \"static/media/4.3221c1c0.jpg\";","module.exports = __webpack_public_path__ + \"static/media/5.c66e3330.jpg\";","module.exports = __webpack_public_path__ + \"static/media/6.b58aee8b.jpg\";","module.exports = __webpack_public_path__ + \"static/media/7.4f710739.jpg\";","module.exports = __webpack_public_path__ + \"static/media/8.0848863e.jpg\";","module.exports = __webpack_public_path__ + \"static/media/9.77ca511b.jpg\";","module.exports = __webpack_public_path__ + \"static/media/10.5f8be0b5.jpg\";","module.exports = __webpack_public_path__ + \"static/media/person-male.77a337e5.png\";","module.exports = __webpack_public_path__ + \"static/media/photo-icon.7b4465c4.png\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"left\":\"Navbar_left__Ylda7\",\"right\":\"Navbar_right__3dbeI\",\"navbar\":\"Navbar_navbar__2IowR\",\"item\":\"Navbar_item__34HwD\",\"icon\":\"Navbar_icon__l7YSR\",\"active\":\"Navbar_active__3Pspa\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"users\":\"Users_users__FueH0\",\"user\":\"Users_user__2_Dk-\",\"wallpaper\":\"Users_wallpaper__HWwEx\",\"photo\":\"Users_photo__34FFQ\",\"description\":\"Users_description__Mcw3E\",\"buttons\":\"Users_buttons__3Aphx\",\"followButton\":\"Users_followButton__2fZOR\",\"name\":\"Users_name__2Sje5\",\"location\":\"Users_location__Mn7AS\",\"pagination\":\"Users_pagination__3i3YS\",\"selectedPage\":\"Users_selectedPage__2LTzD\",\"pageNumber\":\"Users_pageNumber__3Jf1t\"};","import React from 'react';\r\nimport preloader from '../../../images/Preloader.gif';\r\nimport classes from './preloader.module.css';\r\n\r\nlet Preloader = () => {\r\n    return (\r\n        <div className={classes.preloader}>\r\n            <img src={preloader} alt=\"preloader\" className={classes.image}/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Preloader;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loginPage\":\"login_loginPage__MMsSR\",\"wrapper\":\"login_wrapper__3PDXK\",\"greetingText\":\"login_greetingText__13gCA\",\"greetingTitle\":\"login_greetingTitle__2tTVi\",\"header\":\"login_header__5pQcp\",\"loginForm\":\"login_loginForm__3IZuF\",\"formRow\":\"login_formRow__1fPIH\",\"checkbox\":\"login_checkbox__25VKi\",\"labelForCheckbox\":\"login_labelForCheckbox__2X-n_\",\"button\":\"login_button__2VCcT\",\"errorMessage\":\"login_errorMessage__1pN1L\"};","import React from 'react';\r\nimport classes from './Navbar.module.css';\r\nimport { NavLink } from 'react-router-dom';\r\nimport { Icon } from 'semantic-ui-react';\r\n\r\nconst LeftNavbar = (props) => {\r\n    return (\r\n        <nav className={classes.left + ' ' + classes.navbar}>\r\n            <div className={`${classes.item}`}>\r\n                <NavLink to=\"/profile\" activeClassName={classes.active}><Icon className={classes.icon} name=\"user outline\"/></NavLink>\r\n            </div>\r\n            <div className={classes.item}>\r\n                <NavLink to=\"/friends\" activeClassName={classes.active}><Icon className={classes.icon} name=\"handshake outline\"/></NavLink>\r\n            </div>\r\n            <div className={classes.item}>\r\n                <NavLink to=\"/dialogs\" activeClassName={classes.active}><Icon className={classes.icon} name=\"wechat\"/></NavLink>\r\n            </div>\r\n            {/* \r\n            News page is in development\r\n            <div className={classes.item}>\r\n                <NavLink to=\"/news\" activeClassName={classes.active}><Icon className={classes.icon} name=\"newspaper outline\"/></NavLink>\r\n            </div> */}\r\n            <div className={classes.item}>\r\n                <NavLink to=\"/users\" activeClassName={classes.active}><Icon className={classes.icon} name=\"users\"/></NavLink>\r\n            </div>\r\n        </nav>\r\n    );\r\n}\r\n\r\nexport default LeftNavbar;","import React from 'react';\r\nimport classes from './../FriendsList.module.css';\r\nimport { NavLink } from 'react-router-dom';\r\nimport defaultPhoto from '../../../../images/user-logo.png';\r\n\r\nconst Friend = ({photo, friendName, id, children}) => {\r\n    return (\r\n        <div className={classes.friend}>\r\n            <NavLink to={'/profile/' + id } title={friendName}><img src={photo ? photo : defaultPhoto} className={classes.userLogo} alt=''/> {children}</NavLink>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Friend;","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport classes from './FriendsList.module.css';\r\nimport Friend from './Friend/Friend';\r\nimport {getFriends} from '../../../redux/users-reducer'\r\nimport { getRandomArr } from '../../../Utils/Array-changers';\r\n\r\nclass FriendsList extends React.Component {\r\n    constructor (props) {\r\n        super(props);\r\n        this.state = {friendsList: []}\r\n    }\r\n    componentDidMount () {\r\n        this.props.getFriends();\r\n    }\r\n    componentDidUpdate (prevProps) {\r\n        if (this.props.friends && prevProps.friends !== this.props.friends) {\r\n            this.setState({friendsList : getRandomArr(this.props.friends.map (friend =>\r\n            <Friend friendName={friend.name} photo={friend.photos.small} key={friend.id} id = {friend.id}/>), 8)})\r\n        }\r\n    }\r\n    render () {return (\r\n        <div>\r\n            <div className={classes.friendsList}>\r\n                {this.state.friendsList}\r\n            </div>\r\n        </div>\r\n    )}\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        friends: state.usersPage.friends\r\n    }\r\n}\r\n\r\nconst FriendsListContainer = connect(mapStateToProps, {getFriends})(FriendsList);\r\n\r\nexport default FriendsListContainer;","import React from 'react';\r\nimport classes from './Navbar.module.css';\r\nimport FriendsListContainer from './FriendsList/FriendsList-container';\r\n\r\nconst RightNavbar = () => {\r\n    return (\r\n        <nav className={classes.right + ' ' + classes.navbar}>\r\n            <FriendsListContainer/>\r\n        </nav>\r\n    );\r\n}\r\n\r\n\r\nexport default RightNavbar;","import { getNewsFromServer } from './../api/api';\r\n\r\nconst initialState = {\r\n    news: [],\r\n    newsCount: null,\r\n    isFetching: false\r\n}\r\n\r\nconst setNews = (news, newsCount) => ({type: 'SET_NEWS', news, newsCount});\r\nconst toggleFetching = (isFetching) => ({type: 'TOGGLE_FETCHING', isFetching});\r\n\r\nconst TOGGLE_FETCHING = 'TOGGLE_FETCHING';\r\nconst SET_NEWS = 'SET_NEWS';\r\n\r\nexport const newsReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SET_NEWS :\r\n            return {...state, news: action.news, newsCount: action.newsCount};\r\n        case TOGGLE_FETCHING :\r\n            return {...state, isFetching: action.isFetching}\r\n        default: return state\r\n    }\r\n}\r\n\r\nexport const getNews = () => {\r\n    return async (dispatch) => {\r\n        dispatch(toggleFetching(true));\r\n        let news = await getNewsFromServer();\r\n        if (news.status === 'ok') {\r\n            dispatch(setNews(news.articles, news.totalResults));\r\n        }\r\n        dispatch(toggleFetching(false));\r\n    }\r\n}\r\n","import React from 'react';\r\nimport { Button } from 'semantic-ui-react';\r\nimport classes from './News.module.css';\r\nimport moment from 'moment'\r\n\r\nconst Article = ({title, description, date, author, image, url}) => {\r\n\r\n    let postDate = new Date(date);\r\n    return (\r\n        <article className={classes.article}>\r\n            <>\r\n                <h2 className={classes.title}>{title}</h2>\r\n                <p className={classes.date}><span className={classes.semiTitle}>When:</span> {moment(postDate).fromNow()}</p>\r\n                <img className={classes.image} src={image} alt=\"\"/>\r\n                <p>{description}</p>\r\n                <p><span className={classes.semiTitle}>Author:</span> {author}</p>\r\n            </>\r\n            <Button href={url} target=\"blank\" color=\"orange\">Read full article</Button>\r\n        </article>\r\n    )\r\n}\r\n\r\nexport default Article;","import classes from './News.module.css';\r\nimport React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport {getNews} from '../../redux/news-reducer'\r\nimport Article from './Article';\r\nimport Preloader from '../common/Preloader/Preloader';\r\n\r\nclass News extends React.Component {\r\n    componentDidMount () {\r\n        this.props.getNews();\r\n    }\r\n    newsList = [];\r\n    componentDidUpdate (prevProps) {\r\n        if (prevProps.news !== this.props.news) {\r\n            this.newsList = this.props.news.map(newsItem => <Article title={newsItem.title} url={newsItem.url} description={newsItem.description}\r\n                date={newsItem.publishedAt} author={newsItem.author} key={newsItem.publishedAt} image={newsItem.urlToImage}/>)\r\n        }\r\n    }\r\n    \r\n    render() {\r\n        return (\r\n            this.props.isFetching ?\r\n            <Preloader /> :\r\n            <section className={classes.news}>\r\n                {this.newsList}\r\n            </section>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        news: state.newsPage.news,\r\n        newsCount: state.newsPage.newsCount,\r\n        isFetching: state.newsPage.isFetching\r\n    }\r\n}\r\nexport default connect(mapStateToProps, {getNews})(News);","const send_message = 'SEND-MESSAGE';\r\nconst CREATE_NEW_CHAT = 'CREATE_NEW_CHAT';\r\n\r\nexport const sendMessage = (newMessageText, userId) => ({type: send_message, newMessageText, userId});\r\nexport const createNewChat = (userId) => ({type: CREATE_NEW_CHAT, userId})\r\n\r\nconst initialState = {\r\n    dialogs:\r\n        {\r\n            8349 : [{ text: \"Hey, man!\", id: 1, direction: 'from', date: new Date(2020, 9, 10, 12, 34, 23, 0) },\r\n            { text: \"How are you?\", id: 2, direction: 'from', date: new Date(2020, 9, 10, 12, 35, 23, 0) },\r\n            { text: \"Hey! I'm fine. Let's meet today!\", id: 3, direction: 'to', date: new Date(2020, 9, 10, 12, 36, 23, 0) },\r\n            { text: \"How about 8 o'clock?\", id: 4, direction: 'from', date: new Date(2020, 9, 10, 12, 37, 23, 0) },\r\n            { text: \"Ok, great!\", id: 5, direction: 'to', date: new Date(2020, 9, 10, 12, 38, 23, 0) },\r\n            { text: \"See you tomorrow!\", id: 6, direction: 'to', date: new Date(2020, 9, 10, 12, 39, 23, 0) },\r\n            { text: \"Don't forget you umbrella, it's gonna be rainy tomorrow:(\", id: 7, direction: 'from', date: new Date(2020, 9, 10, 12, 42, 23, 0) },\r\n            { text: \"Sure)\", id: 8, direction: 'to', date: new Date(2020, 9, 10, 12, 45, 23, 0) },\r\n            { text: \"You too!\", id: 9, direction: 'to', date: new Date(2020, 9, 10, 12, 51, 23, 0) }],\r\n\r\n            9510 : [{ text: \"Hi!\", id: 1, direction: 'from', date: new Date(2020, 8, 2, 11, 34, 23, 0) },\r\n            { text: \"I have a problem with the hometask:(\", id: 2, direction: 'from', date: new Date(2020, 8, 2, 11, 35, 23, 0) },\r\n            { text: \"Hey! How can I help you?\", id: 3, direction: 'to', date: new Date(2020, 8, 2, 11, 36, 23, 0) },\r\n            { text: \"I don't have materials from last lection(\", id: 4, direction: 'from', date: new Date(2020, 8, 2, 11, 37, 23, 0) },\r\n            { text: \"I'll send you them!\", id: 5, direction: 'to', date: new Date(2020, 8, 2, 11, 38, 23, 0) },\r\n            { text: \"Don't worry!\", id: 6, direction: 'to', date: new Date(2020, 8, 2, 11, 39, 23, 0) },\r\n            { text: \"You're saving me!\", id: 7, direction: 'from', date: new Date(2020, 8, 2, 11, 40, 23, 0) },\r\n            { text: \"Thank you)\", id: 8, direction: 'from', date: new Date(2020, 8, 2, 11, 41, 23, 0) },\r\n            { text: \"No problem)\", id: 9, direction: 'to', date: new Date(2020, 8, 2, 11, 45, 23, 0) }],\r\n\r\n            7180 : [{ text: \"psss\", id: 1, direction: 'from', date: new Date(2020, 9, 12, 11, 34, 23, 0) },\r\n            { text: \"How are you?\", id: 2, direction: 'from', date: new Date(2020, 9, 12, 12, 34, 23, 0) },\r\n            { text: \"I'm great! Wanna meet today?\", id: 3, direction: 'to', date: new Date(2020, 9, 12, 13, 34, 23, 0) },\r\n            { text: \"How about 5 o'clock?\", id: 4, direction: 'from', date: new Date(2020, 9, 12, 14, 34, 23, 0) },\r\n            { text: \"Ok, great!\", id: 5, direction: 'to', date: new Date(2020, 9, 12, 15, 34, 23, 0)  },\r\n            { text: \"See you soon!\", id: 6, direction: 'to', date: new Date(2020, 9, 12, 16, 34, 23, 0) },\r\n            { text: \"Take some snacks, please)\", id: 7, direction: 'from', date: new Date(2020, 9, 12, 17, 34, 23, 0) },\r\n            { text: \"Ok, I'm hungry too)\", id: 8, direction: 'to', date: new Date(2020, 9, 12, 18, 34, 23, 0) },\r\n            { text: \"Prepare yourself!)\", id: 9, direction: 'to', date: new Date(2020, 9, 12, 19, 34, 23, 0) }],\r\n\r\n            7084 : [{ text: \"Hi, darling\", id: 1, direction: 'to', date: new Date(2020, 9, 10, 11, 34, 23, 0) },\r\n            { text: \"Hi, cutee!)\", id: 2, direction: 'from', date: new Date(2020, 9, 10, 11, 34, 25, 0) },\r\n            { text: \"I miss you! How about tomorrow? Have some plans?\", id: 3, direction: 'to', date: new Date(2020, 9, 10, 11, 35, 23, 0) },\r\n            { text: \"I have a huge load of crap on my job(( \", id: 4, direction: 'from', date: new Date(2020, 9, 10, 11, 36, 23, 0) },\r\n            { text: \"Maybe on monday?\", id: 5, direction: 'from', date: new Date(2020, 9, 10, 11, 37, 23, 0) },\r\n            { text: \"Sure, why not))\", id: 6, direction: 'to', date: new Date(2020, 9, 10, 11, 40, 23, 0) },\r\n            { text: \"So, will see you on monday:(\", id: 7, direction: 'from', date: new Date(2020, 9, 10, 11, 42, 23, 0) },\r\n            { text: \"Can't wait)\", id: 8, direction: 'from', date: new Date(2020, 9, 10, 11, 44, 23, 0) },\r\n            { text: \"Me too!\", id: 9, direction: 'to', date: new Date(2020, 9, 10, 11, 46, 23, 0) }],\r\n\r\n            11753 : [{ text: \"Hey, man!\", id: 1, direction: 'from', date: new Date(2020, 9, 5, 11, 34, 23, 0) },\r\n            { text: \"Have some news?\", id: 2, direction: 'from', date: new Date(2020, 9, 5, 11, 34, 27, 0) },\r\n            { text: \"Nope, sorry(\", id: 3, direction: 'to', date: new Date(2020, 9, 5, 11, 34, 35, 0) },\r\n            { text: \"Okay, I'll wait)\", id: 4, direction: 'from', date: new Date(2020, 9, 5, 11, 34, 47, 0) },\r\n            { text: \"Good news! Your photos are ready. You can get them tomorrow in the office from 9 till 17 o'clock!\", id: 5, direction: 'to', date: new Date(2020, 9, 5, 11, 34, 53, 0) },\r\n            { text: \"Great!\", id: 6, direction: 'from', date: new Date(2020, 9, 5, 11, 35, 23, 0) },\r\n            { text: \"I'll come on the afternoon\", id: 7, direction: 'from', date: new Date(2020, 9, 5, 11, 37, 23, 0) },\r\n            { text: \"Okay\", id: 8, direction: 'to', date: new Date(2020, 9, 5, 11, 45, 23, 0) },\r\n            { text: \"Don't forget passport!\", id: 9, direction: 'to',date: new Date(2020, 9, 5, 13, 34, 23, 0) },\r\n            { text: \"Sure!\", id: 10, direction: 'from', date: new Date(2020, 9, 6, 11, 34, 23, 0) }]\r\n        }\r\n    };\r\nconst dialogsReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case send_message :\r\n            let newMessage = {\r\n                text: action.newMessageText,\r\n                id: state.dialogs[action.userId].length > 0 ? state.dialogs[action.userId][state.dialogs[action.userId].length - 1].id + 1 : 1,\r\n                direction: 'to',\r\n                date: new Date()\r\n            };\r\n            console.log(newMessage);\r\n            return {...state,\r\n                        dialogs: {...state.dialogs, [action.userId] : state.dialogs[action.userId].concat(newMessage)}};\r\n        case CREATE_NEW_CHAT:\r\n            return {...state, \r\n                dialogs: {...state.dialogs, [action.userId] : []}};\r\n        default: return state;\r\n    }\r\n}\r\n\r\nexport default dialogsReducer;","import React from 'react';\r\nimport classes from './../Dialogs.module.css';\r\nimport { NavLink } from 'react-router-dom';\r\nimport cn from 'classnames'\r\n\r\nconst Chats = (props) => {\r\n    let dialogs = props.dialogs.map ( dialog => {\r\n        let name = '';\r\n        let photo = '';\r\n        props.friends.forEach((friend) => {\r\n            if (friend.id == dialog) {\r\n                name = friend.name;\r\n                photo = friend.photos.small;\r\n            }\r\n        })\r\n        return (<div className={cn (classes.buddy, props.userId === dialog && classes.selectedUser)} key={dialog}>\r\n        <img className={classes.dialogImage} src={photo} alt=''/>\r\n        <NavLink to={\"/dialogs/\" + dialog} activeClassName={classes.active}>{name}</NavLink>\r\n    </div>)}\r\n    );\r\n    return (\r\n        <div className={classes.buddies}>\r\n            {dialogs}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Chats;","import React from 'react';\r\nimport { useEffect } from 'react';\r\nimport { useRef } from 'react';\r\nimport classes from './../Dialogs.module.css';\r\nimport moment from 'moment'\r\n\r\nconst Messages = ({ messages }) => {\r\n    let endOfMessages = useRef(null);\r\n    const scrollToBottom = () => {\r\n        endOfMessages.current.scrollIntoView(false);\r\n    }\r\n    useEffect(() => {scrollToBottom()}, [messages, endOfMessages]);\r\n    return (\r\n        <div className={classes.messagesContainer}>\r\n            <div className={classes.messages}>\r\n                {!!messages && messages.map(message =>\r\n\r\n                    <div key={message.id} className={classes.message + ' ' + (message.direction === 'from' ? classes.from : classes.to)}>\r\n                        <div>{message.text}</div>\r\n                        <div className={classes.messageDate}>{moment(message.date).fromNow()}</div>\r\n                    </div>)}\r\n\r\n                <div ref={endOfMessages}/>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Messages;","import React from 'react';\r\nimport classes from './Form-controls.module.css';\r\n\r\nconst FormControl = ({meta, children}) => {\r\n    const hasError = meta.error && meta.touched;\r\n    return (\r\n        <div className={classes.formControl + ' ' + (hasError && classes.hasError)}>\r\n            {children}\r\n            <span className={classes.errorMessage}>{hasError && meta.error}</span>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport const Textarea = (props) => {\r\n    const {input, meta, innerText, ...restProps} = props;\r\n    return (\r\n        <FormControl {...props}> <span className={classes.innerText}>{innerText}</span>\r\n        <textarea className={!!innerText && classes.wideTextarea} {...input} {...restProps}/> </FormControl>\r\n    )\r\n}\r\nexport const Input = (props) => {\r\n    const {input, meta, innerText, ...restProps} = props;\r\n    return (\r\n        <FormControl {...props}> <span className={classes.innerText}>{innerText}</span>\r\n        <input className={!!innerText && classes.wideInput}{...input} {...restProps}/> </FormControl>\r\n    )\r\n}\r\n","export const required = (data) => {\r\n    return data ? undefined : 'Field is required';\r\n}\r\nexport const maxLength = (length) => {\r\n    return ((data) => {\r\n        return !data ? undefined\r\n        : data.length > length ? `Max length is ${length} symbols` : undefined\r\n    })\r\n}\r\nexport const isWebSite = (data) => {\r\n    if (!data) return undefined;\r\n    return ((data.includes('https://') || data.includes('http://')) && data.indexOf('.') > 8 && data.indexOf('.') < data.length - 2) ? undefined : 'Incorrect website name';\r\n}","import React from 'react';\r\nimport { Field, reduxForm } from 'redux-form';\r\nimport { Button } from 'semantic-ui-react';\r\nimport classes from '../Dialogs.module.css';\r\nimport { Textarea } from './../../common/Form-controls/Form-controls';\r\nimport { maxLength } from './../../common/Form-controls/Form-validators';\r\n\r\nconst maxLength200 = maxLength (200);\r\n\r\n\r\nconst NewMessage = (props) => {\r\n    const ifEnterSend = (key) => {\r\n        if (key.keyCode === 13) {\r\n            key.preventDefault();\r\n            props.handleSubmit();\r\n        }\r\n    }\r\n    return (\r\n        <form onSubmit={props.handleSubmit} className={classes.newMessage}>\r\n            <Field component={Textarea} onKeyDown={(key) => {ifEnterSend(key)}} className={classes.newMessageText} placeholder=\"Write your message here...\"\r\n            name=\"newMessageText\" validate={[maxLength200]}/>\r\n            <Button disabled={!props.dirty} className={classes.send} color=\"purple\" type=\"submit\">Send</Button>\r\n        </form>\r\n    )\r\n}\r\n\r\nconst NewMessageRedux = reduxForm({form: \"newMessageForm\"})(NewMessage);\r\n\r\nexport default NewMessageRedux;","import React from 'react';\r\nimport classes from './Dialogs.module.css';\r\nimport Chats from './Chats/Chats';\r\nimport Messages from './Messages/Messages';\r\nimport NewMessageRedux from './New-message/NewMessage';\r\n\r\nconst Dialogs = (props) => {\r\n    let userId = props.match.params.userID;\r\n    if (!userId || (props.friends.length > 0 && !props.friends.some(friend => friend.id == userId))) {\r\n        props.history.push('/dialogs/' + Object.keys(props.dialogs)[0]);\r\n    } else {\r\n        if (!!userId && !Object.keys(props.dialogs).includes(userId)) {\r\n            props.createNewChat(userId)\r\n        }\r\n    }\r\n    return (\r\n        <div className={classes.dialogs}>\r\n            <div className={classes.chat}>\r\n                <Messages messages={props.dialogs[userId]} />\r\n                <NewMessageRedux onSubmit={(data) => { props.sendMessage(data.newMessageText, userId); props.reset('newMessageForm')}}/>\r\n            </div>\r\n\r\n            <Chats dialogs={Object.keys(props.dialogs)} userId={userId} friends={props.friends} />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Dialogs;","import React from 'react';\r\nimport { Redirect } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\n\r\nlet mapStateToPropsForRedirect = (state) => {\r\n    return {isAuth: state.auth.isAuth}\r\n}\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n    let RedirectComponent = (props) => {\r\n        if (!props.isAuth) {return <Redirect to='/login'/>;}\r\n        return <Component {...props} />\r\n        }\r\n    let ConnectedRedirectComponent = connect (mapStateToPropsForRedirect)(RedirectComponent);\r\n    return ConnectedRedirectComponent;\r\n}","import { sendMessage, createNewChat } from '../../redux/dialogs-reducer';\r\nimport Dialogs from './Dialogs';\r\nimport { connect } from 'react-redux';\r\nimport { withAuthRedirect } from '../../hoc/withAuthRedirect';\r\nimport { compose } from 'redux';\r\nimport { reset } from 'redux-form';\r\nimport { withRouter } from 'react-router-dom';\r\n\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        dialogs: state.messagesPage.dialogs,\r\n        friends: state.usersPage.friends\r\n    }\r\n}\r\n\r\nexport default compose(withRouter, connect(mapStateToProps, {sendMessage, createNewChat, reset}), withAuthRedirect)(Dialogs);","import React from 'react';\r\nimport { reduxForm, Field } from 'redux-form';\r\nimport classes from './EditProfile.module.css';\r\nimport { useState, useEffect } from 'react';\r\nimport { isWebSite } from '../../../common/Form-controls/Form-validators';\r\nimport Preloader from '../../../common/Preloader/Preloader';\r\nimport { Input, Textarea } from '../../../common/Form-controls/Form-controls';\r\nimport { Button } from 'semantic-ui-react';\r\n\r\nconst EditProfile = ({ profile, updatingProfileInProcess, handleSubmit, isOwner, ...props }) => {\r\n\r\n    let [lookingForAJob, setLookingForAJob] = useState(true);\r\n    useEffect(() => { setLookingForAJob(profile.lookingForAJob) }, [profile.lookingForAJob])\r\n    useEffect(() => {\r\n        !isOwner && updatingProfileInProcess(false);\r\n    }, [isOwner, updatingProfileInProcess])\r\n    let contacts = Object.keys(profile.contacts).map(contact => <div key={contact} className={classes.contact}>\r\n        <Field innerText={contact} name={\"contacts.\" + contact} component={Input} validate={[isWebSite]} /></div>)\r\n\r\n    return (\r\n        <form className={classes.profileForm} onSubmit={handleSubmit}>\r\n            <div>{props.error && props.error}</div>\r\n            <div className={classes.shortInput}><Field innerText=\"Full name\" name=\"fullName\" component={Input} placeholder=\"Your name\" /> </div>\r\n\r\n            <div className={classes.formRow}><span className={classes.semiBold}>Looking for a job: </span>\r\n                <Field className={classes.bigCheckbox} name=\"lookingForAJob\" checked={lookingForAJob} onChange={(e) => { setLookingForAJob(!lookingForAJob) }}\r\n                    component={Input} type=\"checkbox\" /> </div>\r\n\r\n            <div className={classes.shortInput}><Field disabled={!lookingForAJob} innerText=\"Professional skills\" name=\"lookingForAJobDescription\"\r\n                component={Input} placeholder=\"Your professional skills\" /></div>\r\n\r\n            <div className={classes.aboutMe}><Field innerText=\"About me\" name=\"aboutMe\" component={Textarea} /></div>\r\n            <div><span className={classes.semiBold}>Contacts:</span></div>\r\n            <div className={classes.contacts}>{contacts}</div>\r\n\r\n            <div className={classes.bottomSection}>\r\n                {props.updateFetching\r\n                    ? <Preloader />\r\n                    :\r\n                \r\n            <Button.Group>\r\n                <Button onClick={()=>{updatingProfileInProcess(false)}}>Cancel</Button>\r\n                <Button.Or />\r\n                <Button color='orange' type=\"submit\">Save</Button>\r\n            </Button.Group>}\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default reduxForm({ form: 'edit-profile' })(EditProfile);","import React from 'react';\r\nimport classes from './ProfileDescription.module.css'\r\nimport cn from 'classnames';\r\n\r\nconst About = ({profile}) => {\r\n    return (\r\n        <div className={cn(classes.descriptionBlock, classes.about)}>\r\n            <h1 className={classes.title}>Information:</h1>\r\n            {profile.lookingForAJob &&<p className={classes.text}><span className={classes.smallTitle}>Professional skills: </span>{profile.lookingForAJobDescription}</p>}\r\n            <p className={classes.text}><span className={classes.smallTitle}>About me:</span> {profile.aboutMe}</p>\r\n        </div>\r\n    )\r\n}\r\nexport default About;","import React from 'react';\r\nimport classes from './ProfileDescription.module.css'\r\nimport cn from 'classnames';\r\nimport { getRandomArr } from '../../../Utils/Array-changers';\r\nimport Friend from './../../Navbar/FriendsList/Friend/Friend';\r\nimport { connect } from 'react-redux';\r\n\r\nconst Friends = ({friends}) => {\r\n    let randomFriends = getRandomArr(friends, 8);\r\n    let friendsArr = randomFriends.map(friend => {\r\n    return <Friend photo={friend[0].photos.small} key={friend[0].id} id = {friend[0].id}><div>{friend[0].name}</div></Friend>\r\n    })\r\n    return (\r\n        <div className={cn(classes.descriptionBlock, classes.friends)} id=\"friends\">\r\n            <h1 className={classes.title}>Friends:</h1>\r\n            <div className={classes.friendsBlock}>\r\n                {friendsArr}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\nexport default connect((state) => ({friends: state.usersPage.friends}))(Friends);","import { getPhotosForAlbum } from './../api/api';\r\n\r\nconst initialState = {\r\n    photos: [],\r\n    numberOfPhotos: 12,\r\n    isFetching: false\r\n}\r\nconst SET_PHOTOS = 'SET_PHOTOS'\r\nconst TOGGLE_FETCHING = 'TOGGLE_FETCHING'\r\n\r\nconst setPhotos = (photos) => ({type: 'SET_PHOTOS', photos})\r\nconst toggleFetching = (isFetching) => ({type: 'TOGGLE_FETCHING', isFetching})\r\n\r\nexport const albumReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SET_PHOTOS :\r\n            return ({...state, photos: action.photos})\r\n        case TOGGLE_FETCHING :\r\n            return ({...state, isFetching: action.isFetching})\r\n        default: return state\r\n    }\r\n}\r\n\r\nexport const getPhotos = (numberOfPhotos, page) => {\r\n    return async (dispatch) => {\r\n        dispatch(toggleFetching(true));\r\n        let photos = await getPhotosForAlbum(numberOfPhotos, page);\r\n        dispatch(setPhotos(photos));\r\n        dispatch(toggleFetching(false));\r\n    }\r\n}","import React from 'react'\r\nimport { Modal, Image } from 'semantic-ui-react';\r\nimport classes from './ProfileDescription.module.css';\r\n\r\nfunction Photo({thumbnail, photo, author}) {\r\n  const [open, setOpen] = React.useState(false)\r\n\r\n  return (\r\n    <Modal\r\n    size=\"large\"\r\n    closeIcon\r\n    dimmer=\"blurring\"\r\n    basic\r\n      open={open}\r\n      trigger={<img className={classes.photo} src={thumbnail} alt=''/>}\r\n      onClose={() => setOpen(false)}\r\n      onOpen={() => setOpen(true)}\r\n    >\r\n      <Modal.Content>\r\n        <Image src={photo} className={classes.fullscreenPhoto}/>\r\n      </Modal.Content>\r\n    </Modal>\r\n  )\r\n}\r\n\r\nexport default Photo\r\n","import React from 'react';\r\nimport classes from './ProfileDescription.module.css';\r\nimport cn from 'classnames';\r\nimport { connect } from 'react-redux';\r\nimport {getPhotos} from '../../../redux/album-reducer'\r\nimport Photo from './Photo';\r\nimport Preloader from '../../common/Preloader/Preloader';\r\n\r\n\r\nclass Photos extends React.Component {\r\n    \r\n    componentDidMount() {\r\n        this.props.getPhotos(this.props.numberOfPhotos, parseInt(this.props.userId[this.props.userId.length - 1]) + 1);\r\n    }\r\n    \r\n    render () {\r\n        return (\r\n        <div className={cn(classes.descriptionBlock, classes.photos)}>\r\n            <h1 className={classes.title}>Album:</h1>\r\n            {\r\n            this.props.isFetching\r\n            ? \r\n            <Preloader /> \r\n            : \r\n            <div className={classes.photosBlock}>{this.props.photos.map((photo, index) => <Photo thumbnail={photo.src.tiny}\r\n                photo={photo.src.large} author={photo.photographer} key={index}/>)}</div>\r\n            }\r\n        </div>)\r\n        }\r\n}\r\nexport default connect(state => ({photos: state.album.photos, numberOfPhotos: state.album.numberOfPhotos, isFetching: state.album.isFetching}), {getPhotos})(Photos);","import React from 'react';\r\nimport classes from './ProfileDescription.module.css';\r\nimport cn from 'classnames';\r\nimport { Button, Icon } from 'semantic-ui-react';\r\n\r\nconst Contacts = ({contacts}) => {\r\n    let profileContacts = Object.keys(contacts).map(\r\n        (contact) => !!contacts[contact] && \r\n                <Button href={contacts[contact]} target='blank' color={contact} key={contact}>\r\n                    <Icon name={contact} /> {contact}\r\n                </Button>)\r\n    return (\r\n        <div id=\"contacts\" className={cn(classes.descriptionBlock, classes.contacts)}>\r\n            <h1 className={classes.title}>Contacts:</h1>\r\n                <Button.Group vertical widths='4'>\r\n                    {profileContacts}\r\n                </Button.Group>\r\n        </div>\r\n    )\r\n}\r\nexport default Contacts;","import React from 'react'\r\nimport { Dropdown, Icon } from 'semantic-ui-react'\r\nimport classes from '../../ProfileDescription.module.css'\r\n\r\nconst PostDropdownMenu = ({deletePost, postId}) => {\r\n    const trigger = (\r\n        <span className={classes.dropdown}>\r\n          <Icon name=\"ellipsis horizontal\"/>\r\n        </span>\r\n      )\r\n      \r\n      const options = [\r\n        { key: 'delete', icon: 'trash alternate', onClick: () => {deletePost(postId)}, content: (<span className={classes.option}>Delete post</span>) }\r\n      ]\r\n\r\n    return (\r\n        <Dropdown pointing='top right' trigger={trigger} options={options} className={classes.menuContainer} icon={null}/>\r\n    )\r\n}\r\n  \r\n\r\nexport default PostDropdownMenu;","import React from 'react';\r\nimport classes from '../../ProfileDescription.module.css';\r\nimport defaultPicture from '../../../../../images/user-logo.png';\r\nimport cn from 'classnames';\r\nimport PostDropdownMenu from './PostDropdownMenu';\r\nimport { Icon, Button, Label } from 'semantic-ui-react';\r\nimport { useState } from 'react';\r\n\r\nconst Post = ({photo, name, date, isOwner, text, likesCount, deletePost, postId, likePost}) => {\r\n    let [liked, setLiked] = useState(false);\r\n    return (\r\n        <div className={cn(classes.post, classes.descriptionBlock)}>\r\n            <div className={classes.postHeader}>\r\n                <div className={classes.author}>\r\n                    <img className={classes.user} src={photo || defaultPicture} alt=\"\"/>\r\n                    <div>\r\n                        <p className={classes.userName}>{name}</p>\r\n                        <p className={classes.date}>{date.toDateString()}</p>\r\n                    </div>\r\n                </div>\r\n                {isOwner && <PostDropdownMenu deletePost={deletePost} postId={postId}/>}\r\n            </div>\r\n            <div className={classes.postText}>\r\n               {text}\r\n            </div>\r\n            <div className={classes.postInfo}>\r\n                <div>\r\n                    <Button circular color='facebook' icon='facebook' target='blank'\r\n                    href={'http://www.facebook.com/sharer.php?s=100&p[summary]=' + encodeURIComponent(text)}/>\r\n                    <Button circular color='twitter' icon='twitter' target='blank'\r\n                    href={'http://twitter.com/share?text=' + encodeURIComponent(text)}/>\r\n                    <Button circular color='vk' icon='vk' target='blank'\r\n                    href={'http://vkontakte.ru/share.php?description=' + encodeURIComponent(text)}/>\r\n                </div>\r\n                <div className={classes.likes}>\r\n                    <Button as='div' labelPosition='right'>\r\n                        <Button basic={liked} color='red' onClick={() => {likePost(postId); setLiked(true)}}>\r\n                            <Icon name='heart' />\r\n                            {liked ? 'Liked' : 'Like'}\r\n                        </Button>\r\n                        <Label as='a' basic color='red' pointing='left'>\r\n                            {likesCount}\r\n                        </Label>\r\n                    </Button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Post;","import React from 'react';\r\nimport classes from '../../ProfileDescription.module.css';\r\nimport { Field, reduxForm } from 'redux-form';\r\nimport { maxLength } from '../../../../common/Form-controls/Form-validators';\r\nimport { Textarea } from '../../../../common/Form-controls/Form-controls';\r\nimport cn from 'classnames';\r\nimport { required } from './../../../../common/Form-controls/Form-validators';\r\nimport { Button } from 'semantic-ui-react';\r\n\r\nconst maxLength500 = maxLength(500);\r\n\r\nconst NewPost = (props) => {\r\n    return (\r\n        <form onSubmit={props.handleSubmit} className={cn(classes.newPost, classes.descriptionBlock)}>\r\n            <Field component={Textarea} name=\"newPostText\" validate={[maxLength500]} \r\n            innerText = \"Write new post here\"/>\r\n            <Button disabled={!props.dirty} color='orange' type=\"submit\">Send</Button>\r\n        </form>\r\n    )\r\n}\r\nexport default reduxForm({form: \"newPost\"})(NewPost);","import React from 'react';\r\nimport Post from './Post/Post';\r\nimport NewPost from './NewPost/NewPost';\r\nimport cn from 'classnames';\r\nimport classes from '../ProfileDescription.module.css'\r\n\r\nconst Posts = ({addPost, deletePost, reset, posts, likePost, ...props}) => {\r\n    let postsList = posts.map(post => <Post  likePost={likePost} key={post.id} isOwner = {props.isOwner} date={post.date} postId={post.id}\r\n        name ={props.name} text={post.message} likesCount={post.likesCount} photo={props.photo} deletePost={deletePost}/>);\r\n    postsList.reverse();\r\n    return (\r\n        <div className={cn(classes.myPosts, classes.posts)} id=\"posts\">\r\n            {!!props.isOwner && <NewPost onSubmit={(data) => {addPost(data.newPostText); reset('newPost')}}/>}\r\n            {postsList}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Posts;","import React from 'react';\r\nimport classes from './ProfileDescription.module.css';\r\nimport EditProfile from './EditProfile/EditProfile';\r\nimport About from './About';\r\nimport Friends from './Friends';\r\nimport Photos from './Photos';\r\nimport Contacts from './Contacts';\r\nimport Posts from './Posts/Posts';\r\n\r\nconst ProfileDescription = ({ profile, isOwner, updatingProfile, updatingProfileInProcess, \r\n    updateProfile, updateFetching, posts, addPost, deletePost, reset, likePost, userId }) => {\r\n    \r\n    return (\r\n        !updatingProfile ?\r\n            <div className={classes.description}>\r\n\r\n                <div>\r\n                    <About profile={profile}/>\r\n                    <Friends />\r\n                </div>\r\n                <Posts isOwner ={isOwner} photo={profile.photos.small} reset = {reset} posts ={posts}\r\n                addPost={addPost} deletePost={deletePost} name={profile.fullName} likePost={likePost}/>\r\n                <div>\r\n                    <Photos userId={userId}/>\r\n                    <Contacts contacts={profile.contacts}/>\r\n                </div>\r\n            </div>\r\n        :\r\n            <EditProfile initialValues={profile} profile={profile} updatingProfile={updatingProfile} updateFetching={updateFetching}\r\n            updatingProfileInProcess={updatingProfileInProcess} isOwner={isOwner} onSubmit={(formData) => {updateProfile(formData, profile.userId)}}/>\r\n    )\r\n}\r\n\r\nexport default ProfileDescription;","import React from 'react';\r\nimport { useState } from 'react';\r\nimport { Button } from 'semantic-ui-react';\r\nimport classes from '../Profile.module.css';\r\nimport { NavLink } from 'react-router-dom';\r\nimport { Link} from \"react-scroll\";\r\n\r\nconst ProfileMenuBar = ({isOwner, updatingProfileInProcess, friends, follow, unfollow, followingUsers, userId}) => {\r\n    let followed = friends.some(friend => friend.id == userId);\r\n    let [pushed, setPushed] = useState(false)\r\n    let followingInProgress = false;\r\n    followingInProgress = followingUsers.some(user => user === userId) ? true : false;\r\n    return (\r\n        <div className={classes.profileMenuBar}>\r\n            <Link to=\"about\" smooth={true} offset={100} duration={500}>\r\n                <div className={classes.profileMenuOption}>About</div>\r\n            </Link>\r\n\r\n            <Link to=\"posts\" smooth={true} offset={100} duration={500}>\r\n                <div className={classes.profileMenuOption}>Posts</div>\r\n            </Link>\r\n\r\n            <div className={classes.divider}></div>\r\n\r\n            <Link to=\"friends\" smooth={true} offset={-30} duration= {500}>\r\n                <div className={classes.profileMenuOption}>Friends</div>\r\n            </Link>\r\n\r\n            <Link to=\"contacts\" smooth={true} offset={-30} duration= {500}>\r\n                <div className={classes.profileMenuOption}>Contacts</div>\r\n            </Link>\r\n\r\n            <div className={classes.actionButtons}>\r\n                {isOwner \r\n                ? <Button size='huge' circular icon='pencil alternate'\r\n                onClick={() => { updatingProfileInProcess(true) }} color='orange'/>\r\n                : <>\r\n                    <NavLink to={'/dialogs/' + userId}>\r\n                        <Button disabled={!followed} size='huge' circular icon='paper plane outline' color='purple'/>\r\n                    </NavLink>\r\n                {followed ?\r\n                    <Button size='huge' loading={followingInProgress} disabled={pushed} onClick={()=>{unfollow(userId); setPushed(true);}} circular icon={pushed ? 'check': 'remove user'} color='pink'/>\r\n                    :\r\n                    <Button size='huge' loading={followingInProgress} disabled={pushed} onClick={()=>{follow(userId); setPushed(true);}} circular icon={pushed ? 'check': 'add user'} color='green'/>}\r\n                </>\r\n                }\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ProfileMenuBar","import React from 'react';\r\nimport { useEffect } from 'react';\r\nimport { useState } from 'react';\r\nimport classes from '../../Profile.module.css';\r\n\r\nconst ProfileStatus = (props) => {\r\n    \r\n    let [editMode, setEditMode] = useState (false);\r\n    let [status, setStatus] = useState (props.status);\r\n\r\n    useEffect(() => {\r\n        setStatus(props.status)\r\n    }, [props.status]);\r\n    const onEditMode = () => {\r\n        setEditMode(true);\r\n    }\r\n    const offEditMode = () => {\r\n        setEditMode(false);\r\n        props.updateStatus(status);\r\n    }\r\n    const changeStatus = (text) => {\r\n        setStatus (text.currentTarget.value);\r\n    }\r\n    return (\r\n        <div className={classes.status}>\r\n            {editMode &&\r\n                <input autoFocus=\"true\" type=\"text\" value={status}\r\n                    onBlur={() => { offEditMode() }} onChange={(e) => { changeStatus(e) }} />}\r\n                {!editMode &&\r\n                    <span onClick={() => {props.isOwner && onEditMode() }}>{props.status || 'No status yet'}</span>}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ProfileStatus;","import React from 'react';\r\nimport classes from '../Profile.module.css';\r\nimport { Icon } from 'semantic-ui-react';\r\nimport user_logo from '../../../images/person-male.png';\r\nimport photoIcon from '../../../images/photo-icon.png';\r\nimport cn from 'classnames';\r\n\r\nconst ProfilePhoto = ({uploadingPhoto, profile, isOwner, savePhoto}) => {\r\n    return (\r\n        <>\r\n                <img id=\"about\" className={cn(classes.ava, uploadingPhoto && classes.bluredPhoto)} src={profile.photos.large || user_logo} alt=\"user avatar\" />\r\n                {isOwner &&\r\n                    <label>\r\n                        <Icon src={photoIcon} name=\"photo\" className={classes.photoIcon} />\r\n                        <input type=\"file\" onChange={(e) => { savePhoto(e.target.files[0]) }} className={classes.invisibleInput} />\r\n                    </label>}\r\n        </>\r\n    )\r\n}\r\nexport default ProfilePhoto;","import React from 'react';\r\nimport classes from '../Profile.module.css';\r\nimport { wallpapers } from '../wallpapers';\r\nimport ProfileStatus from './ProfileStatus/ProfileStatus-hook';\r\nimport ProfilePhoto from './ProfilePhoto';\r\n\r\nconst ProfileTitle = ({isOwner, profile, status, updateStatus, userId, ...restProps}) => {\r\n    return (\r\n        <>\r\n            <img className={classes.wallpaper} src={wallpapers[parseInt(userId) % 10]} alt=\"\" />\r\n            <div className={classes.userPreview} >\r\n                <ProfilePhoto profile={profile} isOwner={isOwner} {...restProps}/>\r\n                <h1 className={classes.fullName}>{profile.fullName}</h1>\r\n                <ProfileStatus status={status} updateStatus={updateStatus} isOwner={isOwner} />\r\n            </div>\r\n        </>\r\n    )\r\n}\r\nexport default ProfileTitle;","import React from 'react';\r\nimport classes from '../Profile.module.css';\r\nimport ProfileMenuBar from './ProfileMenuBar';\r\nimport ProfileTitle from './ProfileTitle';\r\n\r\nconst ProfileHeader = (props) => {\r\n    return (\r\n        <div className={classes.profileHeader}>\r\n            <ProfileTitle {...props}/>\r\n            <ProfileMenuBar isOwner={props.isOwner} updatingProfileInProcess={props.updatingProfileInProcess}\r\n            follow={props.follow}\r\n            unfollow={props.unfollow}\r\n            followingUsers={props.followingUsers}\r\n            friends={props.friends}\r\n            userId={props.userId}/>\r\n        </div>\r\n    )\r\n}\r\nexport default ProfileHeader;","import React from 'react';\r\nimport ProfileDescription from './ProfileDescription/ProfileDescription';\r\nimport classes from './Profile.module.css';\r\nimport ProfileHeader from './ProfileHeader/ProfileHeader';\r\n\r\n\r\n\r\nconst Profile = ({ profile, uploadingPhoto, savePhoto, status, updateStatus, userId, follow, unfollow, friends, getFriends, followingUsers, ...props }) => {\r\n    return (\r\n        <div className={classes.info}>\r\n            <ProfileHeader uploadingPhoto={uploadingPhoto}\r\n            isOwner={props.isOwner}\r\n            savePhoto={savePhoto}\r\n            profile={profile}\r\n            userId={userId}\r\n            status={status}\r\n            updateStatus={updateStatus} \r\n            updatingProfileInProcess = {props.updatingProfileInProcess}\r\n            follow={follow}\r\n            unfollow={unfollow}\r\n            followingUsers={followingUsers}\r\n            friends={friends}/>\r\n\r\n            <ProfileDescription profile={profile} userId={userId} {...props}/>\r\n        </div>\r\n\r\n    )\r\n}\r\n\r\n\r\nexport default Profile;","import { profileAPI } from './../api/api';\r\nimport { stopSubmit } from 'redux-form';\r\n\r\nconst ADD_POST = 'ADD-POST';\r\nconst SET_PROFILE = 'SET-PROFILE';\r\nconst SET_STATUS = 'SET-STATUS';\r\nconst TOGGLE_PRELOADER = 'TOGGLE-PRELOADER';\r\nconst DELETE_POST = 'DELETE-POST';\r\nconst SAVE_PHOTO = 'SAVE_PHOTO';\r\nconst LIKE_POST = 'LIKE_POST';\r\nconst TOGGLE_UPLOADING = 'TOGGLE_UPLOADING';\r\nconst TOGGLE_UPDATING = 'TOGGLE_UPDATING';\r\nconst UPDATING_PROFILE = 'UPDATING_PROFILE';\r\nexport const deletePost = (id) => ({ type: DELETE_POST, id });\r\nexport const addPost = (text) => ({ type: ADD_POST, text });\r\nexport const likePost = (id) => ({ type: LIKE_POST, id });\r\nexport const setProfile = (profile) => ({ type: SET_PROFILE, profile });\r\nexport const setStatus = (status) => ({ type: SET_STATUS, status });\r\nexport const setPhoto = (photos) => ({ type: SAVE_PHOTO, photos });\r\nexport const togglePreloader = (fetching) => { return { type: 'TOGGLE-PRELOADER', fetching } };\r\nexport const toggleUploading = () => { return { type: 'TOGGLE_UPLOADING' } };\r\nconst toggleUpdating = (isFetching) => { return { type: 'TOGGLE_UPDATING', isFetching } };\r\nexport const updatingProfileInProcess = (updating) => { return { type: 'UPDATING_PROFILE', updating } };\r\nconst initialState = {\r\n    profile: null,\r\n    status: '',\r\n    //Hardcoded posts\r\n    posts:\r\n        [{ message: \"Hooks don’t replace your knowledge of React concepts. Instead, Hooks provide a more direct API to the React concepts you already know: props, state, context, refs, and lifecycle. As we will show later, Hooks also offer a new powerful way to combine them.\", id: 1, likesCount: 16, date: new Date(2020, 1, 1) },\r\n        { message: \"Hooks solve a wide variety of seemingly unconnected problems in React that we’ve encountered over five years of writing and maintaining tens of thousands of components. Whether you’re learning React, use it daily, or even prefer a different library with a similar component model, you might recognize some of these problems.\", id: 2, likesCount: 15, date: new Date(2020, 3, 24) },\r\n        { message: \"React doesn’t offer a way to “attach” reusable behavior to a component (for example, connecting it to a store). If you’ve worked with React for a while, you may be familiar with patterns like render props and higher-order components that try to solve this. But these patterns require you to restructure your components when you use them, which can be cumbersome and make code harder to follow. If you look at a typical React application in React DevTools, you will likely find a “wrapper hell” of components surrounded by layers of providers, consumers, higher-order components, render props, and other abstractions. While we could filter them out in DevTools, this points to a deeper underlying problem: React needs a better primitive for sharing stateful logic.\", id: 3, likesCount: 10, date: new Date(2020, 6, 12) },\r\n        { message: \"We’ve often had to maintain components that started out simple but grew into an unmanageable mess of stateful logic and side effects. Each lifecycle method often contains a mix of unrelated logic. For example, components might perform some data fetching in componentDidMount and componentDidUpdate. However, the same componentDidMount method might also contain some unrelated logic that sets up event listeners, with cleanup performed in componentWillUnmount. Mutually related code that changes together gets split apart, but completely unrelated code ends up combined in a single method. This makes it too easy to introduce bugs and inconsistencies.\", id: 4, likesCount: 8, date: new Date(2020, 7, 7) },\r\n        { message: \"In addition to making code reuse and code organization more difficult, we’ve found that classes can be a large barrier to learning React. You have to understand how this works in JavaScript, which is very different from how it works in most languages. You have to remember to bind the event handlers. Without unstable syntax proposals, the code is very verbose. People can understand props, state, and top-down data flow perfectly well but still struggle with classes. The distinction between function and class components in React and when to use each one leads to disagreements even between experienced React developers.\", id: 5, likesCount: 15, date: new Date(2020, 7, 11) },\r\n        { message: \"Additionally, React has been out for about five years, and we want to make sure it stays relevant in the next five years. As Svelte, Angular, Glimmer, and others show, ahead-of-time compilation of components has a lot of future potential. Especially if it’s not limited to templates. Recently, we’ve been experimenting with component folding using Prepack, and we’ve seen promising early results. However, we found that class components can encourage unintentional patterns that make these optimizations fall back to a slower path. Classes present issues for today’s tools, too. For example, classes don’t minify very well, and they make hot reloading flaky and unreliable. We want to present an API that makes it more likely for code to stay on the optimizable path.\", id: 6, likesCount: 20, date: new Date(2020, 8, 12) },\r\n        { message: \"Conceptually, React components have always been closer to functions. Hooks embrace functions, but without sacrificing the practical spirit of React. Hooks provide access to imperative escape hatches and don’t require you to learn complex functional or reactive programming techniques.\", id: 7, likesCount: 13, date: new Date(2020, 9, 12) },\r\n        ],\r\n    fetching: false,\r\n    uploadingPhoto: false,\r\n    updatingProfile: false,\r\n    updateFetching: false\r\n};\r\nconst profileReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case ADD_POST:\r\n            let newPost = {\r\n                message: action.text, id: state.posts[state.posts.length - 1].id + 1, likesCount: 0, date: new Date()\r\n            }\r\n            return {\r\n                ...state,\r\n                posts: [...state.posts, newPost]\r\n            };\r\n        case DELETE_POST:\r\n            return { ...state, posts: state.posts.filter(post => post.id !== action.id) }\r\n        case SET_PROFILE:\r\n            return {\r\n                ...state,\r\n                profile: action.profile\r\n            };\r\n        case LIKE_POST:\r\n            return {\r\n                ...state,\r\n                posts: state.posts.map(post => {\r\n                    post.id === action.id && post.likesCount++;\r\n                    return post;\r\n                })\r\n            };\r\n        case SAVE_PHOTO:\r\n            return { ...state, profile: { ...state.profile, photos: action.photos } }\r\n        case SET_STATUS:\r\n            return {\r\n                ...state,\r\n                status: action.status\r\n            };\r\n        case TOGGLE_PRELOADER:\r\n            return {\r\n                ...state,\r\n                fetching: action.fetching\r\n            };\r\n        case TOGGLE_UPLOADING:\r\n            return {\r\n                ...state,\r\n                uploadingPhoto: !state.uploadingPhoto\r\n            };\r\n        case TOGGLE_UPDATING:\r\n            return {\r\n                ...state,\r\n                updateFetching: action.isFetching\r\n            };\r\n        case UPDATING_PROFILE:\r\n            return {\r\n                ...state,\r\n                updatingProfile: action.updating\r\n            };\r\n        default: return state;\r\n    }\r\n}\r\n\r\nexport const getProfileWithStatus = (profileId) => {\r\n    return async (dispatch) => {\r\n        dispatch(togglePreloader(true));\r\n        await dispatch(getProfile(profileId));\r\n        await dispatch(getStatus(profileId));\r\n        dispatch(togglePreloader(false));\r\n    }\r\n}\r\nexport const getProfile = (profileId) => {\r\n    return async (dispatch) => {\r\n        let data = await profileAPI.getProfile(profileId);\r\n        dispatch(setProfile(data));\r\n    }\r\n}\r\nexport const getStatus = (profileId) => {\r\n    return async (dispatch) => {\r\n        let data = await profileAPI.getStatus(profileId);\r\n        dispatch(setStatus(data));\r\n    }\r\n}\r\nexport const updateStatus = (status) => {\r\n    return async (dispatch) => {\r\n        let data = await profileAPI.updateStatus(status)\r\n        if (data.resultCode === 0) {\r\n            dispatch(setStatus(status));\r\n        }\r\n    }\r\n}\r\nexport const savePhoto = (photoFile) => {\r\n    return async (dispatch) => {\r\n        dispatch(toggleUploading());\r\n        let response = await profileAPI.uploadPhoto(photoFile);\r\n        if (response.resultCode === 0) dispatch(setPhoto(response.data.photos));\r\n        dispatch(toggleUploading());\r\n    }\r\n}\r\nexport const updateProfile = (data, me) => {\r\n    \r\n    const parseErrorObject = (errors) => {\r\n        let errorsObject = {};\r\n        errors.forEach((error) => {\r\n            let element = '';\r\n            let message = '';\r\n            let errorInArray = error.split(' ');\r\n            let lastElement = errorInArray[errorInArray.length - 1];\r\n            if (lastElement.search(/->/) > 0) {\r\n                element = lastElement.slice(lastElement.search(/->/) + 2, -1)\r\n                element = 'contacts.' + element[0].toLowerCase() + element.substring(1);\r\n            } else {\r\n                element = lastElement.slice(1, -1);\r\n                element = element[0].toLowerCase() + element.substring(1);\r\n            }\r\n            message = error.split('(')[0];\r\n\r\n            errorsObject[element] = message;\r\n            console.log(errorsObject);\r\n        })\r\n        return errorsObject;\r\n    }\r\n    return async (dispatch) => {\r\n        dispatch(toggleUpdating(true));\r\n        let response = await profileAPI.setProfile(data);\r\n        if (response.resultCode === 0) {\r\n            dispatch(getProfile(me));\r\n            dispatch(updatingProfileInProcess(false))\r\n        } else {\r\n            dispatch(stopSubmit('edit-profile', parseErrorObject(response.messages)))\r\n        }\r\n        dispatch(toggleUpdating(false));\r\n    }\r\n}\r\nexport default profileReducer;","import React from 'react';\r\nimport Profile from './Profile';\r\nimport { getProfileWithStatus, addPost, togglePreloader, updateStatus, savePhoto, updatingProfileInProcess, updateProfile, deletePost, likePost } from './../../redux/profile-reducer';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport Preloader from './../common/Preloader/Preloader';\r\nimport { compose } from 'redux';\r\nimport { reset } from 'redux-form';\r\nimport { withAuthRedirect } from './../../hoc/withAuthRedirect';\r\nimport { follow, unfollow } from './../../redux/users-reducer';\r\n\r\n\r\nclass ProfileContainer extends React.Component {\r\n    constructor (props) {\r\n        super(props);\r\n        this.state = {\r\n            isOwner : false,\r\n        }\r\n    }\r\n    \r\n    refreshProfile () {\r\n        let userId = this.props.match.params.userID || this.props.me;\r\n        !userId && this.props.history.push('/login');\r\n        if (userId === this.props.me) {\r\n            this.setState({isOwner : true});\r\n        } else {\r\n            this.setState({isOwner : false});\r\n        }\r\n        this.props.getProfileWithStatus(userId);\r\n        window.scrollTo(0,0);\r\n    }\r\n    componentDidMount() {\r\n        this.refreshProfile();\r\n    }\r\n    componentDidUpdate(prevProps) {\r\n        if ((this.props.match.params.userID !== prevProps.match.params.userID) || (this.props.me !== prevProps.me)) {\r\n            this.refreshProfile();\r\n        }\r\n    }\r\n    render() {\r\n        if (this.props.fetching || !this.props.profile) { return <Preloader /> }\r\n        return <Profile {...this.props} userId={this.props.match.params.userID || this.props.me} isOwner={this.state.isOwner}/>\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        profile: state.profilePage.profile,\r\n        posts: state.profilePage.posts,\r\n        fetching: state.profilePage.fetching,\r\n        status: state.profilePage.status,\r\n        me: state.auth.id,\r\n        uploadingPhoto: state.profilePage.uploadingPhoto,\r\n        updatingProfile: state.profilePage.updatingProfile,\r\n        updateFetching: state.profilePage.updateFetching,\r\n        friends: state.usersPage.friends,\r\n        followingUsers: state.usersPage.followingUsers\r\n    }\r\n}\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, { getProfileWithStatus, addPost, deletePost, likePost, togglePreloader, updateStatus,\r\n        savePhoto, updatingProfileInProcess, updateProfile, reset, follow, unfollow}),\r\n    withRouter, withAuthRedirect)(ProfileContainer);","import React from 'react'\r\nimport { Dropdown, Image } from 'semantic-ui-react'\r\n\r\nimport { NavLink } from 'react-router-dom';\r\nimport classes from './Header.module.css'\r\n\r\nconst UserMenu = (props) => {\r\n    const trigger = (\r\n        <span className={classes.dropdownMenu}>\r\n          <Image avatar src={props.photo} /> {props.name}\r\n        </span>\r\n      )\r\n      \r\n      const options = [\r\n        {\r\n          key: 'user',\r\n          text: (\r\n            <span className={classes.menuTitle}>\r\n              Signed in as <strong>{props.login}</strong>\r\n            </span>\r\n          ),\r\n          disabled: true,\r\n        },\r\n        { key: 'profile', icon: 'user', content: (<NavLink className={classes.option} to=\"/profile\">Account</NavLink>) },\r\n        { key: 'sign-out', icon: 'sign out', content: (<span className={classes.option} onClick={props.logout}>Log Out</span>) }\r\n      ]\r\n\r\n    return (\r\n        <Dropdown pointing='top right' trigger={trigger} floating options={options} className={classes.menuContainer}/>\r\n    )\r\n}\r\n  \r\n\r\nexport default UserMenu;","import classes from './Header.module.css';\r\nimport React, { useState } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { Icon } from 'semantic-ui-react';\r\n\r\nconst Search = (props) => {\r\n    let [term, setTerm] = useState('');\r\n    const searchUser = (key) => {\r\n        if (key.keyCode === 13 && term.length > 0) {\r\n            props.history.push('/users/' + term);\r\n            setTerm('');\r\n        } \r\n    } \r\n    return (\r\n        <div className={classes.searchBar}>\r\n        <input value={term} placeholder=\"Search people here\" onKeyDown={e => {searchUser(e)}} \r\n        onChange={(e) => {setTerm(e.currentTarget.value)}} className={classes.searchField}/>\r\n        <div className={classes.iconContainer}><Icon name=\"sistrix\" className={classes.searchIcon}/></div>\r\n        </div>\r\n    )\r\n    \r\n} \r\n\r\nexport default withRouter(Search);","import React from 'react';\r\nimport classes from './Header.module.css';\r\nimport { NavLink } from 'react-router-dom';\r\nimport UserMenu from './UserMenu';\r\nimport Search from './Search';\r\nconst Header = (props) => {\r\n    let location = props.location.pathname.split('/')[1];\r\n    return (\r\n        <header className={classes.header + ' ' + classes.horizontalBar}>\r\n            <div className={classes.logo}></div>\r\n            <div className={classes.currentPageName}>{location.charAt(0).toUpperCase() + location.slice(1).toLowerCase() + ' page'}</div>\r\n            <Search />\r\n                {props.login\r\n                ? <UserMenu photo ={props.photo} name={props.name} logout={props.logout} login={props.login}/>\r\n                : <NavLink className={classes.login} to=\"/login\">Login</NavLink>}\r\n        </header>\r\n    );\r\n}\r\n\r\nexport default Header;","import { authAPI, profileAPI } from \"../api/api\";\r\nimport { resetSection, stopSubmit } from \"redux-form\";\r\n\r\nlet initialState = {\r\n    id: null,\r\n    email: null,\r\n    login: null,\r\n    name: null,\r\n    photo: null,\r\n    isAuth: false,\r\n    captcha: null, \r\n    isFetching: false\r\n}\r\n\r\nexport const setUserData = (id, email, login, isAuth) => ({ type: 'SET-USER-DATA', payload: {id, email, login, isAuth} });\r\nconst SET_USER_DATA = 'SET-USER-DATA';\r\nexport const setUserInfo = (name, photo) => ({ type: 'SET_USER_INFO', payload: {name, photo} });\r\nconst SET_USER_INFO = 'SET_USER_INFO';\r\nconst setCaptchaPicture = (captcha) => ({type: 'SET_CAPTCHA_PICTURE', payload: {captcha}});\r\nconst SET_CAPTCHA_PICTURE = 'SET_CAPTCHA_PICTURE';\r\nconst toggleIsFetching = (isFetching) => ({type: 'TOGGLE_IS_FETCHING', payload: {isFetching}});\r\nconst TOGGLE_IS_FETCHING = 'TOGGLE_IS_FETCHING';\r\n\r\nlet authReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n\r\n        case SET_USER_DATA: \r\n        case SET_USER_INFO:\r\n        case SET_CAPTCHA_PICTURE:\r\n        case TOGGLE_IS_FETCHING:\r\n            return {...state, ...action.payload}\r\n\r\n        default: return state;\r\n    }\r\n}\r\n\r\nexport const auth = () => {\r\n    return (dispatch) => {\r\n        return authAPI.auth().then((data) => {\r\n            if (data.resultCode === 0) {\r\n                dispatch(setUserData(data.data.id, data.data.email, data.data.login, true));\r\n                profileAPI.getProfile(data.data.id).then((data) => {\r\n                    dispatch(setUserInfo(data.fullName, data.photos.small));\r\n                })\r\n                dispatch(setCaptchaPicture(null));\r\n            }\r\n            dispatch(toggleIsFetching(false));\r\n        })\r\n    }\r\n}\r\nexport const login = (email, password, rememberMe, captcha) => {\r\n    return async (dispatch) => {\r\n        dispatch(toggleIsFetching(true));\r\n        let response = await authAPI.login(email, password, rememberMe, captcha);\r\n        dispatch(resetSection('loginForm', ['captcha']))\r\n        if (response.resultCode === 0) {\r\n            dispatch(auth());\r\n        } else {\r\n            dispatch(stopSubmit(\"loginForm\", { _error: response.messages[0] }));\r\n            response.resultCode === 10 && dispatch(getCaptcha());\r\n            dispatch(toggleIsFetching(false));\r\n        }\r\n    }\r\n}\r\nconst getCaptcha = () => {\r\n    return async (dispatch) => {\r\n        let response = await authAPI.getCaptcha();\r\n        dispatch(setCaptchaPicture(response.url));\r\n    }\r\n}\r\nexport const logout = () => {\r\n    return async (dispatch) => {\r\n        let response = await authAPI.logout()\r\n        if (response.resultCode === 0) {\r\n            dispatch(setUserData(null, null, null, false));\r\n            dispatch(setUserInfo(null, null));\r\n        }\r\n    }\r\n}\r\n\r\nexport default authReducer;","import Header from './Header';\r\nimport { logout } from './../../redux/auth-reducer';\r\nimport { connect } from 'react-redux';\r\nimport { compose } from 'redux';\r\nimport { withRouter } from 'react-router-dom';\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        id: state.auth.id,\r\n        email: state.auth.email,\r\n        login: state.auth.login,\r\n        name: state.auth.name,\r\n        photo: state.auth.photo\r\n    }\r\n}\r\n\r\nlet HeaderContainer = compose (withRouter, connect (mapStateToProps, {logout}))(Header);\r\n\r\nexport default HeaderContainer;","import React from 'react';\r\nimport classes from './login.module.css'\r\nimport { Field, reduxForm } from 'redux-form';\r\nimport { Redirect } from 'react-router-dom';\r\nimport { Input } from '../common/Form-controls/Form-controls';\r\nimport { required, maxLength } from './../common/Form-controls/Form-validators';\r\nimport { login } from '../../redux/auth-reducer'\r\nimport { connect } from 'react-redux';\r\nimport Preloader from './../common/Preloader/Preloader';\r\nimport { Button } from 'semantic-ui-react';\r\n\r\nconst maxLength30 = maxLength(30);\r\nconst LoginForm = (props) => {\r\n\r\n    return (\r\n        <div className={classes.wrapper}>\r\n            <div className={classes.greetingText}>\r\n                <h1 className={classes.greetingTitle}>Welcome to my Social Network</h1>\r\n                <p>My name is Aleksandr Kirichenko, I'm React developer and this is my simple project of Social Network. \r\n                    Development is still in progress, so some pages and modules are hardcoded or just emulate interaction with server.\r\n                    For acquaintance with this application, please use guest account: kirichenko723@gmail.com, password: test</p>\r\n                <p>I'll be glad to answer all your questions. Contact me:</p>\r\n                <p> +7 (918) 048 14 90 (Viber, WhatsApp, Telegram).</p>\r\n            </div>\r\n\r\n            <form className={classes.loginForm} onSubmit={props.handleSubmit}>\r\n                <h1 className={classes.header}>Login to your Account</h1>\r\n                <div className={classes.formRow}><Field type=\"text\" name=\"email\" component={Input}\r\n                    innerText=\"Email\" validate={[required, maxLength30]} /></div>\r\n                {props.error && <p className={classes.errorMessage}>{props.error}</p>}\r\n                <div className={classes.formRow}><Field type=\"password\" name=\"password\" component={Input}\r\n                    innerText=\"Password\" validate={[required, maxLength30]} /></div>\r\n                <div className={classes.formRow}>\r\n                    <label className={classes.labelForCheckbox}>\r\n                        <Field type=\"checkbox\" name=\"rememberMe\" component=\"input\" className={classes.checkbox} /> remember me\r\n                </label>\r\n                </div>\r\n                {props.captcha &&\r\n                    <div>\r\n                        <img src={props.captcha} alt='captcha' />\r\n                        <div><Field type=\"text\" defaultValue=\"\" component={Input} name=\"captcha\" placeholder=\"Captcha\" validate={[required]} /></div>\r\n                    </div>}\r\n                {props.isFetching ?\r\n                    <Button className={classes.button} loading fluid type=\"submit\">Login</Button> :\r\n                    <Button className={classes.button} fluid type=\"submit\">Login</Button>\r\n                }\r\n            </form>\r\n            \r\n        </div>\r\n    )\r\n}\r\nconst LoginReduxForm = reduxForm({ form: 'loginForm' })(LoginForm);\r\nconst Login = (props) => {\r\n    return props.isAuth ? <Redirect to=\"/profile\" />\r\n        : (\r\n            <div className={classes.loginPage}>\r\n                <LoginReduxForm\r\n                    isFetching={props.isFetching}\r\n                    captcha={props.captcha}\r\n                    onSubmit={(formData) => { props.login(formData.email, formData.password, formData.rememberMe, formData.captcha) }}\r\n                />\r\n            </div>\r\n        )\r\n}\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        isAuth: state.auth.isAuth,\r\n        captcha: state.auth.captcha,\r\n        isFetching: state.auth.isFetching\r\n    }\r\n}\r\nexport default connect(mapStateToProps, { login })(Login);","import { auth } from './auth-reducer';\r\n\r\nconst initializeSuccess = () => {return ({type: INITIALIZE_SUCCESS})}\r\nconst INITIALIZE_SUCCESS = 'INITIALIZE_SUCCESS';\r\n\r\nconst initialState = {\r\n    initialized: false\r\n}\r\nexport const appReducer = (state = initialState, action) => {\r\n    let newState = {...state}\r\n    switch (action.type) {\r\n    case INITIALIZE_SUCCESS :\r\n        newState.initialized = true;\r\n        return newState;\r\n    \r\n    default: return newState;\r\n    }\r\n}\r\n\r\nexport const initializing = () => {\r\n    return async (dispatch) => {\r\n        await dispatch(auth());\r\n        dispatch(initializeSuccess());\r\n    }\r\n}","import React from 'react';\r\nimport classes from '../Header/Header.module.css';\r\n\r\nconst Footer = () => {\r\n    return (\r\n        <footer className={classes.footer + ' ' + classes.horizontalBar}>\r\n            <div className={classes.logo}></div>\r\n        </footer>\r\n    )\r\n}\r\nexport default Footer;\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport Users from './../Users/Users';\r\nimport { follow, unfollow } from './../../redux/users-reducer';\r\n\r\nclass Friends extends React.Component {\r\n    render () {\r\n        return (\r\n            <Users \r\n                users = {this.props.friends}\r\n                follow = {this.props.follow}\r\n                unfollow = {this.props.unfollow}\r\n                isFetching = {this.props.isFetching}\r\n                followingUsers= {this.props.followingUsers}\r\n            />\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    friends: state.usersPage.friends,\r\n    isFetching: state.usersPage.isFetching,\r\n    followingUsers: state.usersPage.followingUsers\r\n})\r\nconst mapDispatchToProps = {follow, unfollow}\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Friends)","import React from 'react';\nimport './App.css';\nimport 'semantic-ui-css/semantic.min.css'\nimport LeftNavbar from './components/Navbar/LeftNavbar';\nimport RightNavbar from './components/Navbar/RightNavbar';\nimport { Route, Switch, Redirect } from 'react-router-dom';\nimport News from './components/News/News';\nimport DialogsContainer from './components/Dialogs/Dialogs-container';\nimport ProfileContainer from './components/Profile/Profile-container';\nimport HeaderContainer from './components/Header/Header-container';\nimport Login from './components/Login/Login';\nimport { initializing } from './redux/app-reducer';\nimport Preloader from './components/common/Preloader/Preloader';\nimport { connect } from 'react-redux';\nimport { withSuspense } from './hoc/withSuspense';\nimport Footer from './components/Footer/Footer';\nimport Friends from './components/Friends/Friends';\n\nconst UsersContainer = React.lazy(() => import('./components/Users/Users-container'));\n\n\nclass App extends React.Component {\n  componentDidMount() {\n    this.props.initializing();\n  }\n  render() {\n    return !this.props.initialized\n      ? <Preloader />\n      : (\n        <div className=\"app-wrapper\">\n          <Switch>\n            <Route path='/login' render={() => <Login />} />\n            <>\n              <Route path = '/' component={HeaderContainer} />\n              <LeftNavbar />\n              <div className=\"content\">\n                <Switch>\n                  <Route exact path='/' render={() => <Redirect to=\"/profile\" />} />\n                  <Route path='/dialogs/:userID?' render={() => <DialogsContainer />} />\n                  <Route path='/profile/:userID?' render={() => <ProfileContainer />} />\n                  {/* \n                  React news page is temporary disabled due to CORS problems\n                  <Route path='/news' component={News} /> */}\n                  <Route path='/friends' component={Friends} />\n                  <Route path='/users/:term?' render={withSuspense(UsersContainer)} />\n                  <Route path='*' render={() => <div><h1>Page not found</h1></div>} />\n                </Switch>\n              </div>\n              <RightNavbar />\n              <Footer />\n            </>\n          </Switch>\n        </div>\n      );\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return ({\n    initialized: state.app.initialized\n  })\n}\nexport default connect(mapStateToProps, { initializing })(App);\n","import React from 'react';\r\nimport Preloader from '../components/common/Preloader/Preloader';\r\n\r\nexport const withSuspense = (Component) => {\r\n    return (props) => \r\n    <React.Suspense fallback={<Preloader/>}>\r\n         <Component {...props} />\r\n    </React.Suspense>\r\n    \r\n}","import { createStore, combineReducers, applyMiddleware, compose } from 'redux';\r\nimport profileReducer from './profile-reducer';\r\nimport dialogsReducer from './dialogs-reducer';\r\nimport usersReducer from './users-reducer';\r\nimport authReducer from './auth-reducer';\r\nimport thunkMiddleware from 'redux-thunk';\r\nimport {reducer as formReducer} from 'redux-form';\r\nimport { appReducer } from './app-reducer';\r\nimport { albumReducer } from './album-reducer';\r\nimport { newsReducer } from './news-reducer';\r\n\r\nlet reducers = combineReducers({\r\n    messagesPage: dialogsReducer,\r\n    profilePage: profileReducer,\r\n    usersPage: usersReducer,\r\n    auth: authReducer,\r\n    form: formReducer,\r\n    app: appReducer,\r\n    album: albumReducer,\r\n    newsPage: newsReducer\r\n})\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducers, composeEnhancers(applyMiddleware(thunkMiddleware)));\r\nwindow.store = store;\r\nexport default store;","import './index.css';\nimport React from 'react';\nimport {render} from 'react-dom';\nimport App from './App';\nimport store from './redux/redux-store';\nimport { Provider } from 'react-redux';\nimport { HashRouter } from 'react-router-dom';\n\nrender(\n    <HashRouter>\n        <Provider store={store}>\n            <App />\n        </Provider>\n    </HashRouter>,\n    document.getElementById('root')\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profileForm\":\"EditProfile_profileForm__3rtCR\",\"contacts\":\"EditProfile_contacts__2GaV9\",\"contact\":\"EditProfile_contact__2JPgL\",\"formRow\":\"EditProfile_formRow__3-UE-\",\"shortInput\":\"EditProfile_shortInput__BCOIr\",\"aboutMe\":\"EditProfile_aboutMe__3Cy1y\",\"buttons\":\"EditProfile_buttons__2uEP0\",\"bottomSection\":\"EditProfile_bottomSection__29LD7\",\"bigCheckbox\":\"EditProfile_bigCheckbox__2Q7N3\"};","import { followAPI, usersAPI } from './../api/api';\r\nimport { changeValuesInArray } from './../Utils/Array-changers';\r\n\r\nconst initialState = {\r\n    users: [],\r\n    friends: [],\r\n    usersTotalCount: 0,\r\n    currentPage: 1,\r\n    pageSize: 100,\r\n    term: 'al',\r\n    paginationButtonsCount: 3,\r\n    isFetching: false,\r\n    followingUsers: []\r\n}\r\n\r\nconst FOLLOW_SUCCESS = 'FOLLOW';\r\nconst UNFOLLOW_SUCCESS = 'UNFOLLOW';\r\nconst SET_USERS = 'SET-USERS';\r\nconst SET_FRIENDS = 'SET_FRIENDS';\r\nconst SET_TERM = 'SET_TERM';\r\nconst INCREASE_PAGE_SIZE = 'INCREASE-PAGE-SIZE';\r\nconst SET_CURRENT_PAGE = 'SET-CURRENT-PAGE';\r\nconst SET_USERS_TOTAL_COUNT = 'SET-USERS-TOTAL-COUNT';\r\nconst TOGGLE_PRELOADER = 'TOGGLE-PRELOADER';\r\nconst TOGGLE_FOLLOWING_BUTTON = 'TOGGLE_FOLLOWING_BUTTON'\r\n\r\nlet usersReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case FOLLOW_SUCCESS:\r\n            return { ...state,\r\n                users: changeValuesInArray(state.users, 'id', action.userId, 'followed', true),\r\n                friends: changeValuesInArray(state.friends, 'id', action.userId, 'followed', true)\r\n         }\r\n        case UNFOLLOW_SUCCESS:\r\n            return { ...state,\r\n                users: changeValuesInArray(state.users, 'id', action.userId, 'followed', false),\r\n                friends: changeValuesInArray(state.friends, 'id', action.userId, 'followed', false) }\r\n        case INCREASE_PAGE_SIZE:\r\n            return { ...state, pageSize: state.pageSize + 5 };\r\n        case SET_CURRENT_PAGE:\r\n            return { ...state, currentPage: action.currentPage };\r\n        case SET_USERS_TOTAL_COUNT:\r\n            return { ...state, usersTotalCount: action.usersTotalCount };\r\n        case SET_USERS:\r\n            return { ...state, users: [...action.users] };\r\n        case SET_FRIENDS:\r\n            return { ...state, friends: [...action.friends] };\r\n        case SET_TERM:\r\n            return { ...state, term: action.term };\r\n        case TOGGLE_PRELOADER:\r\n            return { ...state, isFetching: action.isFetching ? true : false };\r\n        case TOGGLE_FOLLOWING_BUTTON:\r\n            return {\r\n                ...state, followingUsers: state.followingUsers.some((user) => user === action.userId)\r\n                    ? state.followingUsers.filter(user => user !== action.userId)\r\n                    : state.followingUsers.concat(action.userId)\r\n            };\r\n        default: return { ...state };\r\n    }\r\n}\r\n//Action creators\r\nexport const followSuccess = (userId) => { return { type: 'FOLLOW', userId } };\r\nexport const unfollowSuccess = (userId) => { return { type: 'UNFOLLOW', userId } };\r\nexport const setUsers = (users) => { return { type: 'SET-USERS', users } };\r\nexport const setFriends = (friends) => { return { type: 'SET_FRIENDS', friends } };\r\nexport const setTerm = (term) => { return { type: 'SET_TERM', term } };\r\nexport const increasePageSize = () => { return { type: 'INCREASE-PAGE-SIZE' } };\r\nexport const setCurrentPage = (currentPage) => { return { type: 'SET-CURRENT-PAGE', currentPage } };\r\nexport const setUsersTotalCount = (usersTotalCount) => { return { type: 'SET-USERS-TOTAL-COUNT', usersTotalCount } };\r\nexport const togglePreloader = (isFetching) => { return { type: 'TOGGLE-PRELOADER', isFetching } };\r\nexport const toggleFollowingButton = (userId) => { return { type: 'TOGGLE_FOLLOWING_BUTTON', userId } };\r\n\r\n//Thunk creators\r\n\r\nexport const getUsers = (currentPage, pageSize, term) => {\r\n    return async (dispatch) => {\r\n        dispatch(togglePreloader(true));\r\n        let data = await usersAPI.getUsersFromServer(currentPage, pageSize, term);\r\n        dispatch(setUsers(data.items));\r\n        dispatch(setUsersTotalCount(data.totalCount));\r\n        dispatch(togglePreloader(false));\r\n    }\r\n}\r\nexport const getFriends = () => {\r\n    return async (dispatch) => {\r\n        let friends = await usersAPI.getFriendsFromServer();\r\n        dispatch(setFriends(friends.items));\r\n        \r\n    }\r\n}\r\nexport const showMoreUsers = (pageSize) => {\r\n    return async (dispatch) => {\r\n        dispatch(togglePreloader(true));\r\n        dispatch(increasePageSize());\r\n        let data = await usersAPI.getUsersFromServer(1, pageSize + 5)\r\n        dispatch(setUsers(data.items));\r\n        dispatch(togglePreloader(false));\r\n    }\r\n}\r\nexport const follow = (userId) => {\r\n    return async (dispatch) => {\r\n        dispatch(toggleFollowingButton(userId));\r\n        let data = await followAPI.follow(userId);\r\n        if (data.resultCode === 0) {\r\n            dispatch(followSuccess(userId));\r\n            dispatch(toggleFollowingButton(userId));\r\n        }\r\n    }\r\n}\r\nexport const unfollow = (userId) => {\r\n    return async (dispatch) => {\r\n        dispatch(toggleFollowingButton(userId));\r\n        let data = await followAPI.unfollow(userId);\r\n        if (data.resultCode === 0) {\r\n            dispatch(unfollowSuccess(userId));\r\n            dispatch(toggleFollowingButton(userId));\r\n        }\r\n    }\r\n}\r\nexport const onPageChanged = (pageNumber, pageCount, term) => async (dispatch) => {\r\n    dispatch (togglePreloader(true));\r\n    let data = await usersAPI.getUsersFromServer(pageNumber, pageCount, term);\r\n    dispatch(setUsers(data.items));\r\n    dispatch(setCurrentPage(pageNumber));\r\n    dispatch (togglePreloader(false));\r\n\r\n}\r\n\r\nexport default usersReducer;","export const changeValuesInArray = (array, paramSearched, searchedValue, paramToChange, valueToChange) => {\r\n    return array.map((obj) => {\r\n        if (obj[paramSearched] === searchedValue) {\r\n            obj[paramToChange] = valueToChange;\r\n        }\r\n        return obj;\r\n    })\r\n}\r\n\r\nexport const getRandomArr = (arr, elementsCount) => {\r\n    if (arr.length <= elementsCount) {\r\n        return arr\r\n    } else {\r\n        let arrToChange = [...arr];\r\n        let resultArr = [];\r\n        let randomIndex = null;\r\n        for (let i = 0; i < elementsCount; i++) {\r\n            randomIndex = Math.floor(Math.random() * (arrToChange.length));\r\n            resultArr.push(arrToChange.splice(randomIndex, 1));\r\n        }\r\n        return resultArr;\r\n    }\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"news\":\"News_news__20D2q\",\"article\":\"News_article__jKhFh\",\"title\":\"News_title__3ur5G\",\"semiTitle\":\"News_semiTitle__3YeV2\",\"image\":\"News_image__3Dnz1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"description\":\"ProfileDescription_description__1QKl0\",\"descriptionBlock\":\"ProfileDescription_descriptionBlock__3P2a8\",\"title\":\"ProfileDescription_title__m5q96\",\"text\":\"ProfileDescription_text__f-rgZ\",\"smallTitle\":\"ProfileDescription_smallTitle__afrL5\",\"newPost\":\"ProfileDescription_newPost__2rVSV\",\"user\":\"ProfileDescription_user__1r7_5\",\"post\":\"ProfileDescription_post__3CNnB\",\"dropdown\":\"ProfileDescription_dropdown__1VwQO\",\"postText\":\"ProfileDescription_postText__3gRFx\",\"postHeader\":\"ProfileDescription_postHeader__2Hksa\",\"author\":\"ProfileDescription_author__2n9WI\",\"userName\":\"ProfileDescription_userName__2Iy9V\",\"date\":\"ProfileDescription_date__12-mM\",\"postInfo\":\"ProfileDescription_postInfo__3OKpI\",\"likes\":\"ProfileDescription_likes__3rVe9\",\"friendsBlock\":\"ProfileDescription_friendsBlock__dQXvs\",\"photo\":\"ProfileDescription_photo__DD6WX\",\"photosBlock\":\"ProfileDescription_photosBlock__2vOoY\",\"fullscreenPhoto\":\"ProfileDescription_fullscreenPhoto__N-_xD\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"Form-controls_formControl__2oyjK\",\"hasError\":\"Form-controls_hasError__1ymOg\",\"errorMessage\":\"Form-controls_errorMessage__2eCZC\",\"wideInput\":\"Form-controls_wideInput__2KXQf\",\"wideTextarea\":\"Form-controls_wideTextarea__3-CKz\",\"innerText\":\"Form-controls_innerText__i3Fsc\"};"],"sourceRoot":""}